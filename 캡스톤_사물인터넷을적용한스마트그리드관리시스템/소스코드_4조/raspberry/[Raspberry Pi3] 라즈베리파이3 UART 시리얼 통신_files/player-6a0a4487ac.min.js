!function(){'use strict';Function.prototype.bind||(Function.prototype.bind=function(t){if('function'!=typeof this)throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');var e=this,n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}})}(),function(){'use strict';var n=(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).classList='classList'in document.documentElement?{has:function(t,e){return i(t,e,'has'),t.classList.contains(e)},add:function(t,e){i(t,e,'add'),t.classList.add(e)},remove:function(t,e){i(t,e,'remove'),t.classList.remove(e)},toggle:function(t,e){i(t,e,'toggle'),t.classList.toggle(e)}}:{has:function(t,e){return i(t,e,'has'),t.className&&-1<(' '+t.className+' ').lastIndexOf(' '+e+' ')},add:function(t,e){i(t,e,'add'),t.className?n.has(t,e)||(t.className+=' '+e):t.className=e},remove:function(t,e){i(t,e,'remove'),t.className&&(t.className=(' '+t.className+' ').replace(' '+e+' ',' ').replace(/^\s+|\s+$/g,''))},toggle:function(t,e){i(t,e,'toggle'),t.className&&n.has(t,e)?n.remove(t,e):n.add(t,e)}};function i(t,e,n){if(!t)throw new Error('el is not valid, el : '+t+', method : '+n+', className : '+e)}}(),function(t){var r=!1,a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=t.Class=function(){},Class.extend=function(t){var o=this.prototype;r=!0;var e=new this;for(var n in r=!1,t)e[n]='function'==typeof t[n]&&'function'==typeof o[n]&&a.test(t[n])?function(n,i){return function(){var t=this._super;this._super=o[n];var e=i.apply(this,arguments);return this._super=t,e}}(n,t[n]):t[n];function i(){!r&&this.init&&this.init.apply(this,arguments)}return((i.prototype=e).constructor=i).extend=arguments.callee,i}}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),function(){'use strict';(window.daumtools=typeof daumtools==='undefined'?{}:daumtools).Observable=Class.extend({on:function(t,e){for(var n=[].concat(t),i=0,o=n.length;i<o;i++)this.addListener.apply(this,[n[i],e]);return this},addListener:function(t,e){return this.getListeners(t).push(e),this},once:function(t,e){if(e){var n=this,i=function(){n.off(t,i),e.apply(this,arguments)};e.__onetime_listener=i,this.on(t,i)}},emit:function(t){for(var e=[].concat(t),n=[].slice.call(arguments,1),i=0,o=e.length;i<o;i++)this._emit(e[i],n);return this},_emit:function(e,t){var n=this.getListeners(e).slice(0);if(void 0!==n)for(var i=0,o=n.length;i<o;i++)try{n[i].apply(this,t)}catch(t){throw'undefined'!=typeof console&&console.error('failed on while "'+e+'" event, caused by\r\n > '+t),t}},getListeners:function(t){return this.listeners=this.listeners||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t]},off:function(t,e){var n=[].concat(t);e&&'function'==typeof e.__onetime_listener&&(e=e.__onetime_listener);for(var i=0,o=n.length;i<o;i++)this.removeListener.apply(this,[n[i],e]);return e&&'function'==typeof e.__onetime_listener&&delete e.__onetime_listener,this},removeListener:function(t,e){var n=this.getListeners(t);if(void 0!==n)for(var i=0,o=n.length;i<o;i++)if(n[i]===e||n[i].__original__===e){n.splice(i,1);break}return this},destroy:function(){this.listeners=null}})}(),function(){'use strict';(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).offset=function(t){for(var e=t.offsetLeft,n=t.offsetTop,i=t;i.offsetParent&&i.offsetParent!==document.body;)e+=(i=i.offsetParent).offsetLeft,n+=i.offsetTop;return{x:e,y:n}}}(),function(t){'use strict';function u(t){var e={},n=t?t.split(/\.|-|_/):['0','0','0'];return e.info=n.join('.'),e.major=n[0]||'0',e.minor=n[1]||'0',e.patch=n[2]||'0',e}Array.isArray||(Array.isArray=function(t){return'[object Array]'===Object.prototype.toString.call(t)});var l=['crios','fxios','daumapps'];var e=t.userAgent=function(t,e){var n=function(t){return t?t.toLowerCase():'undefined'!=typeof window&&window.navigator&&'string'==typeof window.navigator.userAgent?window.navigator.userAgent.toLowerCase():''}(t);return{ua:n,browser:function(t){var e={},n=/(dolfin)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(tizen)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf('compatible')<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||['','unknown'];return'webkit'===n[1]?n=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||[n[0],'safari',n[2]]:'mozilla'===n[1]?/trident/.test(t)?n[1]='msie':n[1]='firefox':/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&(n[1]='polaris'),e[n[1]]=!0,e.name=n[1],e.version=u(n[2]),e}(n),platform:function(t){return function(t){return!(!t.match(/linux|windows (nt|98)|macintosh|cros/)||t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/))}(t)?'pc':function(t){if(t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/))return!0;return!1}(t)?'tablet':function(t){return!!t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(t)?'mobile':''}(n),os:function(t){var e={},n=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&['','polaris','0.0.0']||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||!!/android/.test(t)&&['','android','0.0.0']||!!/(windows)/.test(t)&&['','windows','0.0.0']||/(mac) os x ([\w._\-]+)/.exec(t)||/(tizen)[ \/]([\w._\-]+);/.exec(t)||!!/(linux)/.test(t)&&['','linux','0.0.0']||!!/webos/.test(t)&&['','webos','0.0.0']||/(cros)(?:\s[\w]+\s)([\d._\-]+)/.exec(t)||/(bada)[ \/]([\w._\-]+)/.exec(t)||!!/bada/.test(t)&&['','bada','0.0.0']||!!/(rim|blackberry|bb10)/.test(t)&&['','blackberry','0.0.0']||['','unknown','0.0.0'];return'iphone'===n[1]||'ipad'===n[1]||'ipod'===n[1]?n[1]='ios':'windows'===n[1]&&'98'===n[2]&&(n[2]='0.98.0'),'cros'===n[1]&&(n[1]='chrome'),e[n[1]]=!0,e.name=n[1],e.version=u(n[2]),e}(n),app:function(t,e){var n={},i=null,o=l;Array.isArray(e)?o=l.concat(e):'string'==typeof e&&(o=l.concat([e]));for(var r=0,a=o.length;r<a;r+=1){var s=o[r];if(i=new RegExp('('+s+')[ \\/]([\\w._\\-]+)').exec(t))break}return(i=i||['',''])[1]?(n.isApp=!0,n.name=i[1],n.version=u(i[2])):n.isApp=!1,n}(n,e)}};'object'==typeof window&&window.navigator.userAgent&&(window.ua_result=e(window.navigator.userAgent)||null)}('object'==typeof exports?(exports.daumtools=exports,exports.util=exports,exports):'object'==typeof window?(window.daumtools=void 0===window.daumtools?{}:window.daumtools,window.util=void 0===window.util?window.daumtools:window.util,window.daumtools):'object'==typeof self?(self.daumtools=void 0===self.daumtools?{}:self.daumtools,self.util=void 0===self.util?self.daumtools:self.util,self):void 0),function(){'use strict';(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).extend=function(t,e,n){for(var i in t=t||{},e)e.hasOwnProperty(i)&&(t[i]&&!n||(t[i]=e[i]));return t}}(),function(){'use strict';(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).event={on:document.addEventListener?function(t,e,n){if(!t)throw'failed to add event. Element: "'+t+'", Event: "'+e+'", handler: '+n.toString();t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent('on'+e,n)},off:document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent('on'+e,n)},preventDefault:function(t){var e=t||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(t){var e=t||window.event;return e.target||e.srcElement}}}(),function(t){t.$=function(t){return document.getElementById(t)},window.Sizzle?t.$$=window.Sizzle:window.jQuery&&window.jQuery.find?t.$$=window.jQuery.find:t.$$=function(t,e){return'object'==typeof e&&e.querySelectorAll?e.querySelectorAll(t):'string'==typeof e?document.querySelectorAll(e+' '+t):document.querySelectorAll(t)}}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(a){'use strict';a.event.delegate=function(i,o,t,r){a.assert&&a.assert(!!i,'failed to delegate event. Element: "'+i+'", Selector: "'+o+'", Event: "'+t+'", handler: '+r.toString()),a.event.on(i,t,function(t){var e=a.event.getTarget(t),n=a.$$(o,i);for(n=Array.prototype.slice.apply(n);e&&e!==i;){if(1===e.nodeType&&-1<n.indexOf(e)){r(t,e);break}e=e.parentNode}})}}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(t){'use strict';var l;function r(t,e){return{x:t,y:e,minus:function(t){return r(this.x-t.x,this.y-t.y)}}}function c(t,e,n,i,o){this.type='unindentified',this.direction='unindentified',this.startPos=r(e,n),this.delta=r(0,0),this.targetEvent=null,this.term=0,this.startTime=new Date,this.gestureThreshold=i,this.flickThreshold=o,this.lastSession=t}(c.prototype={}).isSwipe=function(){return'swipe'===this.type},c.prototype.isScroll=function(){return'scroll'===this.type},c.prototype.isLeft=function(){return'left'===this.direction},c.prototype.isRight=function(){return'right'===this.direction},c.prototype.isUp=function(){return'up'===this.direction},c.prototype.isDown=function(){return'down'===this.direction},c.prototype.isFlick=function(){return this.term<200},c.prototype.getTerm=function(){return this.term},c.prototype.isTab=function(){return'unindentified'===this.type},c.prototype.isDoubleTab=function(){return'boolean'!=typeof this.checkDoubleTab&&(this.checkDoubleTab=!!this.lastSession&&(this.startTime.getTime()-this.lastSession.startTime<500&&!0===this.lastSession.isTab&&!1===this.lastSession.isDoubleTab&&'unindentified'===this.type)),this.checkDoubleTab},c.prototype.recognizeGesture=function(t,e){var n=r(t,e).minus(this.startPos);this.delta=n,'unindentified'===this.type&&(Math.abs(n.x)>this.gestureThreshold&&Math.abs(n.x)>=Math.abs(n.y)?(this.type='swipe',n.x<0?this.direction='left':this.direction='right'):Math.abs(n.y)>this.gestureThreshold&&Math.abs(n.y)>Math.abs(n.x)&&(this.type='scroll',n.y<0?this.direction='up':this.direction='down'))},c.prototype.checkFlick=function(){this.term=(new Date).getTime()-this.startTime},l={START:'ontouchstart'in window?'touchstart':'mousedown',MOVE:'ontouchstart'in window?'touchmove':'mousemove',END:'ontouchstart'in window?'touchend':'mouseup',listen:document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent('on'+e,n)},unListen:document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent('on'+e,n)},getX:function(t){var e=t.touches?t.touches[0]:t;return e.pageX||e.clientX},getY:function(t){var e=t.touches?t.touches[0]:t;return e.pageY||e.clientY}},t.GestureListener=function(t,e,n){var i=null,o=null,r={onGestureStart:null,onGestureMove:null,onGetstureEnd:null};if(void 0===e)e=30;else if('number'!=typeof e)throw new Error('gestureThreshold must be a number');if(void 0===n)n=30;else if('number'!=typeof n)throw new Error('flickThreshold must be a number');function a(t){i&&(i.recognizeGesture(l.getX(t),l.getY(t)),i.targetEvent=t||window.event,r.onGestureMove&&r.onGestureMove(i))}function s(t){i&&(i.checkFlick(),i.targetEvent=t||window.event,r.onGestureEnd&&r.onGestureEnd(i),o={isTab:i.isTab(),isDoubleTab:i.isDoubleTab(),startTime:i.startTime},i=null),l.unListen(document,l.MOVE,a),l.unListen(document,l.END,s),'ontouchstart'in window&&l.unListen(document,'touchcancel',s)}function u(t){(i=new c(o,l.getX(t),l.getY(t),e,n)).targetEvent=t||window.event,r.onGestureStart&&r.onGestureStart(i),l.listen(document,l.MOVE,a),l.listen(document,l.END,s),'ontouchstart'in window&&l.listen(document,'touchcancel',s)}return l.listen(t,l.START,u),{onGestureStart:function(t){r.onGestureStart=t},onGestureMove:function(t){r.onGestureMove=t},onGestureEnd:function(t){r.onGestureEnd=t},destroy:function(){l.unListen(t,l.START,u)}}},t.GestureSession=c,t.EventUtil=l}(window.gesture={}),function(t){'use strict';function e(){}function n(t){return-1!==navigator.userAgent.toLowerCase().indexOf(t)}function i(){this.init()}var o=!(!('onorientationchange'in window)||n('android')&&n('webkit')&&!n('chrome')),r='onresize'in window;i.prototype={init:function(){this.orientList=[],this.state=this.getOrientation(),this.bindEvent()},bindEvent:function(){var t=this;if(o||r){var e=o?'orientationchange':'resize';document.addEventListener?window.addEventListener(e,function(){t.onOrientationChange()}):window.attachEvent('on'+e,function(){t.onOrientationChange()},!1)}else window.setInterval(function(){t.onOrientationChange()},1e3)},onOrientationChange:function(){var t=this.getOrientation();this.state=t,this.emitOrientation(this.state)},getOrientation:function(){if(n('opera')&&n('windows ce'))return function(){return window.screen.width>window.screen.height?'landscape':'portrait'};var t=document.documentElement||document.body;return function(){return t.clientWidth>t.clientHeight?'landscape':'portrait'}}(),emitOrientation:function(t){for(var e=0,n=this.orientList.length;e<n;e+=1)this.orientList[e](t)},addOrientationCallback:function(t){if('function'!=typeof t)throw new TypeError('callback is not function');this.orientList.push(t)}};var a=new i;(t.Orientation=function(){this.init()}).prototype={init:function(){return this.onPortraitCallback=e,this.onLandscapeCallback=e,this.onOrientationCallback=e,this.bindEvent(),this},bindEvent:function(){var e=this;a.addOrientationCallback(function(t){e.updateOrientation(t)})},updateOrientation:function(t){t=t||a.state,this.onOrientationCallback(t),'portrait'===t?this.onPortraitCallback():this.onLandscapeCallback()},onOrientationChange:function(t){return this.onOrientationCallback=t,this},onPortrait:function(t){return this.onPortraitCallback=t,this},onLandscape:function(t){return this.onLandscapeCallback=t,this}}}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(o){'use strict';for(var t=['log','debug','info','warn','error','group','groupEnd','table'],r=[],e=0;e<t.length;e++)o[t[e]]=function(n){if('undefined'==typeof console||void 0===console.log.apply)return function(){r.push([n,arguments])};var i=n;return n in console||(i='log'),function(){var t=[],e=o.__CONSOLE_NAMESPACE;e&&t.push('['+e+']'),t=t.concat(Array.prototype.slice.call(arguments)),o.__CONSOLE_QUIET?r.push([n,arguments]):console[i].apply(console,t)}}(t[e]);o.dumpLog=function(){return r.splice(0)},o.replayLog=function(){r.forEach(function(t){'object'==typeof console[t[0]]?console[t[0]](t[1]):console[t[0]].apply(console,t[1])})}}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(){'use strict';function o(t){window.location.href=t}function r(e,n,i){var o=(new Date).getTime();return setTimeout(function(){var t=(new Date).getTime();a()&&t-o<e+c&&i(n)},e)}function a(){for(var t=['hidden','webkitHidden'],e=0,n=t.length;e<n;e++)if(void 0!==document[t[e]])return!document[t[e]];return!0}function s(t){setTimeout(function(){(function(t){var e=document.createElement('iframe');return e.id=t,e.style.border='none',e.style.width='0',e.style.height='0',e.style.display='none',e.style.overflow='hidden',document.body.appendChild(e),e})('appLauncher').src=t},100)}var u,l,c,d,h,p;(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).web2app=(u=2e3,l=300,c=100,d=daumtools.userAgent(),h=d.os,p=['firefox','opr'],function(t){var e='function'==typeof t.willInvokeApp?t.willInvokeApp:function(){},n='function'==typeof t.onAppMissing?t.onAppMissing:o,i='function'==typeof t.onUnsupportedEnvironment?t.onUnsupportedEnvironment:function(){};e(),h.android?function(){var t=d.browser.chrome&&25<=+d.browser.version.major,e=new RegExp(p.join('|'),'i');return t&&!e.test(d.ua)}()&&t.intentURI&&!t.useUrlScheme?function(t){function e(){top.location.href=t}d.browser.chrome?e():setTimeout(e,100)}(t.intentURI):t.storeURL&&function(t,e,n){r(l,e,n),s(t)}(t.urlScheme,t.storeURL,n):h.ios&&t.storeURL?function(t,e,n,i){var o=r(u,e,n);parseInt(d.os.version.major,10)<8?function(e){window.addEventListener('pagehide',function t(){a()&&(clearTimeout(e),window.removeEventListener('pagehide',t))})}(o):function(e){document.addEventListener('visibilitychange',function t(){a()&&(clearTimeout(e),document.removeEventListener('visibilitychange',t))})}(o),8<parseInt(d.os.version.major,10)&&d.os.ios?(void 0===i?i=t:clearTimeout(o),function(t){window.top.location.href=t}(i)):s(t)}(t.urlScheme,t.storeURL,n,t.universalLink):setTimeout(function(){i()},100)})}(),function(){'use strict';function o(t,e,n){if(!t)throw new Error('el is not valid, el : '+t+', method : '+n+', className : '+e)}(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).classListAll={add:function(t,e){if(o(t,e,'add'),t&&e&&'string'==typeof e)for(var n=0,i=t.length;n<i;n+=1)daumtools.classList.add(t[n],e)},remove:function(t,e){if(o(t,e,'remove'),t&&e&&'string'==typeof e)for(var n=0,i=t.length;n<i;n+=1)daumtools.classList.remove(t[n],e)}}}(),function(){'use strict';(window.daumtools=typeof window.daumtools==='undefined'?{}:window.daumtools).dataset=function(t,e,n){var i={set:function(t,e,n){t.setAttribute('data-'+e,n)},get:function(t,e){return t.getAttribute('data-'+e)}};return 3===arguments.length?i.set(t,e,n):2===arguments.length?i.get(t,e):i}}(),function(){'use strict';var t;monet.fireLoadEvent=(t=!0,function(){t?(t=!1,monet.queue.emit('window:load'),setTimeout(function(){daumtools.group('event: window:ready'),monet.queue.emit('window:ready'),daumtools.groupEnd(),setTimeout(function(){daumtools.group('event: window:ready_1'),monet.queue.emit('window:ready_1'),daumtools.groupEnd()},500),setTimeout(function(){daumtools.group('event: window:ready_2'),monet.queue.emit('window:ready_2'),daumtools.groupEnd()},1e3)},25),daumtools.info('Now Load event fire')):daumtools.warn('Already Load event is fired')}),daumtools.event.on(window,'load',function(){monet.disableLoadEvent||monet.fireLoadEvent()}),daumtools.event.on(window,'unload',function(){monet.queue.emit('window:unload')}),daumtools.event.on(window,'pageshow',function(t){t.persisted&&monet.queue.emit('window:restored')}),daumtools.event.on(window,'pagehide',function(t){t.persisted&&monet.queue.emit('window:saved')})}(),function(r,a,h){var f=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(t){r.setTimeout(t,1e3/60)},m=function(){var i={},o=a.createElement('div').style,e=function(){for(var t=['t','webkitT','MozT','msT','OT'],e=0,n=t.length;e<n;e++)if(t[e]+'ransform'in o)return t[e].substr(0,t[e].length-1);return!1}();function t(t){return!1!==e&&(''===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(t,e){for(var n in e)t[n]=e[n]},i.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},i.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},i.prefixPointerEvent=function(t){return r.MSPointerEvent?'MSPointer'+t.charAt(7).toUpperCase()+t.substr(8):t},i.momentum=function(t,e,n,i,o,r){var a,s,u=t-e,l=h.abs(u)/n;return s=l/(r=void 0===r?6e-4:r),(a=t+l*l/(2*r)*(u<0?-1:1))<i?(a=o?i-o/2.5*(l/8):i,s=(u=h.abs(a-t))/l):0<a&&(a=o?o/2.5*(l/8):0,s=(u=h.abs(t)+a)/l),{destination:h.round(a),duration:s}};var n=t('transform');return i.extend(i,{hasTransform:!1!==n,hasPerspective:t('perspective')in o,hasTouch:'ontouchstart'in r,hasPointer:!(!r.PointerEvent&&!r.MSPointerEvent),hasTransition:t('transition')in o}),i.isBadAndroid=function(){var t=r.navigator.appVersion;if(!/Android/.test(t)||/Chrome\/\d/.test(t))return!1;var e=t.match(/Safari\/(\d+.\d)/);return!(e&&'object'==typeof e&&2<=e.length)||parseFloat(e[1])<535.19}(),i.extend(i.style={},{transform:n,transitionTimingFunction:t('transitionTimingFunction'),transitionDuration:t('transitionDuration'),transitionDelay:t('transitionDelay'),transformOrigin:t('transformOrigin'),touchAction:t('touchAction')}),i.hasClass=function(t,e){return new RegExp('(^|\\s)'+e+'(\\s|$)').test(t.className)},i.addClass=function(t,e){if(!i.hasClass(t,e)){var n=t.className.split(' ');n.push(e),t.className=n.join(' ')}},i.removeClass=function(t,e){if(i.hasClass(t,e)){var n=new RegExp('(^|\\s)'+e+'(\\s|$)','g');t.className=t.className.replace(n,' ')}},i.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},i.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:1,pointermove:1,pointerup:1,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:'cubic-bezier(0.25, 0.46, 0.45, 0.94)',fn:function(t){return t*(2-t)}},circular:{style:'cubic-bezier(0.1, 0.57, 0.1, 1)',fn:function(t){return h.sqrt(1- --t*t)}},back:{style:'cubic-bezier(0.175, 0.885, 0.32, 1.275)',fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:'',fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:'',fn:function(t){return 0===t?0:1==t?1:.4*h.pow(2,-10*t)*h.sin((t-.055)*(2*h.PI)/.22)+1}}}),i.tap=function(t,e){var n=a.createEvent('Event');n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},i.click=function(t){var e,n=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||((e=a.createEvent(r.MouseEvent?'MouseEvents':'Event')).initEvent('click',!0,!0),e.view=t.view||r,e.detail=1,e.screenX=n.screenX||0,e.screenY=n.screenY||0,e.clientX=n.clientX||0,e.clientY=n.clientY||0,e.ctrlKey=!!t.ctrlKey,e.altKey=!!t.altKey,e.shiftKey=!!t.shiftKey,e.metaKey=!!t.metaKey,e.button=0,e.relatedTarget=null,e._constructed=!0,n.dispatchEvent(e))},i.getTouchAction=function(t,e){var n='none';return'vertical'===t?n='pan-y':'horizontal'===t&&(n='pan-x'),e&&'none'!=n&&(n+=' pinch-zoom'),n},i.getRect=function(t){if(t instanceof SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}},i}();function t(t,e){for(var n in this.wrapper='string'==typeof t?a.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!1,disableTouch:m.hasPointer||!m.hasTouch,disableMouse:m.hasPointer||m.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:'',preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===r.onmousedown},e)this.options[n]=e[n];this.translateZ=this.options.HWCompositing&&m.hasPerspective?' translateZ(0)':'',this.options.useTransition=m.hasTransition&&this.options.useTransition,this.options.useTransform=m.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?'vertical':this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY='vertical'!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX='horizontal'!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing='string'==typeof this.options.bounceEasing?m.ease[this.options.bounceEasing]||m.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap='tap'),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position='relative'),'scale'==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(t,e,n){var i=a.createElement('div'),o=a.createElement('div');return!0===n&&(i.style.cssText='position:absolute;z-index:9999',o.style.cssText='-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px'),o.className='iScrollIndicator','h'==t?(!0===n&&(i.style.cssText+=';height:7px;left:2px;right:2px;bottom:0',o.style.height='100%'),i.className='iScrollHorizontalScrollbar'):(!0===n&&(i.style.cssText+=';width:7px;bottom:2px;top:2px;right:1px',o.style.width='100%'),i.className='iScrollVerticalScrollbar'),i.style.cssText+=';overflow:hidden',e||(i.style.pointerEvents='none'),i.appendChild(o),i}function u(t,e){for(var n in this.wrapper='string'==typeof e.el?a.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},e)this.options[n]=e[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(m.addEvent(this.indicator,'touchstart',this),m.addEvent(r,'touchend',this)),this.options.disablePointer||(m.addEvent(this.indicator,m.prefixPointerEvent('pointerdown'),this),m.addEvent(r,m.prefixPointerEvent('pointerup'),this)),this.options.disableMouse||(m.addEvent(this.indicator,'mousedown',this),m.addEvent(r,'mouseup',this))),this.options.fade){this.wrapperStyle[m.style.transform]=this.scroller.translateZ;var i=m.style.transitionDuration;if(!i)return;this.wrapperStyle[i]=m.isBadAndroid?'0.0001ms':'0ms';var o=this;m.isBadAndroid&&f(function(){'0.0001ms'===o.wrapperStyle[i]&&(o.wrapperStyle[i]='0s')}),this.wrapperStyle.opacity='0'}}t.prototype={version:'5.2.0-snapshot',_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent('destroy')},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent('scrollEnd')))},_start:function(t){if(1!=m.eventType[t.type]&&0!==(t.which?t.button:t.button<2?0:4==t.button?1:2))return;if(this.enabled&&(!this.initiated||m.eventType[t.type]===this.initiated)){!this.options.preventDefault||m.isBadAndroid||m.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,n=t.touches?t.touches[0]:t;this.initiated=m.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=m.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(h.round(e.x),h.round(e.y)),this._execEvent('scrollEnd')):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent('scrollEnd')),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent('beforeScrollStart')}},_move:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,i,o,r=t.touches?t.touches[0]:t,a=r.pageX-this.pointX,s=r.pageY-this.pointY,u=m.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=a,this.distY+=s,i=h.abs(this.distX),o=h.abs(this.distY),!(300<u-this.endTime&&i<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked='h':o>=i+this.options.directionLockThreshold?this.directionLocked='v':this.directionLocked='n'),'h'==this.directionLocked){if('vertical'==this.options.eventPassthrough)t.preventDefault();else if('horizontal'==this.options.eventPassthrough)return void(this.initiated=!1);s=0}else if('v'==this.directionLocked){if('horizontal'==this.options.eventPassthrough)t.preventDefault();else if('vertical'==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,s=this.hasVerticalScroll?s:0,e=this.x+a,n=this.y+s,(0<e||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:0<e?0:this.maxScrollX),(0<n||n<this.maxScrollY)&&(n=this.options.bounce?this.y+s/3:0<n?0:this.maxScrollY),this.directionX=0<a?-1:a<0?1:0,this.directionY=0<s?-1:s<0?1:0,this.moved||this._execEvent('scrollStart'),this.moved=!0,this._translate(e,n),300<u-this.startTime&&(this.startTime=u,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent('scroll')),1<this.options.probeType&&this._execEvent('scroll')}}},_end:function(t){if(this.enabled&&m.eventType[t.type]===this.initiated){this.options.preventDefault&&!m.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var e,n,i=m.getTime()-this.startTime,o=h.round(this.x),r=h.round(this.y),a=h.abs(o-this.startX),s=h.abs(r-this.startY),u=0,l='';if(this.isInTransition=0,this.initiated=0,this.endTime=m.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,r),!this.moved)return this.options.tap&&m.tap(t,this.options.tap),this.options.click&&m.click(t),void this._execEvent('scrollCancel');if(this._events.flick&&i<200&&a<100&&s<100)this._execEvent('flick');else{if(this.options.momentum&&i<300&&(e=this.hasHorizontalScroll?m.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?m.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},o=e.destination,r=n.destination,u=h.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(o,r);this.currentPage=c,u=this.options.snapSpeed||h.max(h.max(h.min(h.abs(o-c.x),1e3),h.min(h.abs(r-c.y),1e3)),300),o=c.x,r=c.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}if(o!=this.x||r!=this.y)return(0<o||o<this.maxScrollX||0<r||r<this.maxScrollY)&&(l=m.ease.quadratic),void this.scrollTo(o,r,u,l);this._execEvent('scrollEnd')}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||0<this.y?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(e!=this.x||n!=this.y)&&(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){m.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight;var t=m.getRect(this.scroller);this.scrollerWidth=t.width,this.scrollerHeight=t.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,m.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[m.style.touchAction]=m.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[m.style.touchAction]||(this.wrapper.style[m.style.touchAction]=m.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=m.offset(this.wrapper),this._execEvent('refresh'),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);-1<n&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;e<n;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||m.ease.circular,this.isInTransition=this.options.useTransition&&0<n;var o=this.options.useTransition&&i.style;!n||o?(o&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,n,i,o){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=m.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top;var a=m.getRect(t),s=m.getRect(this.wrapper);!0===n&&(n=h.round(a.width/2-s.width/2)),!0===i&&(i=h.round(a.height/2-s.height/2)),r.left-=n||0,r.top-=i||0,r.left=0<r.left?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=0<r.top?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=null==e||'auto'===e?h.max(h.abs(this.x-r.left),h.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,o)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=m.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+'ms',!t&&m.isBadAndroid){this.scrollerStyle[e]='0.0001ms';var n=this;f(function(){'0.0001ms'===n.scrollerStyle[e]&&(n.scrollerStyle[e]='0s')})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[m.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[m.style.transform]='translate('+t+'px,'+e+'px)'+this.translateZ:(t=h.round(t),e=h.round(e),this.scrollerStyle.left=t+'px',this.scrollerStyle.top=e+'px'),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var e=t?m.removeEvent:m.addEvent,n=this.options.bindToWrapper?this.wrapper:r;e(r,'orientationchange',this),e(r,'resize',this),this.options.click&&e(this.wrapper,'click',this,!0),this.options.disableMouse||(e(this.wrapper,'mousedown',this),e(n,'mousemove',this),e(n,'mousecancel',this),e(n,'mouseup',this)),m.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,m.prefixPointerEvent('pointerdown'),this),e(n,m.prefixPointerEvent('pointermove'),this),e(n,m.prefixPointerEvent('pointercancel'),this),e(n,m.prefixPointerEvent('pointerup'),this)),m.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,'touchstart',this),e(n,'touchmove',this),e(n,'touchcancel',this),e(n,'touchend',this)),e(this.scroller,'transitionend',this),e(this.scroller,'webkitTransitionEnd',this),e(this.scroller,'oTransitionEnd',this),e(this.scroller,'MSTransitionEnd',this)},getComputedPosition:function(){var t,e,n=r.getComputedStyle(this.scroller,null);return e=this.options.useTransform?(t=+((n=n[m.style.transform].split(')')[0].split(', '))[12]||n[4]),+(n[13]||n[5])):(t=+n.left.replace(/[^-\d.]/g,''),+n.top.replace(/[^-\d.]/g,'')),{x:t,y:e}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,n='string'!=typeof this.options.scrollbars,i=[],o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:s('v',e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),i.push(t)),this.options.scrollX&&(t={el:s('h',e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),i.push(t))),this.options.indicators&&(i=i.concat(this.options.indicators));for(var r=i.length;r--;)this.indicators.push(new u(this,i[r]));function a(t){if(o.indicators)for(var e=o.indicators.length;e--;)t.call(o.indicators[e])}this.options.fadeScrollbars&&(this.on('scrollEnd',function(){a(function(){this.fade()})}),this.on('scrollCancel',function(){a(function(){this.fade()})}),this.on('scrollStart',function(){a(function(){this.fade(1)})}),this.on('beforeScrollStart',function(){a(function(){this.fade(1,!0)})})),this.on('refresh',function(){a(function(){this.refresh()})}),this.on('destroy',function(){a(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){m.addEvent(this.wrapper,'wheel',this),m.addEvent(this.wrapper,'mousewheel',this),m.addEvent(this.wrapper,'DOMMouseScroll',this),this.on('destroy',function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,m.removeEvent(this.wrapper,'wheel',this),m.removeEvent(this.wrapper,'mousewheel',this),m.removeEvent(this.wrapper,'DOMMouseScroll',this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,n,i,o,r=this;if(void 0===this.wheelTimeout&&r._execEvent('scrollStart'),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent('scrollEnd'),r.wheelTimeout=void 0},400),'deltaX'in t)n=1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,-t.deltaY);else if('wheelDeltaX'in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if('wheelDelta'in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!('detail'in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return i=this.currentPage.pageX,o=this.currentPage.pageY,0<e?i--:e<0&&i++,0<n?o--:n<0&&o++,void this.goToPage(i,o);i=this.x+h.round(this.hasHorizontalScroll?e:0),o=this.y+h.round(this.hasVerticalScroll?n:0),this.directionX=0<e?-1:e<0?1:0,this.directionY=0<n?-1:n<0?1:0,0<i?i=0:i<this.maxScrollX&&(i=this.maxScrollX),0<o?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(i,o,0),1<this.options.probeType&&this._execEvent('scroll')}},_initSnap:function(){this.currentPage={},'string'==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on('refresh',function(){var t,e,n,i,o,r,a,s=0,u=0,l=0,c=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=h.round(c/2),i=h.round(d/2);l>-this.scrollerWidth;){for(this.pages[s]=[],o=t=0;o>-this.scrollerHeight;)this.pages[s][t]={x:h.max(l,this.maxScrollX),y:h.max(o,this.maxScrollY),width:c,height:d,cx:l-n,cy:o-i},o-=d,t++;l-=c,s++}else for(t=(r=this.options.snap).length,e=-1;s<t;s++)a=m.getRect(r[s]),(0===s||a.left<=m.getRect(r[s-1]).left)&&(u=0,e++),this.pages[u]||(this.pages[u]=[]),l=h.max(-a.left,this.maxScrollX),o=h.max(-a.top,this.maxScrollY),n=l-h.round(a.width/2),i=o-h.round(a.height/2),this.pages[u][e]={x:l,y:o,width:a.width,height:a.height,cx:n,cy:i},l>this.maxScrollX&&u++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=h.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on('flick',function(){var t=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.x-this.startX),1e3),h.min(h.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,o=0;if(h.abs(t-this.absStartX)<this.snapThresholdX&&h.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<i;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(i=this.pages[n].length;o<i;o++)if(e>=this.pages[0][o].cy){e=this.pages[0][o].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),o==this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),e=this.pages[0][o].y),{x:t,y:e,pageX:n,pageY:o}},goToPage:function(t,e,n,i){i=i||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,r=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||h.max(h.max(h.min(h.abs(o-this.x),1e3),h.min(h.abs(r-this.y),1e3)),300):n,this.currentPage={x:o,y:r,pageX:t,pageY:e},this.scrollTo(o,r,n,i)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(t){var e,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if('object'==typeof this.options.keyBindings)for(e in this.options.keyBindings)'string'==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in n)this.options.keyBindings[e]=this.options.keyBindings[e]||n[e];m.addEvent(r,'keydown',this),this.on('destroy',function(){m.removeEvent(r,'keydown',this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,i=n?this.currentPage.pageX:this.x,o=n?this.currentPage.pageY:this.y,r=m.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(h.round(e.x),h.round(e.y)),this.isInTransition=!1),this.keyAcceleration=r-a<200?h.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:o+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:o-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,o=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=i=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(i,o):(0<i?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),0<o?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,o,0),this.keyTime=r)}},_animate:function(r,a,s,u){var l=this,c=this.x,d=this.y,h=m.getTime(),p=h+s;this.isAnimating=!0,function t(){var e,n,i,o=m.getTime();if(p<=o)return l.isAnimating=!1,l._translate(r,a),void(l.resetPosition(l.options.bounceTime)||l._execEvent('scrollEnd'));i=u(o=(o-h)/s),e=(r-c)*i+c,n=(a-d)*i+d,l._translate(e,n),l.isAnimating&&f(t),3==l.options.probeType&&l._execEvent('scroll')}()},handleEvent:function(t){switch(t.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(t);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(t);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(t);break;case'orientationchange':case'resize':this._resize();break;case'transitionend':case'webkitTransitionEnd':case'oTransitionEnd':case'MSTransitionEnd':this._transitionEnd(t);break;case'wheel':case'DOMMouseScroll':case'mousewheel':this._wheel(t);break;case'keydown':this._key(t);break;case'click':this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},u.prototype={handleEvent:function(t){switch(t.type){case'touchstart':case'pointerdown':case'MSPointerDown':case'mousedown':this._start(t);break;case'touchmove':case'pointermove':case'MSPointerMove':case'mousemove':this._move(t);break;case'touchend':case'pointerup':case'MSPointerUp':case'mouseup':case'touchcancel':case'pointercancel':case'MSPointerCancel':case'mousecancel':this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(m.removeEvent(this.indicator,'touchstart',this),m.removeEvent(this.indicator,m.prefixPointerEvent('pointerdown'),this),m.removeEvent(this.indicator,'mousedown',this),m.removeEvent(r,'touchmove',this),m.removeEvent(r,m.prefixPointerEvent('pointermove'),this),m.removeEvent(r,'mousemove',this),m.removeEvent(r,'touchend',this),m.removeEvent(r,m.prefixPointerEvent('pointerup'),this),m.removeEvent(r,'mouseup',this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=m.getTime(),this.options.disableTouch||m.addEvent(r,'touchmove',this),this.options.disablePointer||m.addEvent(r,m.prefixPointerEvent('pointermove'),this),this.options.disableMouse||m.addEvent(r,'mousemove',this),this.scroller._execEvent('beforeScrollStart')},_move:function(t){var e,n,i,o,r=t.touches?t.touches[0]:t,a=m.getTime();this.moved||this.scroller._execEvent('scrollStart'),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),1==this.scroller.options.probeType&&300<a-this.startTime?(this.startTime=a,this.scroller._execEvent('scroll')):1<this.scroller.options.probeType&&this.scroller._execEvent('scroll'),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),m.removeEvent(r,'touchmove',this),m.removeEvent(r,m.prefixPointerEvent('pointermove'),this),m.removeEvent(r,'mousemove',this),this.scroller.options.snap){var e=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||h.max(h.max(h.min(h.abs(this.scroller.x-e.x),1e3),h.min(h.abs(this.scroller.y-e.y),1e3)),300);this.scroller.x==e.x&&this.scroller.y==e.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=e,this.scroller.scrollTo(e.x,e.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent('scrollEnd')}},transitionTime:function(t){t=t||0;var e=m.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+'ms',!t&&m.isBadAndroid)){this.indicatorStyle[e]='0.0001ms';var n=this;f(function(){'0.0001ms'===n.indicatorStyle[e]&&(n.indicatorStyle[e]='0s')})}},transitionTimingFunction:function(t){this.indicatorStyle[m.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?'block':'none':this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?'block':'none':this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?'block':'none',this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(m.addClass(this.wrapper,'iScrollBothScrollbars'),m.removeClass(this.wrapper,'iScrollLoneScrollbar'),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right='8px':this.wrapper.style.bottom='8px')):(m.removeClass(this.wrapper,'iScrollBothScrollbars'),m.addClass(this.wrapper,'iScrollLoneScrollbar'),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right='2px':this.wrapper.style.bottom='2px')),m.getRect(this.wrapper),this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=h.max(h.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+'px'):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,'clip'==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=h.max(h.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+'px'):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,'clip'==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&h.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&h.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?('scale'==this.options.shrink&&(this.width=h.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+'px'),t=this.minBoundaryX):t>this.maxBoundaryX?t='scale'==this.options.shrink?(this.width=h.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+'px',this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:'scale'==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+'px'),e<this.minBoundaryY?('scale'==this.options.shrink&&(this.height=h.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+'px'),e=this.minBoundaryY):e>this.maxBoundaryY?e='scale'==this.options.shrink?(this.height=h.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+'px',this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:'scale'==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+'px')),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[m.style.transform]='translate('+t+'px,'+e+'px)'+this.scroller.translateZ:(this.indicatorStyle.left=t+'px',this.indicatorStyle.top=e+'px')},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?h.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?h.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?'1':'0',this.wrapperStyle[m.style.transitionDuration]=n+'ms',this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},t.utils=m,'undefined'!=typeof module&&module.exports?module.exports=t:'function'==typeof define&&define.amd?define(function(){return t}):r.IScroll=t}(window,document,Math),function(t){if('object'==typeof exports&&'undefined'!=typeof module)module.exports=t();else if('function'==typeof define&&define.amd)define([],t);else{('undefined'!=typeof window?window:'undefined'!=typeof global?global:'undefined'!=typeof self?self:this).ProgressBar=t()}}(function(){return function r(a,s,u){function l(n,t){if(!s[n]){if(!a[n]){var e='function'==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var i=new Error('Cannot find module \''+n+'\'');throw i.code='MODULE_NOT_FOUND',i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(t){var e=a[n][1][t];return l(e||t)},o,o.exports,r,a,s,u)}return s[n].exports}for(var c='function'==typeof require&&require,t=0;t<u.length;t++)l(u[t]);return l}({1:[function(t,A,L){(function(){var c,l,r,a,s,u,d,i,h,n,p,e=this||Function('return this')(),f=function(){'use strict';var d,n,h,p,f,m,t=Date.now?Date.now:function(){return+new Date},v='undefined'!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:t;function o(){}function r(t,e){var n;for(n in t)Object.hasOwnProperty.call(t,n)&&e(n)}function a(e,n){return r(n,function(t){e[t]=n[t]}),e}function s(e,n){r(n,function(t){void 0===e[t]&&(e[t]=n[t])})}function g(t,e,n,i,o,r,a){var s,u,l,c=t<r?0:(t-r)/o;for(s in e)e.hasOwnProperty(s)&&(l='function'==typeof(u=a[s])?u:d[u],e[s]=y(n[s],i[s],l,c));return e}function y(t,e,n,i){return t+(e-t)*n(i)}function E(e,n){var i=c.prototype.filter,o=e._filterArgs;r(i,function(t){void 0!==i[t][n]&&i[t][n].apply(e,o)})}function u(t,e,n,i,o,r,a,s,u,l,c){h=e+n+i,p=Math.min(c||v(),h),f=h<=p,m=i-(h-p),t.isPlaying()&&(f?(u(a,t._attachment,m),t.stop(!0)):(t._scheduleId=l(t._timeoutHandler,1e3/60),E(t,'beforeTween'),p<e+n?g(1,o,r,a,1,1,s):g(p,o,r,a,i,e+n,s),E(t,'afterTween'),u(o,t._attachment,m)))}function l(t,e){var n={},i=typeof e;return r(t,'string'==i||'function'==i?function(t){n[t]=e}:function(t){n[t]||(n[t]=e[t]||'linear')}),n}function c(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=n,void 0!==e&&this.setConfig(e)}return n='undefined'!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,c.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=v(),this._start(this.get(),this._attachment),this.resume())},c.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||o,this._step=t.step||o,this._finish=t.finish||o,this._duration=t.duration||500,this._currentState=a({},t.from)||this.get(),this._originalState=this.get(),this._targetState=a({},t.to)||this.get();var e=this;this._timeoutHandler=function(){u(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)};var n=this._currentState,i=this._targetState;return s(i,n),this._easing=l(n,t.easing||'linear'),this._filterArgs=[n,this._originalState,i,this._easing],E(this,'tweenCreated'),this},c.prototype.get=function(){return a({},this._currentState)},c.prototype.set=function(t){this._currentState=t},c.prototype.pause=function(){return this._pausedAtTime=v(),this._isPaused=!0,this},c.prototype.resume=function(){return this._isPaused&&(this._timestamp+=v()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},c.prototype.seek=function(t){t=Math.max(t,0);var e=v();return this._timestamp+t===0||(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,u(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause())),this},c.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=o,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),t&&(E(this,'beforeTween'),g(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),E(this,'afterTween'),E(this,'afterTweenEnd'),this._finish.call(this,this._currentState,this._attachment)),this},c.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},c.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},c.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},c.prototype.filter={},d=c.prototype.formula={linear:function(t){return t}},a(c,{now:v,each:r,tweenProps:g,tweenProp:y,applyFilter:E,shallowCopy:a,defaults:s,composeEasingObject:l}),'function'==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=u),'object'==typeof L?A.exports=c:void 0===e.Tweenable&&(e.Tweenable=c),c}();function m(t,e,n,i,o,r){var a,l=0,c=0,d=0,s=0,u=0,h=0;function p(t){return((l*t+c)*t+d)*t}function f(t){return 0<=t?t:0-t}return l=1-(d=3*e)-(c=3*(i-e)-d),s=1-(h=3*n)-(u=3*(o-n)-h),a=function(t,e){var n,i,o,r,a,s,u;for(o=t,s=0;s<8;s++){if(f(r=p(o)-t)<e)return o;if(f(a=(3*l*(u=o)+2*c)*u+d)<1e-6)break;o-=r/a}if(i=1,(o=t)<(n=0))return n;if(i<o)return i;for(;n<i;){if(f((r=p(o))-t)<e)return o;r<t?n=o:i=o,o=.5*(i-n)+n}return o}(t,1/(200*r)),((s*a+u)*a+h)*a}function o(n){l.each(n,function(t){var e=n[t];'string'==typeof e&&e.match(i)&&(n[t]=function(t){return y(i,t,v)}(e))})}function v(t){var e=function(t){3===(t=t.replace(/#/,'')).length&&(t=(t=t.split(''))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return n[0]=g(t.substr(0,2)),n[1]=g(t.substr(2,2)),n[2]=g(t.substr(4,2)),n}(t);return'rgb('+e[0]+','+e[1]+','+e[2]+')'}function g(t){return parseInt(t,16)}function y(t,e,n){var i=e.match(t),o=e.replace(t,h);if(i)for(var r,a=i.length,s=0;s<a;s++)r=i.shift(),o=o.replace(h,n(r));return o}function E(t){for(var e=t.match(s),n=e.length,i=t.match(d)[0],o=0;o<n;o++)i+=parseInt(e[o],10)+',';return i=i.slice(0,-1)+')'}function b(i){var o={};return l.each(i,function(t){var e=i[t];if('string'==typeof e){var n=_(e);o[t]={formatString:function(t){var e=t.match(a);return e?1!==e.length&&!t[0].match(r)||e.unshift(''):e=['',''],e.join(h)}(e),chunkNames:function(t,e){var n,i=[],o=t.length;for(n=0;n<o;n++)i.push('_'+e+'_'+n);return i}(n,t)}}}),o}function T(o,r){l.each(r,function(t){for(var e=_(o[t]),n=e.length,i=0;i<n;i++)o[r[t].chunkNames[i]]=+e[i];delete o[t]})}function w(i,o){l.each(o,function(t){var e=i[t],n=function(t,e){p.length=0;for(var n=e.length,i=0;i<n;i++)p.push(t[e[i]]);return p}(function(t,e){for(var n,i={},o=e.length,r=0;r<o;r++)n=e[r],i[n]=t[n],delete t[n];return i}(i,o[t].chunkNames),o[t].chunkNames);e=function(t,e){for(var n=t,i=e.length,o=0;o<i;o++)n=n.replace(h,+e[o].toFixed(4));return n}(o[t].formatString,n),i[t]=function(t){return y(u,t,E)}(e)})}function _(t){return t.match(s)}f.shallowCopy(f.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){return t*t*(2.70158*t-1.70158)},swingTo:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),f.setBezierFunction=function(t,e,n,i,o){var r=function(e,n,i,o){return function(t){return m(t,e,n,i,o,1)}}(e,n,i,o);return r.displayName=t,r.x1=e,r.y1=n,r.x2=i,r.y2=o,f.prototype.formula[t]=r},f.unsetBezierFunction=function(t){delete f.prototype.formula[t]},(c=new f)._filterArgs=[],f.interpolate=function(t,e,n,i,o){var r=f.shallowCopy({},t),a=o||0,s=f.composeEasingObject(t,i||'linear');c.set({});var u=c._filterArgs;u.length=0,u[0]=r,u[1]=t,u[2]=e,u[3]=s,f.applyFilter(c,'tweenCreated'),f.applyFilter(c,'beforeTween');var l=function(t,e,n,i,o,r){return f.tweenProps(i,e,t,n,1,r,o)}(t,r,e,n,s,a);return f.applyFilter(c,'afterTween'),l},l=f,r=/(\d|\-|\.)/,a=/([^\-0-9\.]+)/g,s=/[0-9.\-]+/g,u=new RegExp('rgb\\('+s.source+/,\s*/.source+s.source+/,\s*/.source+s.source+'\\)','g'),d=/^.*\(/,i=/#([0-9]|[a-f]){3,6}/gi,h='VAL',n=[],p=[],l.prototype.filter.token={tweenCreated:function(t,e,n,i){o(t),o(e),o(n),this._tokenData=b(t)},beforeTween:function(t,e,n,i){!function(s,u){l.each(u,function(t){var e,n=u[t].chunkNames,i=n.length,o=s[t];if('string'==typeof o){var r=o.split(' '),a=r[r.length-1];for(e=0;e<i;e++)s[n[e]]=r[e]||a}else for(e=0;e<i;e++)s[n[e]]=o;delete s[t]})}(i,this._tokenData),T(t,this._tokenData),T(e,this._tokenData),T(n,this._tokenData)},afterTween:function(t,e,n,i){w(t,this._tokenData),w(e,this._tokenData),w(n,this._tokenData),function(a,s){l.each(s,function(t){var e=s[t].chunkNames,n=e.length,i=a[e[0]];if('string'==typeof i){for(var o='',r=0;r<n;r++)o+=' '+a[e[r]],delete a[e[r]];a[t]=o.substr(1)}else a[t]=i})}(i,this._tokenData)}}}).call(null)},{}],2:[function(t,e,n){function i(t,e){this._pathTemplate='M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}',this.containerAspectRatio=1,o.apply(this,arguments)}var o=t('./shape'),r=t('./utils');((i.prototype=new o).constructor=i).prototype._pathString=function(t){var e=t.strokeWidth;t.trailWidth&&t.trailWidth>t.strokeWidth&&(e=t.trailWidth);var n=50-e/2;return r.render(this._pathTemplate,{radius:n,'2radius':2*n})},i.prototype._trailString=function(t){return this._pathString(t)},e.exports=i},{'./shape':7,'./utils':8}],3:[function(t,e,n){function i(t,e){this._pathTemplate='M 0,{center} L 100,{center}',o.apply(this,arguments)}var o=t('./shape'),r=t('./utils');((i.prototype=new o).constructor=i).prototype._initializeSvg=function(t,e){t.setAttribute('viewBox','0 0 100 '+e.strokeWidth),t.setAttribute('preserveAspectRatio','none')},i.prototype._pathString=function(t){return r.render(this._pathTemplate,{center:t.strokeWidth/2})},i.prototype._trailString=function(t){return this._pathString(t)},e.exports=i},{'./shape':7,'./utils':8}],4:[function(t,e,n){e.exports={Line:t('./line'),Circle:t('./circle'),SemiCircle:t('./semicircle'),Path:t('./path'),Shape:t('./shape'),utils:t('./utils')}},{'./circle':2,'./line':3,'./path':5,'./semicircle':6,'./shape':7,'./utils':8}],5:[function(t,e,n){function o(t,e){if(!(this instanceof o))throw new Error('Constructor was called without new keyword');var n;e=d.extend({duration:800,easing:'linear',from:{},to:{},step:function(){}},e),n=d.isString(t)?document.querySelector(t):t,this.path=n,this._opts=e,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+' '+i,this.set(0)}var c=t('shifty'),d=t('./utils'),i={easeIn:'easeInCubic',easeOut:'easeOutCubic',easeInOut:'easeInOutCubic'};o.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},o.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e=this._opts.step;if(d.isFunction(e)){var n=this._easing(this._opts.easing);e(this._calculateTo(t,n),this._opts.shape||this,this._opts.attachment)}},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(t,n,e){n=n||{},d.isFunction(n)&&(e=n,n={});var i=d.extend({},n),o=d.extend({},this._opts);n=d.extend(o,n);var r=this._easing(n.easing),a=this._resolveFromAndTo(t,r,i);this.stop(),this.path.getBoundingClientRect();var s=this._getComputedDashOffset(),u=this._progressToOffset(t),l=this;this._tweenable=new c,this._tweenable.tween({from:d.extend({offset:s},a.from),to:d.extend({offset:u},a.to),duration:n.duration,easing:r,step:function(t){l.path.style.strokeDashoffset=t.offset;var e=n.shape||l;n.step(t,e,n.attachment)},finish:function(t){d.isFunction(e)&&e()}})},o.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue('stroke-dashoffset'),10)},o.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},o.prototype._resolveFromAndTo=function(t,e,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},o.prototype._calculateFrom=function(t){return c.interpolate(this._opts.from,this._opts.to,this.value(),t)},o.prototype._calculateTo=function(t,e){return c.interpolate(this._opts.from,this._opts.to,t,e)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},o.prototype._easing=function(t){return i.hasOwnProperty(t)?i[t]:t},e.exports=o},{'./utils':8,shifty:1}],6:[function(t,e,n){function i(t,e){this._pathTemplate='M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0',this.containerAspectRatio=2,o.apply(this,arguments)}var o=t('./shape'),r=t('./circle'),a=t('./utils');((i.prototype=new o).constructor=i).prototype._initializeSvg=function(t,e){t.setAttribute('viewBox','0 0 100 50')},i.prototype._initializeTextContainer=function(t,e,n){t.text.style&&(n.style.top='auto',n.style.bottom='0',t.text.alignToBottom?a.setStyle(n,'transform','translate(-50%, 0)'):a.setStyle(n,'transform','translate(-50%, 50%)'))},i.prototype._pathString=r.prototype._pathString,i.prototype._trailString=r.prototype._trailString,e.exports=i},{'./circle':2,'./shape':7,'./utils':8}],7:[function(t,e,n){function r(t,e){if(!(this instanceof r))throw new Error('Constructor was called without new keyword');if(0!==arguments.length){this._opts=s.extend({color:'#555',strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:'absolute',left:'50%',top:'50%',padding:0,margin:0,transform:{prefix:!0,value:'translate(-50%, -50%)'}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:'progressbar-text'},svgStyle:{display:'block',width:'100%'},warnings:!1},e,!0),s.isObject(e)&&void 0!==e.svgStyle&&(this._opts.svgStyle=e.svgStyle),s.isObject(e)&&s.isObject(e.text)&&void 0!==e.text.style&&(this._opts.text.style=e.text.style);var n,i=this._createSvgView(this._opts);if(!(n=s.isString(t)?document.querySelector(t):t))throw new Error('Container does not exist: '+t);this._container=n,this._container.appendChild(i.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&s.setStyles(i.svg,this._opts.svgStyle),this.svg=i.svg,this.path=i.path,this.trail=i.trail,this.text=null;var o=s.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new a(i.path,o),s.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}}var a=t('./path'),s=t('./utils'),i='Object is destroyed';r.prototype.animate=function(t,e,n){if(null===this._progressPath)throw new Error(i);this._progressPath.animate(t,e,n)},r.prototype.stop=function(){if(null===this._progressPath)throw new Error(i);void 0!==this._progressPath&&this._progressPath.stop()},r.prototype.destroy=function(){if(null===this._progressPath)throw new Error(i);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,(this._progressPath=null)!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},r.prototype.set=function(t){if(null===this._progressPath)throw new Error(i);this._progressPath.set(t)},r.prototype.value=function(){if(null===this._progressPath)throw new Error(i);return void 0===this._progressPath?0:this._progressPath.value()},r.prototype.setText=function(t){if(null===this._progressPath)throw new Error(i);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),s.isObject(t)?(s.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},r.prototype._createSvgView=function(t){var e=document.createElementNS('http://www.w3.org/2000/svg','svg');this._initializeSvg(e,t);var n=null;(t.trailColor||t.trailWidth)&&(n=this._createTrail(t),e.appendChild(n));var i=this._createPath(t);return e.appendChild(i),{svg:e,path:i,trail:n}},r.prototype._initializeSvg=function(t,e){t.setAttribute('viewBox','0 0 100 100')},r.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},r.prototype._createTrail=function(t){var e=this._trailString(t),n=s.extend({},t);return n.trailColor||(n.trailColor='#eee'),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(e,n)},r.prototype._createPathElement=function(t,e){var n=document.createElementNS('http://www.w3.org/2000/svg','path');return n.setAttribute('d',t),n.setAttribute('stroke',e.color),n.setAttribute('stroke-width',e.strokeWidth),e.fill?n.setAttribute('fill',e.fill):n.setAttribute('fill-opacity','0'),n},r.prototype._createTextContainer=function(t,e){var n=document.createElement('div');n.className=t.text.className;var i=t.text.style;return i&&(t.text.autoStyleContainer&&(e.style.position='relative'),s.setStyles(n,i),i.color||(n.style.color=t.color)),this._initializeTextContainer(t,e,n),n},r.prototype._initializeTextContainer=function(t,e,n){},r.prototype._pathString=function(t){throw new Error('Override this function for each progress bar')},r.prototype._trailString=function(t){throw new Error('Override this function for each progress bar')},r.prototype._warnContainerAspectRatio=function(t){if(this.containerAspectRatio){var e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue('width'),10),i=parseFloat(e.getPropertyValue('height'),10);s.floatEquals(this.containerAspectRatio,n/i)||(console.warn('Incorrect aspect ratio of container','#'+t.id,'detected:',e.getPropertyValue('width')+'(width)','/',e.getPropertyValue('height')+'(height)','=',n/i),console.warn('Aspect ratio of should be',this.containerAspectRatio))}},e.exports=r},{'./path':5,'./utils':8}],8:[function(t,e,n){var r='Webkit Moz O ms'.split(' ');function i(t,e,n){for(var i=t.style,o=0;o<r.length;++o){i[r[o]+a(e)]=n}i[e]=n}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return!function(t){return'[object Array]'===Object.prototype.toString.call(t)}(t)&&('object'==typeof t&&!!t)}function o(t,e){for(var n in t){if(t.hasOwnProperty(n))e(t[n],n)}}e.exports={extend:function t(e,n,i){for(var o in e=e||{},i=i||!1,n=n||{})if(n.hasOwnProperty(o)){var r=e[o],a=n[o];i&&s(r)&&s(a)?e[o]=t(r,a,i):e[o]=a}return e},render:function(t,e){var n=t;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],r=new RegExp('\\{'+i+'\\}','g');n=n.replace(r,o)}return n},setStyle:i,setStyles:function(n,t){o(t,function(t,e){null!=t&&(s(t)&&!0===t.prefix?i(n,e,t.value):n.style[e]=t)})},capitalize:a,isString:function(t){return'string'==typeof t||t instanceof String},isFunction:function(t){return'function'==typeof t},isObject:s,forEachObject:o,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},{}]},{},[4])(4)});var Hogan={};!function(t){function c(t,e,n){var i;return e&&'object'==typeof e&&(void 0!==e[t]?i=e[t]:n&&e.get&&'function'==typeof e.get&&(i=e.get(t))),i}t.Template=function(t,e,n,i){t=t||{},this.r=t.code||this.r,this.c=n,this.options=i||{},this.text=e||'',this.partials=t.partials||{},this.subs=t.subs||{},this.buf=''},t.Template.prototype={r:function(t,e,n){return''},v:function(t){return t=s(t),a.test(t)?t.replace(e,'&amp;').replace(n,'&lt;').replace(i,'&gt;').replace(o,'&#39;').replace(r,'&quot;'):t},t:s,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var n=this.partials[t],i=e[n.name];if(n.instance&&n.base==i)return n.instance;if('string'==typeof i){if(!this.c)throw new Error('No compiler available.');i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[t].base=i,n.subs){for(key in e.stackText||(e.stackText={}),n.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=function(t,e,n,i,o,r){function a(){}function s(){}var u;s.prototype=(a.prototype=t).subs;var l=new a;for(u in l.subs=new s,l.subsText={},l.buf='',i=i||{},l.stackSubs=i,l.subsText=r,e)i[u]||(i[u]=e[u]);for(u in i)l.subs[u]=i[u];for(u in o=o||{},l.stackPartials=o,n)o[u]||(o[u]=n[u]);for(u in o)l.partials[u]=o[u];return l}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=i},rp:function(t,e,n,i){var o=this.ep(t,n);return o?o.ri(e,n,i):''},rs:function(t,e,n){var i=t[t.length-1];if(d(i))for(var o=0;o<i.length;o++)t.push(i[o]),n(t,e,this),t.pop();else n(t,e,this)},s:function(t,e,n,i,o,r,a){var s;return(!d(t)||0!==t.length)&&('function'==typeof t&&(t=this.ms(t,e,n,i,o,r,a)),s=!!t,!i&&s&&e&&e.push('object'==typeof t?t:e[e.length-1]),s)},d:function(t,e,n,i){var o,r=t.split('.'),a=this.f(r[0],e,n,i),s=this.options.modelGet,u=null;if('.'===t&&d(e[e.length-2]))a=e[e.length-1];else for(var l=1;l<r.length;l++)a=void 0!==(o=c(r[l],a,s))?(u=a,o):'';return!(i&&!a)&&(i||'function'!=typeof a||(e.push(u),a=this.mv(a,e,n),e.pop()),a)},f:function(t,e,n,i){for(var o=!1,r=!1,a=this.options.modelGet,s=e.length-1;0<=s;s--)if(void 0!==(o=c(t,e[s],a))){r=!0;break}return r?(i||'function'!=typeof o||(o=this.mv(o,e,n)),o):!i&&''},ls:function(t,e,n,i,o){var r=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(s(t.call(e,i)),e,n)),this.options.delimiters=r,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error('Lambda features disabled.');return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf='',t},ms:function(t,e,n,i,o,r,a){var s,u=e[e.length-1],l=t.call(u);return'function'==typeof l?!!i||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(l,u,n,s.substring(o,r),a)):l},mv:function(t,e,n){var i=e[e.length-1],o=t.call(i);return'function'==typeof o?this.ct(s(o.call(i)),i,n):o},sub:function(t,e,n,i){var o=this.subs[t];o&&(this.activeSub=t,o(e,n,this,i),this.activeSub=!1)}};var e=/&/g,n=/</g,i=/>/g,o=/\'/g,r=/\"/g,a=/[&<>\"\']/;function s(t){return String(null==t?'':t)}var d=Array.isArray||function(t){return'[object Array]'===Object.prototype.toString.call(t)}}('undefined'!=typeof exports?exports:Hogan),function(b){var T=/\S/,e=/\"/g,n=/\n/g,i=/\r/g,o=/\\/g,r=/\u2028/,a=/\u2029/;function w(t){'}'===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function _(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,'')}function A(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,o=t.length;i<o;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}b.tags={'#':1,'^':2,'<':3,$:4,'/':5,'!':6,'>':7,'=':8,_v:9,'{':10,'&':11,_t:12},b.scan=function(t,e){var n,i,o,r,a,s=t.length,u=0,l=null,c=null,d='',h=[],p=!1,f=0,m=0,v='{{',g='}}';function y(){0<d.length&&(h.push({tag:'_t',text:new String(d)}),d='')}function E(t,e){if(y(),t&&function(){for(var t=!0,e=m;e<h.length;e++)if(!(t=b.tags[h[e].tag]<b.tags._v||'_t'==h[e].tag&&null===h[e].text.match(T)))return!1;return t}())for(var n,i=m;i<h.length;i++)h[i].text&&((n=h[i+1])&&'>'==n.tag&&(n.indent=h[i].text.toString()),h.splice(i,1));else e||h.push({tag:'\n'});p=!1,m=h.length}for(e&&(e=e.split(' '),v=e[0],g=e[1]),f=0;f<s;f++)0==u?A(v,t,f)?(--f,y(),u=1):'\n'==t.charAt(f)?E(p):d+=t.charAt(f):1==u?(f+=v.length-1,u='='==(l=(c=b.tags[t.charAt(f+1)])?t.charAt(f+1):'_v')?(i=f,void 0,o='='+g,r=(n=t).indexOf(o,i),a=_(n.substring(n.indexOf('=',i)+1,r)).split(' '),v=a[0],g=a[a.length-1],f=r+o.length-1,0):(c&&f++,2),p=f):A(g,t,f)?(h.push({tag:l,n:_(d),otag:v,ctag:g,i:'/'==l?p-v.length:f+g.length}),d='',f+=g.length-1,u=0,'{'==l&&('}}'==g?f++:w(h[h.length-1]))):d+=t.charAt(f);return E(p,!0),h};var l={_t:!0,'\n':!0,$:!0,'/':!0};function c(t,e){for(var n=0,i=e.length;n<i;n++)if(e[n].o==t.n)return t.tag='#',!0}function d(t,e,n){for(var i=0,o=n.length;i<o;i++)if(n[i].c==t&&n[i].o==e)return!0}function s(t){var e=[];for(var n in t.partials)e.push('"'+h(n)+'":{name:"'+h(t.partials[n].name)+'", '+s(t.partials[n])+'}');return'partials: {'+e.join(',')+'}, subs: '+function(t){var e=[];for(var n in t)e.push('"'+h(n)+'": function(c,p,t,i) {'+t[n]+'}');return'{ '+e.join(',')+' }'}(t.subs)}b.stringify=function(t,e,n){return'{code: function (c,p,i) { '+b.wrapMain(t.code)+' },'+s(t)+'}'};var u=0;function h(t){return t.replace(o,'\\\\').replace(e,'\\"').replace(n,'\\n').replace(i,'\\r').replace(r,'\\u2028').replace(a,'\\u2029')}function p(t){return~t.indexOf('.')?'d':'f'}function f(t,e){var n='<'+(e.prefix||'')+t.n+u++;return e.partials[n]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+h(n)+'",c,p,"'+(t.indent||'')+'"));',n}function t(t,e){e.code+='t.b(t.t(t.'+p(t.n)+'("'+h(t.n)+'",c,p,0)));'}function m(t){return't.b('+t+');'}b.generate=function(t,e,n){u=0;var i={code:'',subs:{},partials:{}};return b.walk(t,i),n.asString?this.stringify(i,e,n):this.makeTemplate(i,e,n)},b.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+'return t.fl();'},b.template=b.Template,b.makeTemplate=function(t,e,n){var i=this.makePartials(t);return i.code=new Function('c','p','i',this.wrapMain(t.code)),new this.template(i,e,this,n)},b.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function('c','p','t','i',t.subs[e]);return n},b.codegen={'#':function(t,e){e.code+='if(t.s(t.'+p(t.n)+'("'+h(t.n)+'",c,p,1),c,p,0,'+t.i+','+t.end+',"'+t.otag+' '+t.ctag+'")){t.rs(c,p,function(c,p,t){',b.walk(t.nodes,e),e.code+='});c.pop();}'},'^':function(t,e){e.code+='if(!t.s(t.'+p(t.n)+'("'+h(t.n)+'",c,p,1),c,p,1,0,0,"")){',b.walk(t.nodes,e),e.code+='};'},'>':f,'<':function(t,e){var n={partials:{},code:'',subs:{},inPartial:!0};b.walk(t.nodes,n);var i=e.partials[f(t,e)];i.subs=n.subs,i.partials=n.partials},$:function(t,e){var n={subs:{},code:'',partials:e.partials,prefix:t.n};b.walk(t.nodes,n),e.subs[t.n]=n.code,e.inPartial||(e.code+='t.sub("'+h(t.n)+'",c,p,i);')},'\n':function(t,e){e.code+=m('"\\n"'+(t.last?'':' + i'))},_v:function(t,e){e.code+='t.b(t.v(t.'+p(t.n)+'("'+h(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=m('"'+h(t.text)+'"')},'{':t,'&':t},b.walk=function(t,e){for(var n,i=0,o=t.length;i<o;i++)(n=b.codegen[t[i].tag])&&n(t[i],e);return e},b.parse=function(t,e,n){return function t(e,n,i,o){var r,a=[],s=null,u=null;for(r=i[i.length-1];0<e.length;){if(u=e.shift(),r&&'<'==r.tag&&!(u.tag in l))throw new Error('Illegal content in < super tag.');if(b.tags[u.tag]<=b.tags.$||c(u,o))i.push(u),u.nodes=t(e,u.tag,i,o);else{if('/'==u.tag){if(0===i.length)throw new Error('Closing tag without opener: /'+u.n);if(s=i.pop(),u.n!=s.n&&!d(u.n,s.n,o))throw new Error('Nesting error: '+s.n+' vs. '+u.n);return s.end=u.i,a}'\n'==u.tag&&(u.last=0==e.length||'\n'==e[0].tag)}a.push(u)}if(0<i.length)throw new Error('missing closing tag: '+i.pop().n);return a}(t,0,[],(n=n||{}).sectionTags||[])},b.cache={},b.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join('||')},b.compile=function(t,e){e=e||{};var n=b.cacheKey(t,e),i=this.cache[n];if(i){var o=i.partials;for(var r in o)delete o[r].instance;return i}return i=this.generate(this.parse(this.scan(t,e.delimiters),t,e),t,e),this.cache[n]=i}}('undefined'!=typeof exports?exports:Hogan),function(t){'use strict';function e(t,e){this.callback=t,this.remaining=e}e.prototype.start=function(){this.startTime=new Date,this.timerId=setTimeout(this.callback,this.remaining)},e.prototype.pause=function(){clearTimeout(this.timerId),this.remaining-=new Date-this.startTime},e.prototype.resume=function(){this.startTime=new Date,clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)},e.prototype.stop=function(){clearTimeout(this.timerId)},t.Timer=e}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(t){'use strict';function e(){this.watches={}}e.prototype.start=function(t){this.watches[t]||(this.watches[t]={timestamp:performance.now()})},e.prototype.has=function(t){return!!this.watches[t]},e.prototype.stop=function(t){var e=0;return this.watches[t]&&(e=performance.now()-this.watches[t].timestamp,delete this.watches[t]),parseInt(e.toFixed(0),10)},t.StopWatch=new e}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(t){'use strict';function e(t,e){this.callback=t,this.delay=e}e.prototype.start=function(){this.IntervalId=setInterval(this.callback,this.delay)},e.prototype.stop=function(){clearInterval(this.IntervalId)},t.Interval=e}(window.daumtools=void 0===window.daumtools?{}:window.daumtools),function(i){function t(t){function e(){setTimeout(function(){!0===n._options.checkOnLoad&&(!0===n._options.debug&&n._log('onload->eventCallback','A check loading is launched'),null===n._var.bait&&n._creatBait(),setTimeout(function(){n.check()},1))},1)}this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:'pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links',baitStyle:'width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;',debug:!1},this._var={version:'3.2.1',bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}},void 0!==t&&this.setOption(t);var n=this;void 0!==i.addEventListener?i.addEventListener('load',e,!1):i.attachEvent('onload',e)}t.prototype._options=null,t.prototype._var=null,t.prototype._bait=null,t.prototype._log=function(t,e){console.log('[BlockAdBlock]['+t+'] '+e)},t.prototype.setOption=function(t,e){if(void 0!==e){var n=t;(t={})[n]=e}for(var i in t)this._options[i]=t[i],!0===this._options.debug&&this._log('setOption','The option '+i+' he was assigned to '+t[i]);return this},t.prototype._creatBait=function(){var t=document.createElement('div');t.setAttribute('class',this._options.baitClass),t.setAttribute('style',this._options.baitStyle),this._var.bait=i.document.body.appendChild(t),this._var.bait.offsetParent,this._var.bait.offsetHeight,this._var.bait.offsetLeft,this._var.bait.offsetTop,this._var.bait.offsetWidth,this._var.bait.clientHeight,this._var.bait.clientWidth,!0===this._options.debug&&this._log('_creatBait','Bait has been created')},t.prototype._destroyBait=function(){i.document.body.removeChild(this._var.bait),!(this._var.bait=null)===this._options.debug&&this._log('_destroyBait','Bait has been removed')},t.prototype.check=function(t){if(void 0===t&&(t=!0),!0===this._options.debug&&this._log('check','An audit was requested '+(!0===t?'with a':'without')+' loop'),!0===this._var.checking)return!0===this._options.debug&&this._log('check','A check was canceled because there is already an ongoing'),!1;this._var.checking=!0,null===this._var.bait&&this._creatBait();var e=this;return!(this._var.loopNumber=0)===t&&(this._var.loop=setInterval(function(){e._checkBait(t)},this._options.loopCheckTime)),setTimeout(function(){e._checkBait(t)},1),!0===this._options.debug&&this._log('check','A check is in progress ...'),!0},t.prototype._checkBait=function(t){var e=!1;if(null===this._var.bait&&this._creatBait(),null===i.document.body.getAttribute('abp')&&null!==this._var.bait.offsetParent&&0!=this._var.bait.offsetHeight&&0!=this._var.bait.offsetLeft&&0!=this._var.bait.offsetTop&&0!=this._var.bait.offsetWidth&&0!=this._var.bait.clientHeight&&0!=this._var.bait.clientWidth||(e=!0),void 0!==i.getComputedStyle){var n=i.getComputedStyle(this._var.bait,null);!n||'none'!=n.getPropertyValue('display')&&'hidden'!=n.getPropertyValue('visibility')||(e=!0)}!0===this._options.debug&&this._log('_checkBait','A check ('+(this._var.loopNumber+1)+'/'+this._options.loopMaxNumber+' ~'+(1+this._var.loopNumber*this._options.loopCheckTime)+'ms) was conducted and detection is '+(!0===e?'positive':'negative')),!0===t&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop()),!0===e?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),!0===t&&(this._var.checking=!1)):null!==this._var.loop&&!1!==t||(this._destroyBait(),this.emitEvent(!1),!0===t&&(this._var.checking=!1))},t.prototype._stopLoop=function(t){clearInterval(this._var.loop),this._var.loop=null,!(this._var.loopNumber=0)===this._options.debug&&this._log('_stopLoop','A loop has been stopped')},t.prototype.emitEvent=function(t){!0===this._options.debug&&this._log('emitEvent','An event with a '+(!0===t?'positive':'negative')+' detection was called');var e=this._var.event[!0===t?'detected':'notDetected'];for(var n in e)!0===this._options.debug&&this._log('emitEvent','Call function '+(parseInt(n)+1)+'/'+e.length),e.hasOwnProperty(n)&&e[n]();return!0===this._options.resetOnEnd&&this.clearEvent(),this},t.prototype.clearEvent=function(){this._var.event.detected=[],this._var.event.notDetected=[],!0===this._options.debug&&this._log('clearEvent','The event list has been cleared')},t.prototype.on=function(t,e){return this._var.event[!0===t?'detected':'notDetected'].push(e),!0===this._options.debug&&this._log('on','A type of event '+(!0===t?'detected':'notDetected')+' was added'),this},t.prototype.onDetected=function(t){return this.on(!0,t)},t.prototype.onNotDetected=function(t){return this.on(!1,t)},i.BlockAdBlock=t,void 0===i.blockAdBlock&&(i.blockAdBlock=new t({checkOnLoad:!0,resetOnEnd:!0}))}(window),function(){var t='undefined'!=typeof window?window:global,e={};if(function(a,t){var e,s='function'==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},l=void 0!==a&&a===this?this:void 0!==t&&null!=t?t:this;function u(){u=function(){},l.Symbol||(l.Symbol=i)}var n,i=(n=0,function(t){return'jscomp_symbol_'+(t||'')+n++});function c(){u();var t=l.Symbol.iterator;t=t||(l.Symbol.iterator=l.Symbol('iterator')),'function'!=typeof Array.prototype[t]&&s(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return o(this)}}),c=function(){}}function o(t){var e=0;return r(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function r(t){return c(),(t={next:t})[l.Symbol.iterator]=function(){return this},t}function L(t){c();var e=t[Symbol.iterator];return e?e.call(t):o(t)}function d(t,e){if(e){for(var n=l,i=t.split('.'),o=0;o<i.length-1;o++){var r=i[o];r in n||(n[r]={}),n=n[r]}(r=e(o=n[i=i[i.length-1]]))!=o&&null!=r&&s(n,i,{configurable:!0,writable:!0,value:r})}}function S(t){return function(e){function o(t){return e.next(t)}function r(t){return e.throw(t)}return new Promise(function(n,i){!function t(e){e.done?n(e.value):Promise.resolve(e.value).then(o,r).then(t,i)}(e.next())})}(t())}function h(){this.g=!1,this.c=null,this.w=void 0,this.m=1,this.b=this.f=0,this.i=this.a=null}function p(t){if(t.g)throw new TypeError('Generator is already running');t.g=!0}function f(t,e){t.a={Hc:e,Pc:!0},t.m=t.f||t.b}function U(t,e,n){return t.m=n,{value:e}}function I(t,e,n){t.f=e,null!=n&&(t.b=n)}function m(t,e){t.f=0,t.b=e||0}function N(t,e){t.m=e,t.f=0}function k(t){t.f=0;var e=t.a.Hc;return t.a=null,e}function g(t){t.i=[t.a],t.f=0,t.b=0}function y(t,e){var n=t.i.splice(0)[0];(n=t.a=t.a||n)?n.Pc?t.m=t.f||t.b:null!=n.D&&t.b<n.D?(t.m=n.D,t.a=null):t.m=t.b:t.m=e}function v(t){this.a=new h,this.b=t}function E(e,t,n,i){try{var o=t.call(e.a.c,n);if(!(o instanceof Object))throw new TypeError('Iterator result '+o+' is not an object');if(!o.done)return e.a.g=!1,o;var r=o.value}catch(t){return e.a.c=null,f(e.a,t),b(e)}return e.a.c=null,i.call(e.a,r),b(e)}function b(e){for(;e.a.m;)try{var t=e.b(e.a);if(t)return e.a.g=!1,{value:t.value,done:!1}}catch(t){e.a.w=void 0,f(e.a,t)}if(e.a.g=!1,e.a.a){if(t=e.a.a,e.a.a=null,t.Pc)throw t.Hc;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function T(e){this.next=function(t){return p(e.a),t=e.a.c?E(e,e.a.c.next,t,e.a.h):(e.a.h(t),b(e))},this.throw=function(t){return p(e.a),t=e.a.c?E(e,e.a.c.throw,t,e.a.h):(f(e.a,t),b(e))},this.return=function(t){return function(t,e){p(t.a);var n=t.a.c;return n?E(t,'return'in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),b(t))}(e,t)},c(),this[Symbol.iterator]=function(){return this}}function B(t,e){return T.prototype=t.prototype,new T(new v(e))}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(e.call(n,r,o,t))return{Lc:o,rd:r}}return{Lc:-1,rd:void 0}}function A(t,e,n){if(null==t)throw new TypeError('The \'this\' value for String.prototype.'+n+' must not be null or undefined');if(e instanceof RegExp)throw new TypeError('First argument to String.prototype.'+n+' must not be a regular expression');return t+''}d('Promise',function(t){function s(t){this.b=0,this.g=void 0,this.a=[];var e=this.c();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function u(e){return e instanceof s?e:new s(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){null==this.a&&(this.a=[],this.f()),this.a.push(t)},e.prototype.f=function(){var t=this;this.c(function(){t.h()})};var n=l.setTimeout;e.prototype.c=function(t){n(t,0)},e.prototype.h=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.g(t)}}}this.a=null},e.prototype.g=function(t){this.c(function(){throw t})},s.prototype.c=function(){function t(e){return function(t){i||(i=!0,e.call(n,t))}}var n=this,i=!1;return{resolve:t(this.o),reject:t(this.f)}},s.prototype.o=function(t){if(t===this)this.f(new TypeError('A Promise cannot resolve to itself'));else if(t instanceof s)this.s(t);else{t:switch(typeof t){case'object':var e=null!=t;break t;case'function':e=!0;break t;default:e=!1}e?this.l(t):this.h(t)}},s.prototype.l=function(t){var e=void 0;try{e=t.then}catch(t){return void this.f(t)}'function'==typeof e?this.u(e,t):this.h(t)},s.prototype.f=function(t){this.i(2,t)},s.prototype.h=function(t){this.i(1,t)},s.prototype.i=function(t,e){if(0!=this.b)throw Error('Cannot settle('+t+', '+e+'): Promise already settled in state'+this.b);this.b=t,this.g=e,this.j()},s.prototype.j=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.b(this.a[t]);this.a=null}};var o=new e;return s.prototype.s=function(t){var e=this.c();t.xb(e.resolve,e.reject)},s.prototype.u=function(t,e){var n=this.c();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},s.prototype.then=function(t,e){function n(e,t){return'function'==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,r=new s(function(t,e){i=t,o=e});return this.xb(n(t,i),n(e,o)),r},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.xb=function(t,e){function n(){switch(i.b){case 1:t(i.g);break;case 2:e(i.g);break;default:throw Error('Unexpected state: '+i.b)}}var i=this;null==this.a?o.b(n):this.a.push(n)},s.resolve=u,s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(o){return new s(function(t,e){for(var n=L(o),i=n.next();!i.done;i=n.next())u(i.value).xb(t,e)})},s.all=function(t){var r=L(t),a=r.next();return a.done?u([]):new s(function(n,t){function e(e){return function(t){i[e]=t,0==--o&&n(i)}}for(var i=[],o=0;i.push(void 0),o++,u(a.value).xb(e(i.length-1),t),!(a=r.next()).done;);})},s}),d('Promise.prototype.finally',function(t){return t||function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}}),h.prototype.h=function(t){this.w=t},h.prototype.return=function(t){this.a={return:t},this.m=this.b},h.prototype.D=function(t){this.m=t},d('WeakMap',function(i){function t(t){if(this.a=(r+=Math.random()+1).toString(),t){u(),c(),t=L(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(t){w(t,o)||s(t,o,{value:{}})}function e(t){var e=Object[t];e&&(Object[t]=function(t){return n(t),e(t)})}if(function(){if(!i||!Object.seal)return!1;try{var t=Object.seal({}),e=Object.seal({}),n=new i([[t,2],[e,3]]);return 2==n.get(t)&&3==n.get(e)&&(n.delete(t),n.set(e,4),!n.has(t)&&4==n.get(e))}catch(t){return!1}}())return i;var o='$jscomp_hidden_'+Math.random();e('freeze'),e('preventExtensions'),e('seal');var r=0;return t.prototype.set=function(t,e){if(n(t),!w(t,o))throw Error('WeakMap key fail: '+t);return t[o][this.a]=e,this},t.prototype.get=function(t){return w(t,o)?t[o][this.a]:void 0},t.prototype.has=function(t){return w(t,o)&&w(t[o],this.a)},t.prototype.delete=function(t){return!(!w(t,o)||!w(t[o],this.a))&&delete t[o][this.a]},t}),d('Map',function(o){function n(){var t={};return t.ra=t.next=t.head=t}function t(t,e){var n=t.a;return r(function(){if(n){for(;n.head!=t.a;)n=n.ra;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}})}function i(t,e){var n=e&&typeof e;'object'==n||'function'==n?a.has(e)?n=a.get(e):(n=''+ ++s,a.set(e,n)):n='p_'+e;var i=t.b[n];if(i&&w(t.b,n))for(var o=0;o<i.length;o++){var r=i[o];if(e!=e&&r.key!=r.key||e===r.key)return{id:n,list:i,index:o,R:r}}return{id:n,list:i,index:-1,R:void 0}}function e(t){if(this.b={},this.a=n(),this.size=0,t){t=L(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}if(function(){if(!o||'function'!=typeof o||!o.prototype.entries||'function'!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),e=new o(L([[t,'s']]));if('s'!=e.get(t)||1!=e.size||e.get({x:4})||e.set({x:4},'t')!=e||2!=e.size)return!1;var n=e.entries(),i=n.next();return!i.done&&i.value[0]==t&&'s'==i.value[1]&&!((i=n.next()).done||4!=i.value[0].x||'t'!=i.value[1]||!n.next().done)}catch(t){return!1}}())return o;u(),c();var a=new WeakMap;e.prototype.set=function(t,e){var n=i(this,t);return n.list||(n.list=this.b[n.id]=[]),n.R?n.R.value=e:(n.R={next:this.a,ra:this.a.ra,head:this.a,key:t,value:e},n.list.push(n.R),this.a.ra.next=n.R,this.a.ra=n.R,this.size++),this},e.prototype.delete=function(t){return!(!(t=i(this,t)).R||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this.b[t.id],t.R.ra.next=t.R.next,t.R.next.ra=t.R.ra,t.R.head=null,this.size--,!0)},e.prototype.clear=function(){this.b={},this.a=this.a.ra=n(),this.size=0},e.prototype.has=function(t){return!!i(this,t).R},e.prototype.get=function(t){return(t=i(this,t).R)&&t.value},e.prototype.entries=function(){return t(this,function(t){return[t.key,t.value]})},e.prototype.keys=function(){return t(this,function(t){return t.key})},e.prototype.values=function(){return t(this,function(t){return t.value})},e.prototype.forEach=function(t,e){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},e.prototype[Symbol.iterator]=e.prototype.entries;var s=0;return e}),d('Set',function(o){function t(t){if(this.a=new Map,t){t=L(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.a.size}return function(){if(!o||'function'!=typeof o||!o.prototype.entries||'function'!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),e=new o(L([t]));if(!e.has(t)||1!=e.size||e.add(t)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var n=e.entries(),i=n.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=n.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&n.next().done)}catch(t){return!1}}()?o:(u(),c(),t.prototype.add=function(t){return this.a.set(t,t),this.size=this.a.size,this},t.prototype.delete=function(t){return t=this.a.delete(t),this.size=this.a.size,t},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(t){return this.a.has(t)},t.prototype.entries=function(){return this.a.entries()},t.prototype.keys=t.prototype.values=function(){return this.a.values()},t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,n){var i=this;this.a.forEach(function(t){return e.call(n,t,t,i)})},t)}),d('Array.prototype.findIndex',function(t){return t||function(t,e){return _(this,t,e).Lc}}),d('Array.from',function(t){return t||function(t,e,n){c(),e=null!=e?e:function(t){return t};var i=[],o=t[Symbol.iterator];if('function'==typeof o)for(t=o.call(t);!(o=t.next()).done;)i.push(e.call(n,o.value));else{o=t.length;for(var r=0;r<o;r++)i.push(e.call(n,t[r]))}return i}}),d('Object.is',function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),d('Array.prototype.includes',function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var i=n.length,o=e||0;for(o<0&&(o=Math.max(o+i,0));o<i;o++){var r=n[o];if(r===t||Object.is(r,t))return!0}return!1}}),d('String.prototype.includes',function(t){return t||function(t,e){return-1!==A(this,t,'includes').indexOf(t,e||0)}}),d('Array.prototype.find',function(t){return t||function(t,e){return _(this,t,e).rd}}),d('String.prototype.startsWith',function(t){return t||function(t,e){for(var n=A(this,t,'startsWith'),i=n.length,o=t.length,r=Math.max(0,Math.min(0|e,n.length)),a=0;a<o&&r<i;)if(n[r++]!=t[a++])return!1;return o<=a}});var P=this;function O(t,e){var n,i=t.split('.'),o=P;i[0]in o||!o.execScript||o.execScript('var '+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===e?o=o[n]?o[n]:o[n]={}:o[n]=e}function R(t,i){function e(){}e.prototype=i.prototype,t.Ff=i.prototype,t.prototype=new e,(t.prototype.constructor=t).zf=function(t,e,n){return i.prototype[e].apply(t,Array.prototype.slice.call(arguments,2))}}function C(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function D(t,e,n){var i=Math.pow(t.c,e);n=n*(1-i)+i*t.a,isNaN(n)||(t.a=n,t.b+=e)}function M(t){return t.a/(1-Math.pow(t.c,t.b))}function x(){this.b=new C(2),this.c=new C(5),this.a=0}function V(t,e,n){if(!(n<16e3)){var i=8e3*n/e;e/=1e3,t.a+=n,D(t.b,e,i),D(t.c,e,i)}}function Y(){}function H(){}P.a=!0,x.prototype.getBandwidthEstimate=function(t){return this.a<128e3?t:Math.min(M(this.b),M(this.c))},a.console&&a.console.log.bind&&(Y=console.warn.bind(console));var F=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function G(t){var e;t instanceof G?(q(this,t.la),this.Ka=t.Ka,this.na=t.na,j(this,t.Wa),this.da=t.da,K(this,t.a.clone()),this.Ca=t.Ca):t&&(e=String(t).match(F))?(q(this,e[1]||'',!0),this.Ka=X(e[2]||''),this.na=X(e[3]||'',!0),j(this,e[4]),this.da=X(e[5]||'',!0),K(this,e[6]||'',!0),this.Ca=X(e[7]||'')):this.a=new et(null)}function q(t,e,n){t.la=n?X(e,!0):e,t.la&&(t.la=t.la.replace(/:$/,''))}function j(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error('Bad port number '+e);t.Wa=e}else t.Wa=null}function K(t,e,n){e instanceof et?t.a=e:(n||(e=W(e,Z)),t.a=new et(e))}function X(t,e){return t?e?decodeURI(t):decodeURIComponent(t):''}function W(t,e,n){return'string'==typeof t?(t=encodeURI(t).replace(e,z),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,'%$1')),t):null}function z(t){return'%'+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(e=G.prototype).la='',e.Ka='',e.na='',e.Wa=null,e.da='',e.Ca='',e.toString=function(){var t=[],e=this.la;if(e&&t.push(W(e,$,!0),':'),e=this.na){t.push('//');var n=this.Ka;n&&t.push(W(n,$,!0),'@'),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,'%$1')),null!=(e=this.Wa)&&t.push(':',String(e))}return(e=this.da)&&(this.na&&'/'!=e.charAt(0)&&t.push('/'),t.push(W(e,'/'==e.charAt(0)?J:Q,!0))),(e=this.a.toString())&&t.push('?',e),(e=this.Ca)&&t.push('#',W(e,tt)),t.join('')},e.resolve=function(t){var e=this.clone();'data'===e.la&&(e=new G);var n=!!t.la;n?q(e,t.la):n=!!t.Ka,n?e.Ka=t.Ka:n=!!t.na,n?e.na=t.na:n=null!=t.Wa;var i=t.da;if(n)j(e,t.Wa);else if(n=!!t.da){if('/'!=i.charAt(0))if(this.na&&!this.da)i='/'+i;else{var o=e.da.lastIndexOf('/');-1!=o&&(i=e.da.substr(0,o+1)+i)}if('..'==i||'.'==i)i='';else if(-1!=i.indexOf('./')||-1!=i.indexOf('/.')){o=0==i.lastIndexOf('/',0),i=i.split('/');for(var r=[],a=0;a<i.length;){var s=i[a++];'.'==s?o&&a==i.length&&r.push(''):'..'==s?((1<r.length||1==r.length&&''!=r[0])&&r.pop(),o&&a==i.length&&r.push('')):(r.push(s),o=!0)}i=r.join('/')}}return n?e.da=i:n=''!==t.a.toString(),n?K(e,t.a.clone()):n=!!t.Ca,n&&(e.Ca=t.Ca),e},e.clone=function(){return new G(this)};var $=/[#\/\?@]/g,Q=/[#\?:]/g,J=/[#\?]/g,Z=/[#\?@]/g,tt=/#/g;function et(t){this.a=t||null}function nt(){var n,i,t=new Promise(function(t,e){n=t,i=e});return t.resolve=n,t.reject=i,t}function it(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.i=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.h=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.g=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==e&&e)&&(this.a=1)}function ot(t){if(t.a>=t.i){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var e=new nt;return t.a?(a.setTimeout(e.resolve,t.b*(1+(2*Math.random()-1)*t.h)),t.b*=t.g):e.resolve(),t.a++,e}function rt(t,e,n,i){for(var o=[],r=3;r<arguments.length;++r)o[r-3]=arguments[r];this.severity=t,this.category=e,this.code=n,this.data=o,this.handled=!1}function at(t,e){this.promise=t,this.b=e,this.a=!1}function st(t){return new at(Promise.reject(t),function(){return Promise.resolve()})}function ut(){var t=Promise.reject(new rt(2,7,7001));return t.catch(function(){}),new at(t,function(){return Promise.resolve()})}function lt(t){return new at(Promise.resolve(t),function(){return Promise.resolve()})}function ct(t){return new at(t,function(){return t.catch(function(){})})}function dt(t){return new at(Promise.all(t.map(function(t){return t.promise})),function(){return Promise.all(t.map(function(t){return t.abort()}))})}function ht(t,e,n){try{var i=t(e);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){}).catch(function(){})})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}function pt(t,e){for(var n in e=void 0===e?{}:e)this[n]=e[n];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=a.performance&&a.performance.now?a.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function ft(){this.a={}}function mt(){this.Nb=new ft,this.pb=this}function vt(t){var r=new Set;return function t(e){switch(typeof e){case'undefined':case'boolean':case'number':case'string':case'symbol':case'function':return e;default:if(!e||e.buffer&&e.buffer.constructor==ArrayBuffer)return e;if(r.has(e))return null;var n=e.constructor==Array;if(e.constructor!=Object&&!n)return null;r.add(e);var i,o=n?[]:{};for(i in e)o[i]=t(e[i]);return n&&(o.length=e.length),o}}(t)}function gt(t,e){return!('number'!=typeof t||'number'!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function yt(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}function Et(t,e,n){if(n=n||gt,t.length!=e.length)return!1;e=e.slice();for(var i={},o=(t=L(t)).next();!o.done;i={item:i.item},o=t.next()){if(i.item=o.value,-1==(o=e.findIndex(function(e){return function(t){return n(e.item,t)}}(i))))return!1;e[o]=e[e.length-1],e.pop()}return 0==e.length}function bt(){this.a=[]}function Tt(t,e){t.a.push(e.finally(function(){yt(t.a,e)}))}function wt(t){mt.call(this),this.f=!1,this.g=new bt,this.a=new Set,this.b=new Set,this.c=t||null}(e=et.prototype).ca=null,e.zb=null,e.add=function(t,e){if(!this.ca&&(this.ca={},this.zb=0,this.a))for(var n=this.a.split('&'),i=0;i<n.length;i++){var o=n[i].indexOf('='),r=null;if(0<=o){var a=n[i].substring(0,o);r=n[i].substring(o+1)}else a=n[i];a=decodeURIComponent(a.replace(/\+/g,' ')),r=r||'',this.add(a,decodeURIComponent(r.replace(/\+/g,' ')))}return this.a=null,(n=this.ca.hasOwnProperty(t)&&this.ca[t])||(this.ca[t]=n=[]),n.push(e),this.zb++,this},e.toString=function(){if(this.a)return this.a;if(!this.ca)return'';var t,e=[];for(t in this.ca)for(var n=encodeURIComponent(t),i=this.ca[t],o=0;o<i.length;o++){var r=n;''!==i[o]&&(r+='='+encodeURIComponent(i[o])),e.push(r)}return this.a=e.join('&')},e.clone=function(){var t=new et;if(t.a=this.a,this.ca){var e,n={};for(e in this.ca)n[e]=this.ca[e].concat();t.ca=n,t.zb=this.zb}return t},nt.prototype.resolve=function(){},nt.prototype.reject=function(){},O('shaka.util.Error',rt),rt.prototype.toString=function(){return'shaka.util.Error '+JSON.stringify(this,null,'  ')},rt.Severity={RECOVERABLE:1,CRITICAL:2},rt.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},rt.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},O('shaka.util.AbortableOperation',at),at.failed=st,at.aborted=ut,at.completed=lt,at.notAbortable=ct,at.prototype.abort=at.prototype.abort=function(){return this.a=!0,this.b()},at.all=dt,at.prototype.finally=at.prototype.finally=function(t){return this.promise.then(function(){return t(!0)},function(){return t(!1)}),this},at.prototype.chain=at.prototype.Y=function(e,n){function i(){return r.reject(new rt(2,7,7001)),o.abort()}var o=this,r=new nt;return this.promise.then(function(t){o.a?r.reject(new rt(2,7,7001)):e?i=ht(e,t,r):r.resolve(t)},function(t){n?i=ht(n,t,r):r.reject(t)}),new at(r,function(){return i()})},pt.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},pt.prototype.stopImmediatePropagation=function(){this.a=!0},pt.prototype.stopPropagation=function(){},(e=ft.prototype).push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},e.get=function(t){return(t=this.a[t])?t.slice():null},e.getAll=function(){var t,e=[];for(t in this.a)e.push.apply(e,this.a[t]);return e},e.remove=function(t,e){var n=this.a[t];if(n)for(var i=0;i<n.length;++i)n[i]==e&&(n.splice(i,1),--i)},e.forEach=function(t){for(var e in this.a)t(e,this.a[e])},mt.prototype.addEventListener=function(t,e){this.Nb.push(t,e)},mt.prototype.removeEventListener=function(t,e){this.Nb.remove(t,e)},mt.prototype.dispatchEvent=function(t){for(var e=this.Nb.get(t.type)||[],n=0;n<e.length;++n){t.target=this.pb,t.currentTarget=this.pb;var i=e[n];try{i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},bt.prototype.destroy=function(){var e=[];return this.a.forEach(function(t){t.promise.catch(function(){}),e.push(t.abort())}),this.a=[],Promise.all(e)},R(wt,mt),O('shaka.net.NetworkingEngine',wt),wt.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},wt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var _t={};function At(t,e,n){n=n||3;var i=_t[t];(!i||n>=i.priority)&&(_t[t]={priority:n,Ge:e})}function Lt(t,e){return{uris:t,method:'GET',body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null}}function St(n){return n.then=function(t,e){return Y('The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5.'),n.promise.then(t,e)},n.catch=function(t){return Y('The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5.'),n.promise.catch(t)},n}function It(){this.a=new ft}function Nt(t,e,n,i){t.a&&(e=new Ot(e,n,i),t.a.push(n,e))}function kt(t,e,n,i){Nt(t,e,n,function(t){this.sa(e,n),i(t)}.bind(t))}function Pt(t){if(t.a){for(var e=t.a.getAll(),n=0;n<e.length;++n)e[n].sa();t.a.a={}}}function Ot(t,e,n){this.target=t,this.type=e,this.a=n,this.target.addEventListener(e,n,!1)}wt.registerScheme=At,wt.unregisterScheme=function(t){delete _t[t]},wt.prototype.registerRequestFilter=wt.prototype.He=function(t){this.a.add(t)},wt.prototype.unregisterRequestFilter=wt.prototype.mf=function(t){this.a.delete(t)},wt.prototype.clearAllRequestFilters=wt.prototype.Ed=function(){this.a.clear()},wt.prototype.registerResponseFilter=wt.prototype.Ie=function(t){this.b.add(t)},wt.prototype.unregisterResponseFilter=wt.prototype.nf=function(t){this.b.delete(t)},wt.prototype.clearAllResponseFilters=wt.prototype.Fd=function(){this.b.clear()},wt.prototype.destroy=wt.prototype.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},wt.prototype.request=wt.prototype.request=function(i,t){var o=this;if(this.f)return St(ut());t.method=t.method||'GET',t.headers=t.headers||{},t.retryParameters=t.retryParameters?vt(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=vt(t.uris);var e=function(t,e,n){for(var i=lt(void 0),o={},r=(t=L(t.a)).next();!r.done;o={qc:o.qc},r=t.next())o.qc=r.value,i=i.Y(function(t){return function(){return t.qc(e,n)}}(o));return i.Y(void 0,function(t){if(t&&7001==t.code)throw t;throw new rt(2,1,1006,t)})}(this,i,t),n=e.Y(function(){return function e(n,i,o,r,a,s){var t=new G(o.uris[a]),u=t.la,l=!1;u||(u=location.protocol,u=u.slice(0,-1),q(t,u),o.uris[a]=t.toString());var c=(u=_t[u])?u.Ge:null;if(!c)return st(new rt(2,1,1e3,t));var d;return ct(ot(r)).Y(function(){if(n.f)return ut();d=Date.now();var t=c(o.uris[a],o,i,function(t,e){n.c&&1==i&&(n.c(t,e),l=!0)});return null==t.promise&&(Y('The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5.'),t=ct(t)),t}).Y(function(t){return null==t.timeMs&&(t.timeMs=Date.now()-d),{response:t,$d:l}},function(t){if(t&&7001==t.code)throw t;if(n.f)return ut();if(t&&1==t.severity)return n.dispatchEvent(new pt('retry',{error:t instanceof rt?t:null})),a=(a+1)%o.uris.length,e(n,i,o,r,a,t);throw t||s})}(o,i,t,new it(t.retryParameters,!1),0,null)}),r=n.Y(function(t){return function(t,e,n){for(var i=lt(void 0),o=(t=L(t.b)).next();!o.done;o=t.next())i=i.Y(o.value.bind(null,e,n.response));return i.Y(function(){return n},function(t){if(t&&7001==t.code)throw t;var e=2;throw t instanceof rt&&(e=t.severity),new rt(e,1,1007,t)})}(o,i,t)}),a=Date.now(),s=0;e.promise.then(function(){s=Date.now()-a},function(){});var u=0;return n.promise.then(function(){u=Date.now()},function(){}),e=r.Y(function(t){var e=Date.now()-u,n=t.response;return n.timeMs+=s,n.timeMs+=e,t.$d||!o.c||n.fromCache||1!=i||o.c(n.timeMs,n.data.byteLength),n},function(t){throw t&&(t.severity=2),t}),Tt(this.g,e),St(e)},It.prototype.destroy=function(){return Pt(this),this.a=null,Promise.resolve()},It.prototype.sa=function(t,e){if(this.a)for(var n=this.a.get(e)||[],i=0;i<n.length;++i){var o=n[i];o.target==t&&(o.sa(),this.a.remove(e,o))}},Ot.prototype.sa=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null};var Rt={Gd:function(t,e){return t.reduce(function(t,e,n){return e.catch(t.bind(null,n))}.bind(null,e),Promise.reject())},Pb:function(t,e){return t.concat(e)},Ea:function(){},ta:function(t){return null!=t}};function Ct(e){var n=new Map;return Object.keys(e).forEach(function(t){n.set(t,e[t])}),n}function Dt(t){var n={};return t.forEach(function(t,e){n[e]=t}),n}function Mt(t,e){var n=t;return e&&(n+='; codecs="'+e+'"'),n}function xt(t){var e=(t=t.split('.'))[0];return t.pop(),[e,t.join('.')]}var Ut=(new Map).set('codecs','codecs').set('frameRate','framerate').set('bandwidth','bitrate').set('width','width').set('height','height').set('channelsCount','channels');function Bt(t){if(!t)return'';239==(t=new Uint8Array(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=escape(Ft(t));try{return decodeURIComponent(t)}catch(t){throw new rt(2,2,2004)}}function Vt(t,e,n){if(!t)return'';if(!n&&0!=t.byteLength%2)throw new rt(2,2,2004);if(t instanceof ArrayBuffer)var i=t;else(n=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),i=n.buffer;t=Math.floor(t.byteLength/2),n=new Uint16Array(t),i=new DataView(i);for(var o=0;o<t;o++)n[o]=i.getUint16(2*o,e);return Ft(n)}function Yt(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return Bt(e);if(254==e[0]&&255==e[1])return Vt(e.subarray(2),!1);if(255==e[0]&&254==e[1])return Vt(e.subarray(2),!0);var n=function(t,e){return t.byteLength<=e||32<=t[e]&&t[e]<=126}.bind(null,e);if(0==e[0]&&0==e[2])return Vt(t,!1);if(0==e[1]&&0==e[3])return Vt(t,!0);if(n(0)&&n(1)&&n(2)&&n(3))return Bt(t);throw new rt(2,2,2003)}function Ht(t){t=encodeURIComponent(t),t=unescape(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e.buffer}function Ft(t){for(var e='',n=0;n<t.length;n+=16e3)e+=String.fromCharCode.apply(null,t.subarray(n,n+16e3));return e}function Gt(t){this.a=null,this.b=function(){this.a=null,t()}.bind(this)}function qt(t,e){t.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*e)}.bind(t);t.a=setTimeout(n,1e3*e)}function jt(t,e){var n=Ft(t);return e=null==e||e,n=a.btoa(n).replace(/\+/g,'-').replace(/\//g,'_'),e?n:n.replace(/=*$/,'')}function Kt(t){t=a.atob(t.replace(/-/g,'+').replace(/_/g,'/'));for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e}function Xt(t){for(var e=new Uint8Array(t.length/2),n=0;n<t.length;n+=2)e[n/2]=a.parseInt(t.substr(n,2),16);return e}function Wt(t){for(var e='',n=0;n<t.length;++n){var i=t[n].toString(16);1==i.length&&(i='0'+i),e+=i}return e}function zt(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!1;return!0}function $t(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var i=n=0;i<e.length;++i)n+=e[i].length;n=new Uint8Array(n);for(var o=i=0;o<e.length;++o)n.set(e[o],i),i+=e[o].length;return n}function Qt(e){var n=this;this.u=e,this.l=this.i=this.o=null,this.P=!1,this.a=null,this.g=new It,this.b=new Map,this.s=[],this.j=new nt,this.f=null,this.h=function(t){n.j.reject(t),e.onError(t)},this.ia=new Map,this.Z=new Map,this.J=new Gt(function(){return function(t){var e=t.ia,n=t.Z;n.clear(),e.forEach(function(t,e){return n.set(e,t)}),(e=Array.from(n.values())).length&&e.every(function(t){return'expired'==t})&&t.h(new rt(2,6,6014)),t.u.Vc(Dt(n))}(n)}),this.A=this.c=!1,this.M=[],this.$=!1,this.B=new Gt(function(){return function(o){o.b.forEach(function(t,e){var n=t.jc,i=e.expiration;isNaN(i)&&(i=1/0),i!=n&&(o.u.onExpirationUpdated(e.sessionId,i),t.jc=i)})}(n)}),qt(this.B,1),this.j.catch(function(){})}function Jt(t,e){var n=e.some(function(t){return 0<t.drmInfos.length});if(!n){var i=Ct(t.f.servers);!function(t,e){var n=[];e.forEach(function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:'',videoRobustness:'',serverCertificate:null,initData:[],keyIds:[]})});for(var i=L(t),o=i.next();!o.done;o=i.next())o.value.drmInfos=n}(e,i)}var o=function(t){if(0==(t=Ct(t.f.clearKeys)).size)return null;var o=[],r=[];t.forEach(function(t,e){var n=Xt(e),i=Xt(t);n={kty:'oct',kid:jt(n,!1),k:jt(i,!1)},o.push(n),r.push(n.kid)}),t=JSON.stringify({keys:o});var e=JSON.stringify({kids:r});return e=[{initData:new Uint8Array(Ht(e)),initDataType:'keyids'}],{keySystem:'org.w3.clearkey',licenseServerUri:'data:application/json;base64,'+a.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:'',videoRobustness:'',serverCertificate:null,initData:e,keyIds:[]}}(t);if(o){var r=L(e);for(i=r.next();!i.done;i=r.next())i.value.drmInfos=[o]}for(i=(o=L(e)).next();!i.done;i=o.next())for(r=(i=L(i.value.drmInfos)).next();!r.done;r=i.next())de(r.value,Ct(t.f.servers),Ct(t.f.advanced||{}));return(i=function(t,e){for(var n=new Set,i=L(e),o=i.next();!o.done;o=i.next()){var r=L(o.value.drmInfos);for(o=r.next();!o.done;o=r.next())n.add(o.value)}for(i=L(n),o=i.next();!o.done;o=i.next())de(o.value,Ct(t.f.servers),Ct(t.f.advanced||{}));r=t.A?'required':'optional';var a=t.A?['persistent-license']:['temporary'];for(i=new Map,n=L(n),o=n.next();!o.done;o=n.next())o=o.value,i.set(o.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:'optional',persistentState:r,sessionTypes:a,label:o.keySystem,drmInfos:[]});for(n=L(e),o=n.next();!o.done;o=n.next()){o=o.value,r=o.audio,a=o.video;var s=r?Mt(r.mimeType,r.codecs):'',u=a?Mt(a.mimeType,a.codecs):'',l=L(o.drmInfos);for(o=l.next();!o.done;o=l.next()){o=o.value;var c=i.get(o.keySystem);c.drmInfos.push(o),o.distinctiveIdentifierRequired&&(c.distinctiveIdentifier='required'),o.persistentStateRequired&&(c.persistentState='required'),r&&c.audioCapabilities.push({robustness:o.audioRobustness||'',contentType:s}),a&&c.videoCapabilities.push({robustness:o.videoRobustness||'',contentType:u})}}return i}(t,e)).size?(i=function(t,s){if(1==s.size&&s.has(''))return Promise.reject(new rt(2,6,6e3));for(var e=L(s.values()),n=e.next();!n.done;n=e.next())0==(n=n.value).audioCapabilities.length&&delete n.audioCapabilities,0==n.videoCapabilities.length&&delete n.videoCapabilities;var o=e=new nt;return[!0,!1].forEach(function(n){var i=this;s.forEach(function(t,e){t.drmInfos.some(function(t){return!!t.licenseServerUri})==n&&(o=o.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(e,[t])}.bind(i)))})}.bind(t)),o=(o=o.catch(function(){return Promise.reject(new rt(2,6,6001))})).then(function(t){if(this.c)return Promise.reject();var e=navigator.userAgent.includes('Edge/'),n=t.getConfiguration(),i=n.audioCapabilities||[];n=n.videoCapabilities||[],this.o=new Set;var o=L(i);for(i=o.next();!i.done;i=o.next())this.o.add(i.value.contentType);for(i=(n=L(n)).next();!i.done;i=n.next())this.o.add(i.value.contentType);e&&(this.o=null),e=t.keySystem,i=[],o=[];var r=[],a=[];return function(t,n,i,o,r){t.forEach(function(e){if(n.includes(e.licenseServerUri)||n.push(e.licenseServerUri),e.serverCertificate&&(i.some(function(t){return zt(t,e.serverCertificate)})||i.push(e.serverCertificate)),e.initData&&e.initData.forEach(function(e){o.some(function(t){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&zt(t.initData,e.initData)})||o.push(e)}),e.keyIds)for(var t=0;t<e.keyIds.length;++t)r.includes(e.keyIds[t])||r.push(e.keyIds[t])})}((n=s.get(t.keySystem)).drmInfos,i,o,r,a),this.a={keySystem:e,licenseServerUri:i[0],distinctiveIdentifierRequired:'required'==n.distinctiveIdentifier,persistentStateRequired:'required'==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:'',videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:'',serverCertificate:o[0],initData:r,keyIds:a},this.a.licenseServerUri?t.createMediaKeys():Promise.reject(new rt(2,6,6012))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.i=t,this.P=!0}.bind(t)).catch(function(t){return this.c?Promise.resolve():(this.o=this.a=null,t instanceof rt?Promise.reject(t):Promise.reject(new rt(2,6,6002,t.message)))}.bind(t)),e.reject(),o}(t,i),n?i:i.catch(function(){})):(t.P=!0,Promise.resolve())}function Zt(n){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:if(n.i&&n.a&&n.a.serverCertificate&&n.a.serverCertificate.length)return I(t,3),U(t,n.i.setServerCertificate(n.a.serverCertificate),5);t.D(0);break;case 5:N(t,0);break;case 3:return e=k(t),t.return(Promise.reject(new rt(2,6,6004,e.message)))}})})}function te(e){var t=e.a?e.a.initData:[];return t.forEach(function(t){return ie(e,t.initDataType,t.initData)}),e.s.forEach(function(t){return function(e,t){try{var n=e.i.createSession('persistent-license')}catch(t){var i=new rt(2,6,6005,t.message);return e.h(i),Promise.reject(i)}Nt(e.g,n,'message',e.$c.bind(e)),Nt(e.g,n,'keystatuseschange',e.Wc.bind(e));var o={initData:null,loaded:!1,jc:1/0,xa:null};return e.b.set(n,o),n.load(t).then(function(t){if(!this.c){if(t)return o.loaded=!0,le(this)&&this.j.resolve(),n;this.b.delete(n),this.h(new rt(2,6,6013))}}.bind(e),function(t){this.c||(this.b.delete(n),this.h(new rt(2,6,6005,t.message)))}.bind(e))}(e,t)}),t.length||e.s.length||e.j.resolve(),e.j}function ee(t,e,n){for(var i=t.b.values(),o=(i=L(i)).next();!o.done;o=i.next())if(zt(n,o.value.initData))return;ie(t,e,n)}function ne(t){return t=function(t,e){for(var n=[],i=L(t),o=i.next();!o.done;o=i.next())n.push(e(o.value));return n}(t=t.b.keys(),function(t){return t.sessionId}),Array.from(t)}function ie(e,t,n){try{var i=e.A?e.i.createSession('persistent-license'):e.i.createSession()}catch(t){return void e.h(new rt(2,6,6005,t.message))}Nt(e.g,i,'message',e.$c.bind(e)),Nt(e.g,i,'keystatuseschange',e.Wc.bind(e)),e.b.set(i,{initData:n,loaded:!1,jc:1/0,xa:null}),i.generateRequest(t,n.buffer).catch(function(t){e.c||(e.b.delete(i),e.h(new rt(2,6,6006,t.message)))})}function oe(t,e){var n=e.target,i=t.b.get(n),o=t.a.licenseServerUri,r=t.f.advanced[t.a.keySystem];'individualization-request'==e.messageType&&r&&r.individualizationServer&&(o=r.individualizationServer),(o=Lt([o],t.f.retryParameters)).body=e.message,o.method='POST',o.licenseRequestType=e.messageType,'com.microsoft.playready'!=t.a.keySystem&&'com.chromecast.playready'!=t.a.keySystem||function(t){var e=Vt(t.body,!0,!0);if(e.includes('PlayReadyKeyMessage')){for(var n=(e=(new DOMParser).parseFromString(e,'application/xml')).getElementsByTagName('HttpHeader'),i=0;i<n.length;++i)t.headers[n[i].querySelector('name').textContent]=n[i].querySelector('value').textContent;t.body=Kt(e.querySelector('Challenge').textContent).buffer}else t.headers['Content-Type']='text/xml; charset=utf-8'}(o),t.u.Gb.request(2,o).promise.then(function(t){return this.c?Promise.reject():n.update(t.data).then(function(){var t=this;this.u.onEvent(new pt('drmsessionupdate')),i&&(i.xa&&i.xa.resolve(),ce(pe).then(function(){i.loaded=!0,le(t)&&t.j.resolve()}))}.bind(this))}.bind(t),function(t){if(this.c)return Promise.resolve();t=new rt(2,6,6007,t),this.h(t),i&&i.xa&&i.xa.reject(t)}.bind(t)).catch(function(t){if(this.c)return Promise.resolve();t=new rt(2,6,6008,t.message),this.h(t),i&&i.xa&&i.xa.reject(t)}.bind(t))}function re(){var t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],r=[{videoCapabilities:t,persistentState:'required',sessionTypes:['persistent-license']},{videoCapabilities:t}],a=new Map;return t='org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime'.split(' ').map(function(t){return function(o){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return I(t,2),U(t,navigator.requestMediaKeySystemAccess(o,r),4);case 4:return e=t.w,i=!!(n=e.getConfiguration().sessionTypes)&&n.includes('persistent-license'),navigator.userAgent.includes('Tizen 3')&&(i=!1),a.set(o,{persistentState:i}),U(t,e.createMediaKeys(),5);case 5:N(t,0);break;case 2:k(t),a.set(o,null),t.m=0}})})}(t)}),Promise.all(t).then(function(){return Dt(a)})}function ae(t,e){if(e.audio&&e.audio.encrypted&&!se(t,e.audio)||e.video&&e.video.encrypted&&!se(t,e.video))return!1;var n=t.keySystem();return 0==e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==n})}function se(t,e){return null==t.o||t.o.has(Mt(e.mimeType,e.codecs))}function ue(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],i=0;i<t.length;i++)for(var o=0;o<e.length;o++)if(t[i].keySystem==e[o].keySystem){var r=t[i];o=e[o];var a=[];a=(a=a.concat(r.initData||[])).concat(o.initData||[]);var s=[];s=(s=s.concat(r.keyIds)).concat(o.keyIds),n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}return n}function le(t){return function(t,e){for(var n=L(t),i=n.next();!i.done;i=n.next())if(!e(i.value))return!1;return!0}(t=t.b.values(),function(t){return t.loaded})}function ce(e){return new Promise(function(t){return setTimeout(t,1e3*e)})}function de(t,e,n){var i=t.keySystem;i&&(!t.licenseServerUri&&(e=e.get(i))&&(t.licenseServerUri=e),t.keyIds||(t.keyIds=[]),(n=n.get(i))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate)),a.cast&&a.cast.__platform__&&'com.microsoft.playready'==t.keySystem&&(t.keySystem='com.chromecast.playready'))}O('shaka.util.StringUtils.fromUTF8',Bt),O('shaka.util.StringUtils.fromUTF16',Vt),O('shaka.util.StringUtils.fromBytesAutoDetect',Yt),O('shaka.util.StringUtils.toUTF8',Ht),Gt.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},O('shaka.util.Uint8ArrayUtils.toBase64',jt),O('shaka.util.Uint8ArrayUtils.fromBase64',Kt),O('shaka.util.Uint8ArrayUtils.fromHex',Xt),O('shaka.util.Uint8ArrayUtils.toHex',Wt),O('shaka.util.Uint8ArrayUtils.equal',zt),O('shaka.util.Uint8ArrayUtils.concat',$t),(e=Qt.prototype).destroy=function(){this.c=!0;for(var t=[],e=this.b.keys(),n={},i=(e=L(e)).next();!i.done;n={$b:n.$b},i=e.next()){i=i.value,n.$b=!1,i=i.close().then(function(t){return function(){t.$b=!0}}(n),Rt.Ea);var o=ce(he).then(function(){});t.push(Promise.race([i,o]))}return this.j.reject(),this.g&&t.push(this.g.destroy()),this.l&&t.push(this.l.setMediaKeys(null).catch(Rt.Ea)),this.B&&(this.B.cancel(),this.B=null),this.J&&(this.J.cancel(),this.J=null),this.g=this.l=this.i=this.o=this.a=null,this.b.clear(),this.s=[],this.u=this.h=this.f=null,Promise.all(t)},e.configure=function(t){this.f=t},e.wb=function(t){var e=this;if(!this.i)return kt(this.g,t,'encrypted',function(){e.h(new rt(2,6,6010))}),Promise.resolve();this.l=t,kt(this.g,this.l,'play',function(){for(var t=0;t<e.M.length;t++)oe(e,e.M[t]);e.$=!0,e.M=[]}),t=(t=this.l.setMediaKeys(this.i)).catch(function(t){return Promise.reject(new rt(2,6,6003,t.message))});var n=Zt(this);return Promise.all([t,n]).then(function(){if(e.c)return Promise.reject();te(e),e.a.initData.length||e.s.length||Nt(e.g,e.l,'encrypted',function(t){return ee(e,t.initDataType,new Uint8Array(t.initData))})}).catch(function(t){return e.c?Promise.resolve():Promise.reject(t)})},e.keySystem=function(){return this.a?this.a.keySystem:''},e.Db=function(){for(var t=1/0,e=this.b.keys(),n=(e=L(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},e.$c=function(t){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.$?this.M.push(t):oe(this,t)},e.Wc=function(t){t=t.target;var a=this.b.get(t);if(a){var s=!1;t.keyStatuses.forEach(function(t,e){if('string'==typeof e){var n=e;e=t,t=n}if('com.microsoft.playready'==this.a.keySystem&&16==e.byteLength){var i=(n=new DataView(e)).getUint32(0,!0),o=n.getUint16(4,!0),r=n.getUint16(6,!0);n.setUint32(0,i,!1),n.setUint16(4,o,!1),n.setUint16(6,r,!1)}'com.microsoft.playready'==this.a.keySystem&&'status-pending'==t&&(t='usable'),'status-pending'!=t&&(a.loaded=!0),'expired'==t&&(s=!0),n=Wt(new Uint8Array(e)),this.ia.set(n,t)}.bind(this));var e=t.expiration-Date.now();(e<0||s&&e<1e3)&&!a.xa&&(this.b.delete(t),t.close().catch(function(){})),le(this)&&(this.j.resolve(),function(t){var e=fe;t.cancel(),t.a=setTimeout(t.b,1e3*e)}(this.J))}};var he=1,pe=5,fe=.5;function me(t){return!t||1==t.length&&t.end(0)-t.start(0)<1e-6?null:t.length?t.end(t.length-1):null}function ve(t,e,n){return n=void 0===n?0:n,!(!t||!t.length||1==t.length&&t.end(0)-t.start(0)<1e-6||e>t.end(t.length-1))&&e+n>=t.start(0)}function ge(t,e){if(!t||!t.length||1==t.length&&t.end(0)-t.start(0)<1e-6)return 0;for(var n=0,i=t.length-1;0<=i&&t.end(i)>e;--i)n+=t.end(i)-Math.max(t.start(i),e);return n}function ye(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function Ee(t,e,n){this.startTime=t,this.endTime=e,this.payload=n,this.region=new Re,this.position=null,this.positionAlign=be,this.size=100,this.textAlign=Te,this.writingDirection=Le,this.lineInterpretation=Se,this.line=null,this.lineHeight='',this.lineAlign=Ie,this.displayAlign=_e,this.fontSize=this.backgroundColor=this.color='',this.fontWeight=ke,this.fontStyle=Pe,this.fontFamily='',this.textDecoration=[],this.wrapLine=!0,this.id=''}O('shaka.text.Cue',Ee);var be='auto';Ee.positionAlign={LEFT:'line-left',RIGHT:'line-right',CENTER:'center',AUTO:be};var Te='center',we={LEFT:'left',RIGHT:'right',CENTER:Te,START:'start',END:'end'};Ee.textAlign=we;var _e='before',Ae={BEFORE:_e,CENTER:'center',AFTER:'after'};Ee.displayAlign=Ae;var Le=0;Ee.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:Le,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var Se=0;Ee.lineInterpretation={LINE_NUMBER:Se,PERCENTAGE:1};var Ie='center',Ne={CENTER:Ie,START:'start',END:'end'};Ee.lineAlign=Ne;var ke=400;Ee.fontWeight={NORMAL:ke,BOLD:700};var Pe='normal',Oe={NORMAL:Pe,ITALIC:'italic',OBLIQUE:'oblique'};function Re(){this.id='',this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Ce,this.scroll=De}Ee.fontStyle=Oe,Ee.textDecoration={UNDERLINE:'underline',LINE_THROUGH:'lineThrough',OVERLINE:'overline'},O('shaka.text.CueRegion',Re);var Ce=1;Re.units={PX:0,PERCENTAGE:Ce,LINES:2};var De='';function Me(t,e){if(0==e.length)return t;var n=e.map(function(t){return new G(t)});return t.map(function(t){return new G(t)}).map(function(t){return n.map(t.resolve.bind(t))}).reduce(Rt.Pb,[]).map(function(t){return t.toString()})}function xe(t,e){return{keySystem:t,licenseServerUri:'',distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:'',videoRobustness:'',serverCertificate:null,initData:e||[],keyIds:[]}}Re.scrollMode={NONE:De,UP:'up'};var Ue={xd:'video',sd:'audio',Ma:'text',vf:'application'},Be=1/15;function Ve(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on('data',this.i.bind(this)),this.a.on('done',this.h.bind(this))}function Ye(t,e){return!(!a.muxjs||'mp2t'!=t.split(';')[0].split('/')[1])&&(e?MediaSource.isTypeSupported(He(e,t)):MediaSource.isTypeSupported(He('audio',t))||MediaSource.isTypeSupported(He('video',t)))}function He(t,e){var n=e.replace('mp2t','mp4');'audio'==t&&(n=n.replace('video','audio'));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var o='avc1.',r=i[1],a=Number(i[2]);o=('66'==r?o+'4200':'77'==r?o+'4d00':o+'6400')+(a>>4).toString(16),o+=(15&a).toString(16),n=n.replace(i[0],o)}return n}function Fe(t){this.f=null,this.c=t,this.h=this.i=0,this.g=1/0,this.b=this.a=null}Ve.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Ve.prototype.i=function(t){for(var e=0;e<t.captions.length;e++){var n=t.captions[e];this.c.push(new Ee(n.startTime,n.endTime,n.text))}(e=new Uint8Array(t.data.byteLength+t.initSegment.byteLength)).set(t.initSegment,0),e.set(t.data,t.initSegment.byteLength),this.g.push(e)},Ve.prototype.h=function(){var t={data:$t.apply(null,this.g),cues:this.c};this.b.resolve(t),this.f=!1};var Ge={};function qe(t){this.f=t,this.s=null,this.b={},this.a=null,this.c={},this.h=new It,this.o=!1,this.i={},this.l=!1,t=this.j=new nt;var e=new MediaSource;kt(this.h,e,'sourceopen',t.resolve),this.f.src=a.URL.createObjectURL(e),this.g=e}function je(t){var e=Mt(t.mimeType,t.codecs),n=function(i){var o=[i.mimeType];return Ut.forEach(function(t,e){var n=i[e];n&&o.push(t+'="'+n+'"')}),o.join(';')}(t);return!!Ge[e]||MediaSource.isTypeSupported(n)||Ye(e,t.type)}function Ke(t,e){t.a||(t.a=new Fe(t.s)),t.a.f=new Ge[e]}function Xe(t,e){if('text'==e)var n=t.a.a;else n=!(n=We(t,e))||1==n.length&&n.end(0)-n.start(0)<1e-6?null:1==n.length&&n.start(0)<0?0:n.length?n.start(0):null;return n}function We(t,e){try{return t.b[e].buffered}catch(t){return null}}function ze(t,e,n,i,o){return'text'==e?function(t,e,n,i){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==n||null==i)this.f.parseInit(new Uint8Array(e));else{var t={periodStart:this.i,segmentStart:n,segmentEnd:i};t=this.f.parseMedia(new Uint8Array(e),t).filter(function(t){return t.startTime>=this.h&&t.startTime<this.g}.bind(this)),this.c.append(t),null==this.a&&(this.a=Math.max(n,this.h)),this.b=Math.min(i,this.g)}}.bind(t))}(t.a,n,i,o):t.i[e]?function(t,e){t.f=!0,t.b=new nt,t.g=[],t.c=[];var n=new Uint8Array(e);return t.a.push(n),t.a.flush(),t.f&&t.b.reject(new rt(2,3,3018)),t.b}(t.i[e],n).then(function(t){return this.a||Ke(this,'text/vtt'),this.l&&this.a.Cc(t.cues),Qe(this,e,this.nd.bind(this,e,t.data.buffer))}.bind(t)):Qe(t,e,t.nd.bind(t,e,n))}function $e(t,e){return'text'==e?t.a?t.a.remove(0,1/0):Promise.resolve():Qe(t,e,t.od.bind(t,e,0,t.g.duration))}function Qe(e,n,i){if(e.o)return Promise.reject();if(i={start:i,p:new nt},e.c[n].push(i),1==e.c[n].length)try{i.start()}catch(t){'QuotaExceededError'==t.name?i.p.reject(new rt(2,3,3017,n)):i.p.reject(new rt(2,3,3015,t)),Ze(e,n)}return i.p}function Je(t,n){if(t.o)return Promise.reject();var e,i=[];for(e in t.b){var o=new nt,r={start:function(t){t.resolve()}.bind(null,o),p:o};t.c[e].push(r),i.push(o),1==t.c[e].length&&r.start()}return Promise.all(i).then(function(){try{n()}catch(t){var e=Promise.reject(new rt(2,3,3015,t))}for(var t in this.b)Ze(this,t);return e}.bind(t),function(){return Promise.reject()}.bind(t))}function Ze(e,n){e.c[n].shift();var i=e.c[n][0];if(i)try{i.start()}catch(t){i.p.reject(new rt(2,3,3015,t)),Ze(e,n)}}function tn(t,e,n){return n==e||nn<=t&&n==e.split('-')[0]||on<=t&&n.split('-')[0]==e.split('-')[0]}function en(t){var e=t.indexOf('-');if(0<=e){var n=t.substring(0,e);t=t.substring(e+1)}else n=t,t='';return n=n.toLowerCase(),n=rn.get(n)||n,(t=t.toUpperCase())?n+'-'+t:n}O('shaka.text.TextEngine.registerParser',function(t,e){Ge[t]=e}),O('shaka.text.TextEngine.unregisterParser',function(t){delete Ge[t]}),Fe.prototype.destroy=function(){return this.c=this.f=null,Promise.resolve()},Fe.prototype.setDisplayer=Fe.prototype.Ye=function(t){this.c=t},Fe.prototype.Xb=function(t){try{return this.f.parseMedia(new Uint8Array(t),{periodStart:0,segmentStart:null,segmentEnd:0})[0].startTime}catch(t){throw new rt(2,2,2009,t)}},Fe.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},Fe.prototype.appendCues=Fe.prototype.Cc=function(t){this.c.append(t)},(e=qe.prototype).destroy=function(){this.o=!0;var t,e=[];for(t in this.c){var n=this.c[t],i=n[0];for(this.c[t]=n.slice(0,1),i&&e.push(i.p.catch(Rt.Ea)),i=1;i<n.length;++i)n[i].p.catch(Rt.Ea),n[i].p.reject()}for(var o in this.a&&e.push(this.a.destroy()),this.i)e.push(this.i[o].destroy());return Promise.all(e).then(function(){var t=this.h?this.h.destroy():null;return this.f&&(this.f.removeAttribute('src'),this.f.load()),this.s=this.a=this.g=this.f=this.h=null,this.b={},this.i={},this.c={},t}.bind(this))},e.init=function(e,o){var r=this;return S(function t(){var i;return B(t,function(t){switch(t.m){case 1:return i=Ue,U(t,r.j,2);case 2:e.forEach(function(t,e){var n=Mt(t.mimeType,t.codecs);e==i.Ma?Ke(r,n):(!o&&MediaSource.isTypeSupported(n)||!Ye(n,e)||(r.i[e]=new Ve,n=He(e,n)),n=r.g.addSourceBuffer(n),Nt(r.h,n,'error',r.hf.bind(r,e)),Nt(r.h,n,'updateend',r.Ua.bind(r,e)),r.b[e]=n,r.c[e]=[])}),t.m=0}})})},e.Ub=function(){var t=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:ye(this.f.buffered),audio:ye(We(this,'audio')),video:ye(We(this,'video')),text:t}},e.remove=function(t,e,n){return'text'==t?this.a.remove(e,n):Qe(this,t,this.od.bind(this,t,e,n))},e.flush=function(t){return'text'==t?Promise.resolve():Qe(this,t,this.Kd.bind(this,t))},e.endOfStream=function(t){return Je(this,function(){t?this.g.endOfStream(t):this.g.endOfStream()}.bind(this))},e.ma=function(t){return Je(this,function(){this.g.duration=t}.bind(this))},e.S=function(){return this.g.duration},e.nd=function(t,e){this.b[t].appendBuffer(e)},e.od=function(t,e,n){n<=e?this.Ua(t):this.b[t].remove(e,n)},e.zd=function(t){var e=this.b[t].appendWindowStart,n=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=n,this.Ua(t)},e.Kd=function(t){this.f.currentTime-=.001,this.Ua(t)},e.$e=function(t,e){e<0&&(e+=.001),this.b[t].timestampOffset=e,this.Ua(t)},e.We=function(t,e,n){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=n,this.b[t].appendWindowStart=e,this.Ua(t)},e.hf=function(t){this.c[t][0].p.reject(new rt(2,3,3014,this.f.error?this.f.error.code:0))},e.Ua=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Ze(this,t))};var nn=1,on=2,rn=new Map([['aar','aa'],['abk','ab'],['afr','af'],['aka','ak'],['alb','sq'],['amh','am'],['ara','ar'],['arg','an'],['arm','hy'],['asm','as'],['ava','av'],['ave','ae'],['aym','ay'],['aze','az'],['bak','ba'],['bam','bm'],['baq','eu'],['bel','be'],['ben','bn'],['bih','bh'],['bis','bi'],['bod','bo'],['bos','bs'],['bre','br'],['bul','bg'],['bur','my'],['cat','ca'],['ces','cs'],['cha','ch'],['che','ce'],['chi','zh'],['chu','cu'],['chv','cv'],['cor','kw'],['cos','co'],['cre','cr'],['cym','cy'],['cze','cs'],['dan','da'],['deu','de'],['div','dv'],['dut','nl'],['dzo','dz'],['ell','el'],['eng','en'],['epo','eo'],['est','et'],['eus','eu'],['ewe','ee'],['fao','fo'],['fas','fa'],['fij','fj'],['fin','fi'],['fra','fr'],['fre','fr'],['fry','fy'],['ful','ff'],['geo','ka'],['ger','de'],['gla','gd'],['gle','ga'],['glg','gl'],['glv','gv'],['gre','el'],['grn','gn'],['guj','gu'],['hat','ht'],['hau','ha'],['heb','he'],['her','hz'],['hin','hi'],['hmo','ho'],['hrv','hr'],['hun','hu'],['hye','hy'],['ibo','ig'],['ice','is'],['ido','io'],['iii','ii'],['iku','iu'],['ile','ie'],['ina','ia'],['ind','id'],['ipk','ik'],['isl','is'],['ita','it'],['jav','jv'],['jpn','ja'],['kal','kl'],['kan','kn'],['kas','ks'],['kat','ka'],['kau','kr'],['kaz','kk'],['khm','km'],['kik','ki'],['kin','rw'],['kir','ky'],['kom','kv'],['kon','kg'],['kor','ko'],['kua','kj'],['kur','ku'],['lao','lo'],['lat','la'],['lav','lv'],['lim','li'],['lin','ln'],['lit','lt'],['ltz','lb'],['lub','lu'],['lug','lg'],['mac','mk'],['mah','mh'],['mal','ml'],['mao','mi'],['mar','mr'],['may','ms'],['mkd','mk'],['mlg','mg'],['mlt','mt'],['mon','mn'],['mri','mi'],['msa','ms'],['mya','my'],['nau','na'],['nav','nv'],['nbl','nr'],['nde','nd'],['ndo','ng'],['nep','ne'],['nld','nl'],['nno','nn'],['nob','nb'],['nor','no'],['nya','ny'],['oci','oc'],['oji','oj'],['ori','or'],['orm','om'],['oss','os'],['pan','pa'],['per','fa'],['pli','pi'],['pol','pl'],['por','pt'],['pus','ps'],['que','qu'],['roh','rm'],['ron','ro'],['rum','ro'],['run','rn'],['rus','ru'],['sag','sg'],['san','sa'],['sin','si'],['slk','sk'],['slo','sk'],['slv','sl'],['sme','se'],['smo','sm'],['sna','sn'],['snd','sd'],['som','so'],['sot','st'],['spa','es'],['sqi','sq'],['srd','sc'],['srp','sr'],['ssw','ss'],['sun','su'],['swa','sw'],['swe','sv'],['tah','ty'],['tam','ta'],['tat','tt'],['tel','te'],['tgk','tg'],['tgl','tl'],['tha','th'],['tib','bo'],['tir','ti'],['ton','to'],['tsn','tn'],['tso','ts'],['tuk','tk'],['tur','tr'],['twi','tw'],['uig','ug'],['ukr','uk'],['urd','ur'],['uzb','uz'],['ven','ve'],['vie','vi'],['vol','vo'],['wel','cy'],['wln','wa'],['wol','wo'],['xho','xh'],['yid','yi'],['yor','yo'],['zha','za'],['zho','zh'],['zul','zu']]);function an(t,e,n){function i(t,e,n){return e<=t&&t<=n}var o=t.video;return!(o&&o.width&&o.height&&!(i(o.width,e.minWidth,Math.min(e.maxWidth,n.width))&&i(o.height,e.minHeight,Math.min(e.maxHeight,n.height))&&i(o.width*o.height,e.minPixels,e.maxPixels))||!i(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function sn(t,n,i){var o=!1;return t.forEach(function(t){var e=t.allowedByApplication;t.allowedByApplication=an(t,n,i),e!=t.allowedByApplication&&(o=!0)}),o}function un(n,i,o,t){t.variants=t.variants.filter(function(t){if(n&&n.P&&!ae(n,t))return!1;var e=t.audio;return t=t.video,!(e&&!je(e)||t&&!je(t)||e&&i&&!ln(e,i)||t&&o&&!ln(t,o))}),t.textStreams=t.textStreams.filter(function(t){return!!Ge[Mt(t.mimeType,t.codecs)]})}function ln(t,e){return t.mimeType==e.mimeType&&t.codecs.split('.')[0]==e.codecs.split('.')[0]}function cn(t){var e=t.audio,n=t.video,i=e?e.codecs:null,o=n?n.codecs:null,r=[];o&&r.push(o),i&&r.push(i);var a=[];n&&a.push(n.mimeType),e&&a.push(e.mimeType),a=a[0]||null;var s=[];e&&s.push(e.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;return e&&e.roles.forEach(function(t){return u.add(t)}),n&&n.roles.forEach(function(t){return u.add(t)}),t={id:t.id,active:!1,type:'variant',bandwidth:t.bandwidth,language:t.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:a,codecs:r.join(', '),audioCodec:i,videoCodec:o,primary:t.primary,roles:Array.from(u),videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.videoBandwidth=n.bandwidth||null),e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioBandwidth=e.bandwidth||null,t.label=e.label),t}function dn(t){return{id:t.id,active:!1,type:'text',bandwidth:0,language:t.language,label:t.label,kind:t.kind||null,width:null,height:null,frameRate:null,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:t.originalId}}function hn(t,n,i){return mn(t.variants).map(function(t){var e=cn(t);return t.video&&t.audio?e.active=i==t.video.id&&n==t.audio.id:t.video?e.active=i==t.video.id:t.audio&&(e.active=n==t.audio.id),e})}function pn(t,n){return t.textStreams.map(function(t){var e=dn(t);return e.active=n==t.id,e})}function fn(t){return t.allowedByApplication&&t.allowedByKeySystem}function mn(t){return t.filter(function(t){return fn(t)})}function vn(t,e){var n=t.filter(function(t){return t.audio&&t.audio.channelsCount}).reduce(function(t,e){var n=e.audio.channelsCount;return t[n]?t[n].push(e):t[n]=[e],t},{}),i=Object.keys(n);if(0==i.length)return t;var o=i.filter(function(t){return t<=e});return o.length?n[Math.max.apply(null,o)]:n[Math.min.apply(null,i)]}function gn(t,e,n){var o=t,i=t.filter(function(t){return t.primary});i.length&&(o=i);var r=o.length?o[0].language:'';if(o=o.filter(function(t){return t.language==r}),e){var a=en(e);[on,nn,0].forEach(function(n){var i=!1;t.forEach(function(t){var e=en(t.language);tn(n,a,e)&&(i?o.push(t):(o=[t],i=!0))})})}if(n){if((e=yn(o,n)).length)return e}else if((e=o.filter(function(t){return 0==t.roles.length})).length)return e;return(e=o.map(function(t){return t.roles}).reduce(Rt.Pb,[])).length?yn(o,e[0]):o}function yn(t,e){return t.filter(function(t){return t.roles.includes(e)})}function En(t,e,n){for(var i=0;i<n.length;i++)if(n[i].audio==t&&n[i].video==e)return n[i];return null}function bn(t,e){for(var n=t.periods.length-1;0<n;--n)if(e+Be>=t.periods[n].startTime)return n;return 0}function Tn(t,e){for(var n=0;n<t.periods.length;++n){var i=t.periods[n];if('text'==e.type){for(var o=0;o<i.textStreams.length;++o)if(i.textStreams[o]==e)return n}else for(o=0;o<i.variants.length;++o){var r=i.variants[o];if(r.audio==e||r.video==e||r.video&&r.video.trickModeVideo==e)return n}}return-1}function wn(t){var e=[];return t.periods.forEach(function(t){t.variants.forEach(function(t){e.push(t)})}),e}function _n(){this.h=this.i=null,this.c=!1,this.b=new x,this.g=[],this.j=!1,this.a=this.f=null}function An(e,t){return e&&(t=t.filter(function(t){return an(t,e,{width:1/0,height:1/0})})),t.sort(function(t,e){return t.bandwidth-e.bandwidth})}function Ln(){this.h=null,this.f=!1,this.b=new x,this.c=[],this.i=!1,this.a=this.g=null}function Sn(e,t){return e&&(t=t.filter(function(t){return an(t,e,{width:1/0,height:1/0})})),t.sort(function(t,e){return t.bandwidth-e.bandwidth})}O('shaka.abr.KakaotvAbrManager',_n),_n.prototype.stop=_n.prototype.stop=function(){this.h=this.i=null,this.c=!1,this.g=[],this.f=null},_n.prototype.init=_n.prototype.init=function(t){this.i=t},_n.prototype.chooseVariant=_n.prototype.chooseVariant=function(){var t=An(this.a.restrictions,this.g),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.g.length&&!t.length&&(t=[(t=An(null,this.g))[0]]);for(var n=t[0]||null,i=0;i<t.length;++i){var o=t[i],r=(t[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=o.bandwidth/this.a.bandwidthDowngradeTarget&&e<=r&&(n=o)}return this.f=Date.now(),n},_n.prototype.enable=_n.prototype.enable=function(){this.c=!0},_n.prototype.disable=_n.prototype.disable=function(){this.c=!1},_n.prototype.segmentDownloaded=_n.prototype.segmentDownloaded=function(t,e){if(V(this.b,t,e),null!=this.f&&this.c)t:{if(this.j){if(Date.now()-this.f<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.j=!0}var n=this.chooseVariant();this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.i(n)}this.h&&this.h({Bf:t,Ef:e,Cf:this.f,enabled:this.c,yf:this.b})},_n.prototype.getBandwidthEstimate=_n.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},_n.prototype.setVariants=_n.prototype.setVariants=function(t){this.g=t},_n.prototype.configure=_n.prototype.configure=function(t){this.a=t},O('shaka.abr.SimpleAbrManager',Ln),Ln.prototype.stop=Ln.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},Ln.prototype.init=Ln.prototype.init=function(t){this.h=t},Ln.prototype.chooseVariant=Ln.prototype.chooseVariant=function(){var t=Sn(this.a.restrictions,this.c),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!t.length&&(t=[(t=Sn(null,this.c))[0]]);for(var n=t[0]||null,i=0;i<t.length;++i){var o=t[i],r=(t[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=o.bandwidth/this.a.bandwidthDowngradeTarget&&e<=r&&(n=o)}return this.g=Date.now(),n},Ln.prototype.enable=Ln.prototype.enable=function(){this.f=!0},Ln.prototype.disable=Ln.prototype.disable=function(){this.f=!1},Ln.prototype.segmentDownloaded=Ln.prototype.segmentDownloaded=function(t,e){if(V(this.b,t,e),null!=this.g&&this.f)t:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}var n=this.chooseVariant();this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Ln.prototype.getBandwidthEstimate=Ln.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Ln.prototype.setVariants=Ln.prototype.setVariants=function(t){this.c=t},Ln.prototype.configure=Ln.prototype.configure=function(t){this.a=t};var In='ended play playing pause pausing ratechange seeked seeking timeupdate volumechange'.split(' '),Nn='buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume'.split(' '),kn=['loop','playbackRate'],Pn=['pause','play'],On='adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading'.split(' '),Rn={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,usingEmbeddedTextTrack:2,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},Cn={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Dn=[['getConfiguration','configure']],Mn=[['isTextTrackVisible','setTextTrackVisibility']],xn='addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay'.split(' '),Un=['attach','detach','load','unload'];function Bn(t){return JSON.stringify(t,function(t,e){if('function'!=typeof e){if(e instanceof Event||e instanceof pt){var n,i={};for(n in e){var o=e[n];o&&'object'==typeof o?'detail'==n&&(i[n]=o):n in Event||(i[n]=o)}return i}if(e instanceof TimeRanges)for(i={__type__:'TimeRanges',length:e.length,start:[],end:[]},n=0;n<e.length;++n)i.start.push(e.start(n)),i.end.push(e.end(n));else i='number'==typeof e?isNaN(e)?'NaN':isFinite(e)?e:e<0?'-Infinity':'Infinity':e;return i}})}function Vn(t){return JSON.parse(t,function(t,e){return'NaN'==e?NaN:'-Infinity'==e?-1/0:'Infinity'==e?1/0:e&&'object'==typeof e&&'TimeRanges'==e.__type__?function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(e):e})}function Yn(t,e,n,i,o,r){this.M=t,this.g=e,this.P=n,this.j=!1,this.B=i,this.J=o,this.u=r,this.b=this.h=!1,this.A='',this.i=null,this.l=this.Tc.bind(this),this.o=this.ke.bind(this),this.a={video:{},player:{}},this.s=0,this.c={},this.f=null}var Hn=!1,Fn=null;function Gn(t){var e=Fn;e.removeUpdateListener(t.l),e.removeMessageListener('urn:x-cast:com.google.shaka.v2',t.o)}function qn(t){for(var e in t.c){var n=t.c[e];delete t.c[e],n.reject(new rt(1,7,7e3))}}function jn(t){t=Bn(t),Fn.sendMessage('urn:x-cast:com.google.shaka.v2',t,function(){},H)}function Kn(t,e,n){mt.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.j=this.h=null,this.a=new Yn(n,this.cf.bind(this),this.df.bind(this),this.ef.bind(this),this.ff.bind(this),this.Kc.bind(this)),function(t){for(var e in t.a.init(),t.i=new It,In.forEach(function(t){Nt(this.i,this.c,t,this.tf.bind(this))}.bind(t)),On.forEach(function(t){Nt(this.i,this.b,t,this.Fe.bind(this))}.bind(t)),t.h={},t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.sf.bind(t,e),set:t.uf.bind(t,e)});for(var n in t.j={},t.b)Object.defineProperty(t.j,n,{configurable:!1,enumerable:!0,get:t.ad.bind(t,n)});t.f=new mt,t.f.pb=t.h,t.g=new mt,t.g.pb=t.j}(this)}function Xn(t,e,n,i){mt.call(this),this.a=t,this.b=e,this.c=new It,this.u={video:t,player:e},this.A=n||function(){},this.B=i||function(t){return t},this.s=!1,this.h=!0,this.g=0,this.o=!1,this.j=!0,this.l=this.i=this.f=null,function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=t.Zc.bind(t),e.onSenderDisconnected=t.Zc.bind(t),e.onSystemVolumeChanged=t.Id.bind(t),t.i=e.getCastMessageBus('urn:x-cast:com.google.cast.media'),t.i.onMessage=t.ge.bind(t),t.f=e.getCastMessageBus('urn:x-cast:com.google.shaka.v2'),t.f.onMessage=t.te.bind(t),e.start(),In.forEach(function(t){Nt(this.c,this.a,t,this.cd.bind(this,'video'))}.bind(t)),On.forEach(function(t){Nt(this.c,this.b,t,this.cd.bind(this,'player'))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.tc(3840,2160):t.b.tc(1920,1080),Nt(t.c,t.a,'loadeddata',function(){this.o=!0}.bind(t)),Nt(t.c,t.b,'loading',function(){this.h=!1,Wn(this)}.bind(t)),Nt(t.c,t.a,'playing',function(){this.h=!1,Wn(this)}.bind(t)),Nt(t.c,t.a,'pause',function(){Wn(this)}.bind(t)),Nt(t.c,t.b,'unloading',function(){this.h=!0,Wn(this)}.bind(t)),Nt(t.c,t.a,'ended',function(){a.setTimeout(function(){this.a&&this.a.ended&&(this.h=!0,Wn(this))}.bind(this),5e3)}.bind(t))}(this)}function Wn(t){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new pt('caststatuschanged')),zn(this)||Jn(this,0))}.bind(t))}function zn(t){return!(!t.j||!t.a.duration&&!t.b.W())&&($n(t),!(t.j=!1))}function $n(t){var e={contentId:t.b.Tb(),streamType:t.b.W()?'LIVE':'BUFFERED',duration:t.a.duration,contentType:''};Jn(t,0,e)}function Qn(t,e,n,i){t.s&&(t=Bn(e),i?n.getCastChannel(i).send(t):n.broadcast(t))}function Jn(t,e,n){var i=t.a.playbackRate,o=Zn;i={mediaSessionId:0,playbackRate:i,playerState:o=t.h?o.IDLE:t.b.Oc()?o.td:t.a.paused?o.vd:o.wd,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}},n&&(i.media=n),Qn(t,{requestId:e,type:'MEDIA_STATUS',status:[i]},t.i)}(e=Yn.prototype).destroy=function(){return qn(this),Fn&&Gn(this),this.J=this.B=this.g=null,this.b=this.h=!1,this.o=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},e.ba=function(){return this.b},e.nc=function(){return this.A},e.init=function(){if(a.chrome&&chrome.cast&&chrome.cast.isAvailable){delete a.__onGCastApiAvailable,this.h=!0,this.g();var t=new chrome.cast.SessionRequest(this.M);t=new chrome.cast.ApiConfig(t,this.Uc.bind(this),this.qe.bind(this),'origin_scoped'),chrome.cast.initialize(t,function(){},function(){}),Hn&&setTimeout(this.g.bind(this),20),(t=Fn)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.Uc(t):Fn=null}else a.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},e.sc=function(t){this.i=t,this.b&&jn({type:'appData',appData:this.i})},e.cast=function(t){return this.h?Hn?this.b?Promise.reject(new rt(1,8,8002)):(this.f=new nt,chrome.cast.requestSession(this.kc.bind(this,t),this.Sc.bind(this)),this.f):Promise.reject(new rt(1,8,8001)):Promise.reject(new rt(1,8,8e3))},e.Bb=function(){this.b&&(qn(this),Fn&&(Gn(this),Fn.stop(function(){},function(){}),Fn=null))},e.get=function(t,e){if('video'==t){if(Pn.includes(e))return this.ed.bind(this,t,e)}else if('player'==t){if(Cn[e]&&!this.get('player','isLive')())return function(){};if(xn.includes(e))return this.ed.bind(this,t,e);if(Un.includes(e))return this.Ke.bind(this,t,e);if(Rn[e])return this.bd.bind(this,t,e)}return this.bd(t,e)},e.set=function(t,e,n){jn({type:'set',targetName:t,property:e,value:this.a[t][e]=n})},e.kc=function(t,e){(Fn=e).addUpdateListener(this.l),e.addMessageListener('urn:x-cast:com.google.shaka.v2',this.o),this.Tc(),jn({type:'init',initState:t,appData:this.i}),this.f.resolve()},e.Sc=function(t){var e=8003;switch(t.code){case'cancel':e=8004;break;case'timeout':e=8005;break;case'receiver_unavailable':e=8006}this.f.reject(new rt(2,8,e,t))},e.bd=function(t,e){return this.a[t][e]},e.ed=function(t,e,n){for(var i=[],o=2;o<arguments.length;++o)i[o-2]=arguments[o];jn({type:'call',targetName:t,methodName:e,args:i})},e.Ke=function(t,e,n){for(var i=[],o=2;o<arguments.length;++o)i[o-2]=arguments[o];o=new nt;var r=this.s.toString();return this.s++,this.c[r]=o,jn({type:'asyncCall',targetName:t,methodName:e,args:i,id:r}),o},e.Uc=function(t){var e=this.u();this.f=new nt,this.j=!0,this.kc(e,t)},e.qe=function(t){Hn='available'==t,this.g()},e.Tc=function(){var t=!!Fn&&'connected'==Fn.status;if(this.b&&!t){for(var e in this.J(),this.a)this.a[e]={};qn(this)}this.A=(this.b=t)?Fn.receiver.friendlyName:'',this.g()},e.ke=function(t,e){var n=Vn(e);switch(n.type){case'event':var i=n.event;this.B(n.targetName,new pt(i.type,i));break;case'update':for(var o in i=n.update)for(var r in n=this.a[o]||{},i[o])n[r]=i[o][r];this.j&&(this.P(),this.j=!1);break;case'asyncComplete':if(o=n.id,n=n.error,r=this.c[o],delete this.c[o],r)if(n){for(i in o=new rt(n.severity,n.category,n.code),n)o[i]=n[i];r.reject(o)}else r.resolve()}},R(Kn,mt),O('shaka.cast.CastProxy',Kn),Kn.prototype.destroy=Kn.prototype.destroy=function(t){return t&&this.a&&this.a.Bb(),t=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(t)},Kn.prototype.getVideo=Kn.prototype.Zd=function(){return this.h},Kn.prototype.getPlayer=Kn.prototype.Td=function(){return this.j},Kn.prototype.canCast=Kn.prototype.Bd=function(){return!!this.a&&(this.a.h&&Hn)},Kn.prototype.isCasting=Kn.prototype.ba=function(){return!!this.a&&this.a.ba()},Kn.prototype.receiverName=Kn.prototype.nc=function(){return this.a?this.a.nc():''},Kn.prototype.cast=Kn.prototype.cast=function(){var t=this.Kc();return this.a.cast(t).then(function(){if(this.b)return this.b.nb()}.bind(this))},Kn.prototype.setAppData=Kn.prototype.sc=function(t){this.a.sc(t)},Kn.prototype.suggestDisconnect=Kn.prototype.kf=function(){var t=this.a;if(t.b){var e=t.u();chrome.cast.requestSession(t.kc.bind(t,e),t.Sc.bind(t))}},Kn.prototype.forceDisconnect=Kn.prototype.Bb=function(){this.a.Bb()},(e=Kn.prototype).Kc=function(){var n={video:{},player:{},playerAfterLoad:{},manifest:this.b.Tb(),startTime:null};return this.c.pause(),kn.forEach(function(t){n.video[t]=this.c[t]}.bind(this)),this.c.ended||(n.startTime=this.c.currentTime),Dn.forEach(function(t){var e=t[1];t=this.b[t[0]](),n.player[e]=t}.bind(this)),Mn.forEach(function(t){var e=t[1];t=this.b[t[0]](),n.playerAfterLoad[e]=t}.bind(this)),n},e.cf=function(){this.dispatchEvent(new pt('caststatuschanged'))},e.df=function(){this.f.dispatchEvent(new pt(this.h.paused?'pause':'play'))},e.ff=function(){var e=this;Dn.forEach(function(t){var e=t[1];t=this.a.get('player',t[0])(),this.b[e](t)}.bind(this));var t=this.a.get('player','getAssetUri')(),n=this.a.get('video','ended'),i=Promise.resolve(),o=this.c.autoplay,r=null;n||(r=this.a.get('video','currentTime')),t&&(this.c.autoplay=!1,i=this.b.load(t,r));var a={};kn.forEach(function(t){a[t]=this.a.get('video',t)}.bind(this)),i.then(function(){e.c&&(kn.forEach(function(t){this.c[t]=a[t]}.bind(e)),Mn.forEach(function(t){var e=t[1];t=this.a.get('player',t[0])(),this.b[e](t)}.bind(e)),e.c.autoplay=o,t&&e.c.play())},function(t){e.b.dispatchEvent(new pt('error',{detail:t}))})},e.sf=function(t){if('addEventListener'==t)return this.f.addEventListener.bind(this.f);if('removeEventListener'==t)return this.f.removeEventListener.bind(this.f);if(this.a.ba()&&0==Object.keys(this.a.a.video).length){var e=this.c[t];if('function'!=typeof e)return e}return this.a.ba()?this.a.get('video',t):('function'==typeof(t=this.c[t])&&(t=t.bind(this.c)),t)},e.uf=function(t,e){this.a.ba()?this.a.set('video',t,e):this.c[t]=e},e.tf=function(t){this.a.ba()||this.f.dispatchEvent(new pt(t.type,t))},e.ad=function(t){if('addEventListener'==t)return this.g.addEventListener.bind(this.g);if('removeEventListener'==t)return this.g.removeEventListener.bind(this.g);if('getMediaElement'==t)return function(){return this.h}.bind(this);if('getSharedConfiguration'==t)return this.a.get('player','getConfiguration');if('getNetworkingEngine'==t)return this.b.Oa.bind(this.b);if(this.a.ba()){if('getManifest'==t||'drmInfo'==t)return function(){return Y(t+'() does not work while casting!'),null};if('getManifestUri'==t)return Y('"getManifestUri" is deprecated. Please use "getAssetUri".'),this.ad('getAssetUri');if('attach'==t||'detach'==t)return function(){return Y(t+'() does not work while casting!'),Promise.resolve()}}return this.a.ba()&&0==Object.keys(this.a.a.video).length&&Rn[t]||!this.a.ba()?this.b[t].bind(this.b):this.a.get('player',t)},e.Fe=function(t){this.a.ba()||this.g.dispatchEvent(t)},e.ef=function(t,e){this.a.ba()&&('video'==t?this.f.dispatchEvent(e):'player'==t&&this.g.dispatchEvent(e))},R(Xn,mt),O('shaka.cast.CastReceiver',Xn),Xn.prototype.isConnected=Xn.prototype.isConnected=function(){return this.s},Xn.prototype.isIdle=Xn.prototype.ce=function(){return this.h},Xn.prototype.destroy=Xn.prototype.destroy=function(){var t=[this.c?this.c.destroy():null,this.b?this.b.destroy():null];return null!=this.l&&a.clearTimeout(this.l),this.A=this.u=this.c=this.b=this.a=null,this.s=!1,this.h=!0,this.l=this.i=this.f=null,Promise.all(t).then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},(e=Xn.prototype).Zc=function(){this.g=0,this.j=!0,this.s=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Wn(this)},e.cd=function(t,e){this.b&&(this.lc(),Qn(this,{type:'event',targetName:t,event:e},this.f))},e.lc=function(){null!=this.l&&a.clearTimeout(this.l),this.l=a.setTimeout(this.lc.bind(this),500);var e={video:{},player:{}};if(Nn.forEach(function(t){e.video[t]=this.a[t]}.bind(this)),this.b.W())for(var t in Cn)0==this.g%Cn[t]&&(e.player[t]=this.b[t]());for(var n in Rn)0==this.g%Rn[n]&&(e.player[n]=this.b[n]());(t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=t.level,e.video.muted=t.muted),this.o&&(this.g+=1),Qn(this,{type:'update',update:e},this.f),zn(this)},e.Id=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Qn(this,{type:'update',update:{video:{volume:t.level,muted:t.muted}}},this.f),Qn(this,{type:'event',targetName:'video',event:{type:'volumechange'}},this.f)},e.te=function(t){var e=Vn(t.data);switch(e.type){case'init':this.g=0,this.o=!1,this.j=!0,function(n,i,t){for(var e in i.player)n.b[e](i.player[e]);n.A(t),t=Promise.resolve();var o=n.a.autoplay;i.manifest&&(n.a.autoplay=!1,t=n.b.load(i.manifest,i.startTime)),t.then(function(){if(n.b){for(var t in i.video)n.a[t]=i.video[t];for(var e in i.playerAfterLoad)n.b[e](i.playerAfterLoad[e]);n.a.autoplay=o,i.manifest&&(n.a.play(),Jn(n,0))}},function(t){n.b.dispatchEvent(new pt('error',{detail:t}))})}(this,e.initState,e.appData),this.lc();break;case'appData':this.A(e.appData);break;case'set':var n=e.targetName,i=e.property;if(e=e.value,'video'==n){var o=cast.receiver.CastReceiverManager.getInstance();if('volume'==i){o.setSystemVolumeLevel(e);break}if('muted'==i){o.setSystemVolumeMuted(e);break}}this.u[n][i]=e;break;case'call':(n=this.u[e.targetName])[e.methodName].apply(n,e.args);break;case'asyncCall':n=e.targetName,i=e.methodName,'player'==n&&'load'==i&&(this.g=0,this.o=!1),o=e.id,t=t.senderId;var r=this.u[n];e=r[i].apply(r,e.args),'player'==n&&'load'==i&&(e=e.then(function(){this.j=!0}.bind(this))),e.then(this.jd.bind(this,t,o,null),this.jd.bind(this,t,o))}},e.ge=function(t){var n=Vn(t.data);switch(n.type){case'PLAY':this.a.play(),Jn(this,0);break;case'PAUSE':this.a.pause(),Jn(this,0);break;case'SEEK':t=n.currentTime;var e=n.resumeState;null!=t&&(this.a.currentTime=Number(t)),e&&'PLAYBACK_START'==e?(this.a.play(),Jn(this,0)):e&&'PLAYBACK_PAUSE'==e&&(this.a.pause(),Jn(this,0));break;case'STOP':this.b.nb().then(function(){this.b&&Jn(this,0)}.bind(this));break;case'GET_STATUS':Jn(this,Number(n.requestId));break;case'VOLUME':t=(e=n.volume).level,e=e.muted;var i=this.a.volume,o=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=e&&(this.a.muted=e),i==this.a.volume&&o==this.a.muted||Jn(this,0);break;case'LOAD':this.g=0,this.j=this.o=!1,t=n.currentTime,e=this.B(n.media.contentId),this.a.autoplay=!0,this.b.load(e,t).then(function(){this.b&&$n(this)}.bind(this)).catch(function(t){var e='LOAD_FAILED';7==t.category&&7e3==t.code&&(e='LOAD_CANCELLED'),Qn(this,{requestId:Number(n.requestId),type:e},this.i)}.bind(this));break;default:Qn(this,{requestId:Number(n.requestId),type:'INVALID_REQUEST',reason:'INVALID_COMMAND'},this.i)}},e.jd=function(t,e,n){this.b&&Qn(this,{type:'asyncComplete',id:e,error:n},this.f,t)};var Zn={IDLE:'IDLE',wd:'PLAYING',td:'BUFFERING',vd:'PAUSED'},ti={Ab:function(t,e){var n=ti.N(t,e);return 1!=n.length?null:n[0]},N:function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.tagName==e})},Jd:function(t,e,n){return Array.prototype.filter.call(t.childNodes,function(t){return t instanceof Element&&t.localName==n&&t.namespaceURI==e})},getAttributeNS:function(t,e,n){return t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null},Cb:function(t){return Array.prototype.every.call(t.childNodes,function(t){return t.nodeType==Node.TEXT_NODE||t.nodeType==Node.CDATA_SECTION_NODE})?t.textContent.trim():null},G:function(t,e,n,i){i=void 0===i?null:i;var o=null;return null!=(t=t.getAttribute(e))&&(o=n(t)),null==o?i:o},Be:function(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+='Z'),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null},qa:function(t){return(t=t&&/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null},Jb:function(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null},parseInt:function(t){return 0==(t=Number(t))%1?t:null},Ib:function(t){return 0==(t=Number(t))%1&&0<t?t:null},Va:function(t){return 0==(t=Number(t))%1&&0<=t?t:null},parseFloat:function(t){return t=Number(t),isNaN(t)?null:t},Hd:function(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1]/e[2]):Number(t),isNaN(t)?null:t}},ei=(new Map).set('urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b','org.w3.clearkey').set('urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed','com.widevine.alpha').set('urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95','com.microsoft.playready').set('urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb','com.adobe.primetime');function ni(t,e,n){var i=function(t){for(var e=[],n=(t=L(t)).next();!n.done;n=t.next())(n=ii(n.value))&&e.push(n);return e}(t),o=null;t=[];var r=[],a=new Set(i.map(function(t){return t.keyId}));if(a.delete(null),1<a.size)throw new rt(2,4,4010);if(n||(r=i.filter(function(t){return'urn:mpeg:dash:mp4protection:2011'!=t.hd||(o=t.init||o,!1)})).length&&(0==(t=function(t,e,n){for(var i=[],o=(n=L(n)).next();!o.done;o=n.next()){o=o.value;var r=ei.get(o.hd);if(r)i.push(xe(r,o.init||t));else for(o=L(o=e(o.node)||[]),r=o.next();!r.done;r=o.next())i.push(r.value)}return i}(o,e,r)).length&&(t=[xe('',o)])),i.length&&(n||!r.length))for(t=[],n=(e=L(ei.values())).next();!n.done;n=e.next())'org.w3.clearkey'!=(n=n.value)&&t.push(xe(n,o));if(a=Array.from(a)[0]||null)for(n=(e=L(t)).next();!n.done;n=e.next())for(i=(n=L(n.value.initData)).next();!i.done;i=n.next())i.value.keyId=a;return{Ec:a,Af:o,drmInfos:t,Jc:!0}}function ii(t){var e=t.getAttribute('schemeIdUri'),n=ti.getAttributeNS(t,'urn:mpeg:cenc:2013','default_KID'),i=ti.Jd(t,'urn:mpeg:cenc:2013','pssh').map(ti.Cb);if(!e)return null;if(e=e.toLowerCase(),n&&(n=n.replace(/-/g,'').toLowerCase()).includes(' '))throw new rt(2,4,4009);var o=[];try{o=i.map(function(t){return{initDataType:'cenc',initData:Kt(t),keyId:null}})}catch(t){throw new rt(2,4,4007)}return{node:t,hd:e,keyId:n,init:0<o.length?o:null}}function oi(t,e,n,i,o){var r={RepresentationID:e,Number:n,Bandwidth:i,Time:o};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(t,e,n,i){if('$$'==t)return'$';var o=r[e];if(null==o)return t;switch('RepresentationID'==e&&n&&(n=void 0),'Time'==e&&(o=Math.round(o)),i){case void 0:case'd':case'i':case'u':t=o.toString();break;case'o':t=o.toString(8);break;case'x':t=o.toString(16);break;case'X':t=o.toString(16).toUpperCase();break;default:t=o.toString()}return n=a.parseInt(n,10)||1,Array(Math.max(0,n-t.length)+1).join('0')+t})}function ri(t,e){var n=ai(t,e,'timescale'),i=1;n&&(i=ti.Ib(n)||1),n=ai(t,e,'duration'),(n=ti.Ib(n||''))&&(n/=i);var o=ai(t,e,'startNumber'),r=Number(ai(t,e,'presentationTimeOffset'))||0,a=ti.Va(o||'');null!=o&&null!=a||(a=1);var s=si(t,e,'SegmentTimeline');if(o=null,s){o=i;var u=t.O.duration||1/0;s=ti.N(s,'S');for(var l=[],c=0,d=0;d<s.length;++d){var h=s[d],p=ti.G(h,'t',ti.Va),f=ti.G(h,'d',ti.Va);if(h=ti.G(h,'r',ti.parseInt),null!=p&&(p-=r),!f)break;if(p=null!=p?p:c,(h=h||0)<0)if(d+1<s.length){if(null==(h=ti.G(s[d+1],'t',ti.Va)))break;if(h<=p)break;h=Math.ceil((h-p)/f)-1}else{if(1/0==u)break;if(u<=p/o)break;h=Math.ceil((u*o-p)/f)-1}0<l.length&&p!=c&&(l[l.length-1].end=p/o);for(var m=0;m<=h;++m)c=p+f,l.push({start:p/o,end:c/o,pf:p}),p=c}o=l}return{timescale:i,T:n,Ja:a,ga:r/i||0,yc:r,K:o}}function ai(t,e,n){return[e(t.v),e(t.X),e(t.ea)].filter(Rt.ta).map(function(t){return t.getAttribute(n)}).reduce(function(t,e){return t||e})}function si(t,e,n){return[e(t.v),e(t.X),e(t.ea)].filter(Rt.ta).map(function(t){return ti.Ab(t,n)}).reduce(function(t,e){return t||e})}function ui(t,e){var n=new DOMParser;try{var i=Bt(t),o=n.parseFromString(i,'text/xml')}catch(t){}if(o&&o.documentElement.tagName==e)var r=o.documentElement;return r&&0<r.getElementsByTagName('parsererror').length?null:r}function li(t,e,n,i,o,r){if(r=void 0===r?0:r,ti.getAttributeNS(t,'http://www.w3.org/1999/xlink','href')){var a=function(o,r,a,t,s,u){for(var l=ti.getAttributeNS(o,'http://www.w3.org/1999/xlink','href'),e=ti.getAttributeNS(o,'http://www.w3.org/1999/xlink','actuate')||'onRequest',n=0;n<o.attributes.length;n++){var i=o.attributes[n];'http://www.w3.org/1999/xlink'==i.namespaceURI&&(o.removeAttributeNS(i.namespaceURI,i.localName),--n)}if(5<=u)return st(new rt(2,4,4028));if('onLoad'!=e)return st(new rt(2,4,4027));var c=Me([t],[l]);return s.request(0,Lt(c,r)).Y(function(t){if(!(t=ui(t.data,o.tagName)))return st(new rt(2,4,4001,l));for(;o.childNodes.length;)o.removeChild(o.childNodes[0]);for(;t.childNodes.length;){var e=t.childNodes[0];t.removeChild(e),o.appendChild(e)}for(e=0;e<t.attributes.length;e++){var n=t.attributes[e].nodeName,i=t.getAttribute(n);o.setAttribute(n,i)}return li(o,r,a,c[0],s,u+1)})}(t,e,n,i,o,r);return n&&(a=a.Y(void 0,function(){return li(t,e,n,i,o,r)})),a}a=[];for(var s=0;s<t.childNodes.length;s++){var u=t.childNodes[s];u instanceof Element&&('urn:mpeg:dash:resolve-to-zero:2013'==ti.getAttributeNS(u,'http://www.w3.org/1999/xlink','href')?(t.removeChild(u),--s):'SegmentTimeline'!=u.tagName&&a.push(li(u,e,n,i,o,r)))}return dt(a).Y(function(){return t})}function ci(t,e,n){this.c=t,this.b=e,this.a=n}function di(t,e,n,i,o,r){this.position=t,this.startTime=e,this.endTime=n,this.c=i,this.b=o,this.a=r}function hi(t,e){this.H=t,this.b=e==fi,this.a=0}O('shaka.media.InitSegmentReference',ci),ci.prototype.createUris=ci.prototype.Qb=function(){return this.c()},ci.prototype.getStartByte=ci.prototype.Wb=function(){return this.b},ci.prototype.getEndByte=ci.prototype.Vb=function(){return this.a},O('shaka.media.SegmentReference',di),di.prototype.getPosition=di.prototype.V=function(){return this.position},di.prototype.getStartTime=di.prototype.Xb=function(){return this.startTime},di.prototype.getEndTime=di.prototype.Od=function(){return this.endTime},di.prototype.createUris=di.prototype.Qb=function(){return this.c()},di.prototype.getStartByte=di.prototype.Wb=function(){return this.b},di.prototype.getEndByte=di.prototype.Vb=function(){return this.a},O('shaka.util.DataViewReader',hi);var pi,fi=1;function mi(){throw new rt(2,3,3e3)}function vi(){this.c=[],this.b=[],this.a=!1}function gi(t){for(;t.reader.ja()&&!t.parser.a;)t.parser.Hb(t.start,t.reader,t.partialOkay)}function yi(t){for(var e=t.reader.C();0<e&&!t.parser.a;--e)t.parser.Hb(t.start,t.reader,t.partialOkay)}function Ei(e){return function(t){e(t.reader.Ha(t.reader.H.byteLength-t.reader.V()))}}function bi(t){for(var e=0,n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e}function Ti(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function wi(t,e,n,i){var o,r=(new vi).aa('sidx',function(t){o=function(t,e,n,i){var o=[];i.reader.I(4);var r=i.reader.C();if(0==r)throw new rt(2,3,3005);if(0==i.version)var a=i.reader.C(),s=i.reader.C();else a=i.reader.Xa(),s=i.reader.Xa();i.reader.I(2);var u=i.reader.hb();for(t=t+i.size+s,s=0;s<u;s++){var l=i.reader.C(),c=(2147483648&l)>>>31;l&=2147483647;var d=i.reader.C();if(i.reader.I(4),1==c)throw new rt(2,3,3006);o.push(new di(o.length,a/r-e,(a+d)/r-e,function(){return n},t,t+l-1)),a+=d,t+=l}return i.parser.stop(),o}(e,i,n,t)});if(t&&r.parse(t),o)return o;throw new rt(2,3,3004)}function _i(t){this.a=t}function Ai(t,e){for(;t.a.length&&t.a[t.a.length-1].startTime>=e;)t.a.pop();for(;t.a.length&&t.a[0].endTime<=0;)t.a.shift();if(0!=t.a.length){var n=t.a[t.a.length-1];t.a[t.a.length-1]=new di(n.position,n.startTime,e,n.c,n.b,n.a)}}function Li(t){this.b=t,this.a=new hi(t,0),pi=pi||[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])]}function Si(t){var e=Ii(t);if(7<e.length)throw new rt(2,3,3002);for(var n=0,i=0;i<e.length;i++)n=256*n+e[i];e=n,n=Ii(t);t:{for(i=0;i<pi.length;i++)if(zt(n,pi[i])){i=!0;break t}i=!1}if(i)n=t.b.byteLength-t.a.V();else{if(8==n.length&&224&n[1])throw new rt(2,3,3001);i=n[0]&(1<<8-n.length)-1;for(var o=1;o<n.length;o++)i=256*i+n[o];n=i}return n=t.a.V()+n<=t.b.byteLength?n:t.b.byteLength-t.a.V(),i=new DataView(t.b.buffer,t.b.byteOffset+t.a.V(),n),t.a.I(n),new Ni(e,i)}function Ii(t){var e,n=t.a.fa();for(e=1;e<=8&&!(n&1<<8-e);e++);if(8<e)throw new rt(2,3,3002);var i=new Uint8Array(e);for(i[0]=n,n=1;n<e;n++)i[n]=t.a.fa();return i}function Ni(t,e){this.id=t,this.a=e}function ki(t){if(8<t.a.byteLength)throw new rt(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new rt(2,3,3001);for(var e=0,n=0;n<t.a.byteLength;n++){e=256*e+t.a.getUint8(n)}return e}function Pi(){}function Oi(t){var e=new Li(t.a);if(179!=(t=Si(e)).id)throw new rt(2,3,3013);if(t=ki(t),183!=(e=Si(e)).id)throw new rt(2,3,3012);e=new Li(e.a);for(var n=0;e.ja();){var i=Si(e);if(241==i.id){n=ki(i);break}}return{qf:t,Je:n}}function Ri(t,e){var n=si(t,e,'Initialization');if(!n)return null;var i=t.v.ha,o=n.getAttribute('sourceURL');o&&(i=Me(t.v.ha,[o])),o=0;var r=null;return(n=ti.G(n,'range',ti.Jb))&&(o=n.start,r=n.end),new ci(function(){return i},o,r)}function Ci(t,e,n,i,o,r,a,s){var u=t.presentationTimeline,l=!t.Na||!t.O.ac,c=t.O.start,d=t.O.duration,h=e,p=null;return{createSegmentIndex:function(){var t=[h(i,o,r),'webm'==a?h(n.c(),n.b,n.a):null];return h=null,Promise.all(t).then(function(t){var e=t[0];t=t[1]||null,e='mp4'==a?wi(e,o,i,s):(new Pi).parse(e,t,i,s),u.Ta(e,c),p=new _i(e),l&&Ai(p,d)})},findSegmentPosition:function(t){return p.find(t)},getSegmentReference:function(t){return p.get(t)}}}function Di(t){return t.ib}function Mi(t,e){var n=Ri(t,xi),i=function(e){return[e.v.wa,e.X.wa,e.ea.wa].filter(Rt.ta).map(function(t){return ti.N(t,'SegmentURL')}).reduce(function(t,e){return 0<t.length?t:e}).map(function(t){return t.getAttribute('indexRange')&&!e.Nc&&(e.Nc=!0),{de:t.getAttribute('media'),start:(t=ti.G(t,'mediaRange',ti.Jb,{start:0,end:null})).start,end:t.end}})}(t),o=ri(t,xi),r=o.Ja;0==r&&(r=1);var a=0;if(o.T?a=o.T*(r-1):o.K&&0<o.K.length&&(a=o.K[0].start),!(i={T:o.T,startTime:a,Ja:r,ga:o.ga,K:o.K,Sa:i}).T&&!i.K&&1<i.Sa.length)throw new rt(2,4,4002);if(!i.T&&!t.O.duration&&!i.K&&1==i.Sa.length)throw new rt(2,4,4002);if(i.K&&0==i.K.length)throw new rt(2,4,4002);return r=o=null,t.ea.id&&t.v.id&&(o=e[r=t.ea.id+','+t.v.id]),a=function(t,e,n,i){var o=i.Sa.length;i.K&&i.K.length!=i.Sa.length&&(o=Math.min(i.K.length,i.Sa.length));for(var r=[],a=i.startTime,s=0;s<o;s++){var u,l=i.Sa[s],c=Me(n,[l.de]);u=null!=i.T?a+i.T:i.K?i.K[s].end:a+t,r.push(new di(s+e,a,u,function(t){return t}.bind(null,c),l.start,l.end)),a=u}return r}(t.O.duration,i.Ja,t.v.ha,i),o?(o.fc(a),r=t.presentationTimeline.cb(),o.Rb(r-t.O.start)):(t.presentationTimeline.Ta(a,t.O.start),o=new _i(a),r&&t.Na&&(e[r]=o)),t.Na&&t.O.ac||Ai(o,t.O.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:o.find.bind(o),getSegmentReference:o.get.bind(o),initSegmentReference:n,ga:i.ga}}function xi(t){return t.wa}function Ui(t,e,n,i){var o=function(t){var e=ai(t,Bi,'initialization');if(!e)return null;var n=t.v.id,i=t.bandwidth||null,o=t.v.ha;return new ci(function(){var t=oi(e,n,null,i,null);return Me(o,[t])},0,null)}(t),r=ri(t,Bi),a=ai(t,Bi,'media'),s=ai(t,Bi,'index');if(a=(r={T:r.T,timescale:r.timescale,Ja:r.Ja,ga:r.ga,yc:r.yc,K:r.K,ec:a,fb:s}).fb?1:0,a+=r.K?1:0,0==(a+=r.T?1:0))throw new rt(2,4,4002);if(1!=a&&(r.fb&&(r.K=null),r.T=null),!r.fb&&!r.ec)throw new rt(2,4,4002);if(r.fb){if('mp4'!=(n=t.v.mimeType.split('/')[1])&&'webm'!=n)throw new rt(2,4,4006);if('webm'==n&&!o)throw new rt(2,4,4005);i=oi(r.fb,t.v.id,null,t.bandwidth||null,null),t=Ci(t,e,o,i=Me(t.v.ha,[i]),0,null,n,r.ga)}else t=r.T?(i||t.presentationTimeline.hc(r.T),function(t,e){var i=t.O.duration,o=e.T,r=e.Ja,a=e.timescale,s=e.ec,u=t.bandwidth||null,l=t.v.id,c=t.v.ha;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return t<0||i&&i<=t?null:Math.floor(t/o)},getSegmentReference:function(e){var n=e*o,t=n+o;return i&&(t=Math.min(t,i)),t<0||i&&i<=n?null:new di(e,n,t,function(){var t=oi(s,l,e+r,u,n*a);return Me(c,[t])},0,null)}}}(t,r)):(a=e=null,t.ea.id&&t.v.id&&(e=n[a=t.ea.id+','+t.v.id]),s=function(t,e){for(var n=[],i=0;i<e.K.length;i++){var o=i+e.Ja;n.push(new di(o,e.K[i].start,e.K[i].end,function(t,e,n,i,o,r){return Me(i,[t=oi(t,e,o,n,r)]).map(function(t){return t.toString()})}.bind(null,e.ec,t.v.id,t.bandwidth||null,t.v.ha,o,e.K[i].pf+e.yc),0,null))}return n}(t,r),i=!t.Na||!t.O.ac,e?(i&&Ai(new _i(s),t.O.duration),e.fc(s),n=t.presentationTimeline.cb(),e.Rb(n-t.O.start)):(t.presentationTimeline.Ta(s,t.O.start),e=new _i(s),a&&t.Na&&(n[a]=e)),i&&Ai(e,t.O.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:o,ga:r.ga}}function Bi(t){return t.kb}hi.Endianness={wf:0,xf:fi},hi.prototype.hasMoreData=hi.prototype.ja=function(){return this.a<this.H.byteLength},hi.prototype.getPosition=hi.prototype.V=function(){return this.a},hi.prototype.getLength=hi.prototype.Pd=function(){return this.H.byteLength},hi.prototype.readUint8=hi.prototype.fa=function(){try{var t=this.H.getUint8(this.a);return this.a+=1,t}catch(t){mi()}},hi.prototype.readUint16=hi.prototype.hb=function(){try{var t=this.H.getUint16(this.a,this.b);return this.a+=2,t}catch(t){mi()}},hi.prototype.readUint32=hi.prototype.C=function(){try{var t=this.H.getUint32(this.a,this.b);return this.a+=4,t}catch(t){mi()}},hi.prototype.readInt32=hi.prototype.dd=function(){try{var t=this.H.getInt32(this.a,this.b);return this.a+=4,t}catch(t){mi()}},hi.prototype.readUint64=hi.prototype.Xa=function(){try{if(this.b)var t=this.H.getUint32(this.a,!0),e=this.H.getUint32(this.a+4,!0);else e=this.H.getUint32(this.a,!1),t=this.H.getUint32(this.a+4,!1)}catch(t){mi()}if(2097151<e)throw new rt(2,3,3001);return this.a+=8,e*Math.pow(2,32)+t},hi.prototype.readBytes=hi.prototype.Ha=function(t){this.a+t>this.H.byteLength&&mi();var e=new Uint8Array(this.H.buffer,this.H.byteOffset+this.a,t);return this.a+=t,new Uint8Array(e)},hi.prototype.skip=hi.prototype.I=function(t){this.a+t>this.H.byteLength&&mi(),this.a+=t},hi.prototype.rewind=hi.prototype.gd=function(t){this.a<t&&mi(),this.a-=t},hi.prototype.seek=hi.prototype.seek=function(t){(t<0||t>this.H.byteLength)&&mi(),this.a=t},hi.prototype.readTerminatedString=hi.prototype.mc=function(){for(var t=this.a;this.ja()&&0!=this.H.getUint8(this.a);)this.a+=1;return t=new Uint8Array(this.H.buffer,this.H.byteOffset+t,this.a-t),this.a+=1,Bt(t)},O('shaka.util.Mp4Parser',vi),vi.prototype.box=vi.prototype.F=function(t,e){var n=bi(t);return this.c[n]=0,this.b[n]=e,this},vi.prototype.fullBox=vi.prototype.aa=function(t,e){var n=bi(t);return this.c[n]=1,this.b[n]=e,this},vi.prototype.stop=vi.prototype.stop=function(){this.a=!0},vi.prototype.parse=vi.prototype.parse=function(t,e){var n=new Uint8Array(t);for(n=new hi(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ja()&&!this.a;)this.Hb(0,n,e)},vi.prototype.parseNext=vi.prototype.Hb=function(t,e,n){var i=e.V(),o=e.C(),r=e.C();switch(o){case 0:o=e.H.byteLength-i;break;case 1:o=e.Xa()}var a=this.b[r];if(a){var s=null,u=null;1==this.c[r]&&(s=(u=e.C())>>>24,u&=16777215),r=i+o,n&&r>e.H.byteLength&&(r=e.H.byteLength),e=0<(r-=e.V())?e.Ha(r):new Uint8Array(0),a({parser:this,partialOkay:n||!1,version:s,flags:u,reader:e=new hi(new DataView(e.buffer,e.byteOffset,e.byteLength),0),size:o,start:i+t})}else e.I(Math.min(i+o-e.V(),e.H.byteLength-e.V()))},vi.children=gi,vi.sampleDescription=yi,vi.allData=Ei,vi.typeToString=Ti,O('shaka.media.SegmentIndex',_i),_i.prototype.destroy=_i.prototype.destroy=function(){return this.a=null,Promise.resolve()},_i.prototype.find=_i.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var n=this.a[e];if(t>=n.startTime&&t<n.endTime)return n.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},_i.prototype.get=_i.prototype.get=function(t){return 0==this.a.length?null:(t-=this.a[0].position)<0||t>=this.a.length?null:this.a[t]},_i.prototype.offset=_i.prototype.offset=function(t){for(var e=0;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t},_i.prototype.merge=_i.prototype.fc=function(t){for(var e=[],n=0,i=0;n<this.a.length&&i<t.length;){var o=this.a[n],r=t[i];o.startTime<r.startTime?(e.push(o),n++):(o.startTime>r.startTime?0==n&&e.push(r):(.1<Math.abs(o.endTime-r.endTime)?e.push(new di(o.position,r.startTime,r.endTime,r.c,r.b,r.a)):e.push(o),n++),i++)}for(;n<this.a.length;)e.push(this.a[n++]);if(e.length)for(n=e[e.length-1].position+1;i<t.length;)o=new di(n++,(o=t[i++]).startTime,o.endTime,o.c,o.b,o.a),e.push(o);else e=t;this.a=e},_i.prototype.evict=_i.prototype.Rb=function(t){for(var e=0;e<this.a.length;++e)if(this.a[e].endTime>t)return void this.a.splice(0,e);this.a=[]},Li.prototype.ja=function(){return this.a.ja()},Pi.prototype.parse=function(t,e,n,i){var o;if(440786851!=Si(e=new Li(new DataView(e))).id)throw new rt(2,3,3008);var r=Si(e);if(408125543!=r.id)throw new rt(2,3,3009);for(e=r.a.byteOffset,r=new Li(r.a),o=null;r.ja();){var a=Si(r);if(357149030==a.id){o=a;break}}if(!o)throw new rt(2,3,3010);for(r=new Li(o.a),o=1e6,a=null;r.ja();){var s=Si(r);if(2807729==s.id)o=ki(s);else if(17545==s.id)if(4==(a=s).a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new rt(2,3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new rt(2,3,3011);if(o=a*(r=o/1e9),475249515!=(t=Si(new Li(new DataView(t)))).id)throw new rt(2,3,3007);return function(t,e,n,i,o,r){function a(){return o}var s=[];t=new Li(t.a);for(var u=null,l=null;t.ja();){var c=Si(t);if(187==c.id){var d=Oi(c);d&&(c=n*d.qf,d=e+d.Je,null!=u&&s.push(new di(s.length,u-r,c-r,a,l,d-1)),u=c,l=d)}}return null!=u&&s.push(new di(s.length,u-r,i-r,a,l,null)),s}(t,e,r,o,n,i)};var Vi={},Yi={};function Hi(n,i,o,r){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return I(t,2),U(t,function(d,h,p,f){return S(function t(){var e,n,i,o,r,a,s,u,l,c;return B(t,function(t){switch(t.m){case 1:return f&&(e=f.toLowerCase(),n=Vi[e])?t.return(n):(i=new G(d),o=i.da.split('/'),r=o.pop(),1<(a=r.split('.')).length&&(s=a.pop().toLowerCase(),u=Yi[s])?t.return(u):U(t,function(o,r,a){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return(e=Lt([o],a)).method='HEAD',U(t,r.request(0,e).promise,2);case 2:return n=t.w,i=n.headers['content-type'],t.return(i?i.toLowerCase():'')}})})}(d,h,p),2));case 2:if(l=t.w,c=Vi[l])return t.return(c);throw new rt(2,4,4e3,d)}})})}(n,i,o,r),4);case 4:return t.return(t.w);case 2:throw(e=k(t)).severity=2,e}})})}function Fi(t,e){this.f=t,this.Kb=e,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.l=!0,this.i=0}function Gi(){this.a=this.b=null,this.h=[],this.c=null,this.j=[],this.i=1,this.l={},this.o=0,this.s=new C(5),this.g=null,this.f=new bt}function qi(e){var n=Date.now(),t=e.a.networkingEngine.request(0,Lt(e.h,e.b.retryParameters));return Tt(e.f,t),t.promise.then(function(t){if(e.a)return function(e,t,n){if(!(t=ui(t,'MPD')))throw new rt(2,4,4001,n);return t=li(t,e.b.retryParameters,e.b.dash.xlinkFailGracefully,n,e.a.networkingEngine),Tt(e.f,t),t.promise.then(function(t){return function(D,M,x){return S(function t(){var h,p,f,m,v,g,y,E,b,T,w,_,A,L,S,I,N,k,P,O,R,C;return B(t,function(t){switch(t.m){case 1:m=Rt,g=[x],0<(y=(v=ti).N(M,'Location').map(v.Cb).filter(m.ta)).length&&(g=D.h=y),E=v.N(M,'BaseURL').map(v.Cb),b=Me(g,E),D.b.dash.ignoreMinBufferTime||(T=v.G(M,'minBufferTime',v.qa)),D.o=v.G(M,'minimumUpdatePeriod',v.qa,-1),w=v.G(M,'availabilityStartTime',v.Be),_=v.G(M,'timeShiftBufferDepth',v.qa),A=v.G(M,'suggestedPresentationDelay',v.qa),L=v.G(M,'maxSegmentDuration',v.qa),S=M.getAttribute('type')||'static',I=D.c?D.c.presentationTimeline:(N=Math.max(D.b.dash.defaultPresentationDelay,1.5*T),new Fi(w,null!=A?A:N));for(var e={Na:'static'!=S,presentationTimeline:I,ea:null,O:null,X:null,v:null,bandwidth:0,Nc:!1},n=b,i=ti.G(M,'mediaPresentationDuration',ti.qa),o=[],r=0,a=ti.N(M,'Period'),s=0;s<a.length;s++){var u=a[s];r=ti.G(u,'start',ti.qa,r);var l=ti.G(u,'duration',ti.qa),c=null;if(s!=a.length-1){var d=ti.G(a[s+1],'start',ti.qa);null!=d&&(c=d-r)}else null!=i&&(c=i-r);if(null==c&&(c=l),u=ji(D,e,n,{start:r,duration:c,node:u,ac:null==c||s==a.length-1}),o.push(u),l=e.ea.id,D.j.includes(l)||(D.j.push(l),D.c&&(D.a.filterNewPeriod(u),D.c.periods.push(u))),null==c){r=null;break}r+=c}if(null==D.c&&D.a.filterAllPeriods(o),f=null!=i?(h=o,p=i,!1):(h=o,p=r,!0),k=p,P=h,I.lb('static'==S),'static'!=S&&f||I.ma(k||1/0),(O=I.W())&&!isNaN(D.b.availabilityWindowOverride)&&(_=D.b.availabilityWindowOverride),null==_&&(_=1/0),I.uc(_),I.hc(L||1),D.c){t.D(0);break}if(D.c={presentationTimeline:I,periods:P,offlineSessionIds:[],minBufferTime:T||0},I.qd())return R=v.N(M,'UTCTiming'),U(t,function(t,n,e,i){e=e.map(function(t){return{scheme:t.getAttribute('schemeIdUri'),value:t.getAttribute('value')}});var o=t.b.dash.clockSyncUri;return i&&!e.length&&o&&e.push({scheme:'urn:mpeg:dash:utc:http-head:2014',value:o}),Rt.Gd(e,function(t){var e=t.value;switch(t.scheme){case'urn:mpeg:dash:utc:http-head:2014':case'urn:mpeg:dash:utc:http-head:2012':return $i(this,n,e,'HEAD');case'urn:mpeg:dash:utc:http-xsdate:2014':case'urn:mpeg:dash:utc:http-iso:2014':case'urn:mpeg:dash:utc:http-xsdate:2012':case'urn:mpeg:dash:utc:http-iso:2012':return $i(this,n,e,'GET');case'urn:mpeg:dash:utc:direct:2014':case'urn:mpeg:dash:utc:direct:2012':return t=Date.parse(e),isNaN(t)?0:t-Date.now();case'urn:mpeg:dash:utc:http-ntp:2014':case'urn:mpeg:dash:utc:ntp:2014':case'urn:mpeg:dash:utc:sntp:2014':default:return Promise.reject()}}.bind(t)).catch(function(){return 0})}(D,b,R,O),4);t.D(0);break;case 4:if(C=t.w,!D.a)return t.return();I.kd(C),t.m=0}})})}(e,t,n)})}(e,t.data,t.uri)}).then(function(){var t=(Date.now()-n)/1e3;return D(e.s,1,t),t})}function ji(t,e,n,i){if(e.ea=zi(i.node,null,n),e.O=i,e.ea.id||(e.ea.id='__shaka_period_'+i.start),ti.N(i.node,'EventStream').forEach(t.De.bind(t,i.start,i.duration)),n=ti.N(i.node,'AdaptationSet').map(t.Ae.bind(t,e)).filter(Rt.ta),e.Na){e=[];for(var o=L(n),r=o.next();!r.done;r=o.next())for(var a=(r=L(r.value.Me)).next();!a.done;a=r.next())e.push(a.value);if(e.length!=new Set(e).size)throw new rt(2,4,4018)}var s=n.filter(function(t){return!t.xc});if(n.filter(function(t){return t.xc}).forEach(function(t){var e=t.streams[0],n=t.xc;s.forEach(function(t){t.id==n&&t.streams.forEach(function(t){t.trickModeVideo=e})})}),e=Ki(s,'video'),o=Ki(s,'audio'),!e.length&&!o.length)throw new rt(2,4,4004);for(o.length||(o=[null]),e.length||(e=[null]),n=[],r=0;r<o.length;r++)for(a=0;a<e.length;a++)Xi(t,o[r],e[a],n);for(t=Ki(s,'text'),e=[],o=0;o<t.length;o++)e.push.apply(e,t[o].streams);return{startTime:i.start,textStreams:e,variants:n}}function Ki(t,e){return t.filter(function(t){return t.contentType==e})}function Xi(t,e,n,i){if(e||n)if(e&&n){var o=e.drmInfos,r=n.drmInfos;if(!o.length||!r.length||0<ue(o,r).length){r=ue(e.drmInfos,n.drmInfos);for(var a=0;a<e.streams.length;a++)for(var s=0;s<n.streams.length;s++)o=(n.streams[s].bandwidth||0)+(e.streams[a].bandwidth||0),o={id:t.i++,language:e.language,primary:e.cc||n.cc,audio:e.streams[a],video:n.streams[s],bandwidth:o,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0},i.push(o)}}else for(r=e||n,a=0;a<r.streams.length;a++)o=r.streams[a].bandwidth||0,o={id:t.i++,language:r.language||'und',primary:r.cc,audio:e?r.streams[a]:null,video:n?r.streams[a]:null,bandwidth:o,drmInfos:r.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},i.push(o)}function Wi(t,e){t.o<0||(t.g=a.setTimeout(t.gf.bind(t),1e3*Math.max(3,t.o-e,M(t.s))))}function zi(t,e,n){e=e||{contentType:'',mimeType:'',codecs:'',emsgSchemeIdUris:[],frameRate:void 0,ic:null},n=n||e.ha;var i=ti.Va,o=ti.Hd,r=ti.N(t,'BaseURL').map(ti.Cb),a=t.getAttribute('contentType')||e.contentType,s=t.getAttribute('mimeType')||e.mimeType,u=t.getAttribute('codecs')||e.codecs;o=ti.G(t,'frameRate',o)||e.frameRate;for(var l=ti.N(t,'InbandEventStream'),c=e.emsgSchemeIdUris.slice(),d=(l=L(l)).next();!d.done;d=l.next())d=d.value.getAttribute('schemeIdUri'),c.includes(d)||c.push(d);return l=function(t){for(var e=0;e<t.length;++e){var n=t[e],i=n.getAttribute('schemeIdUri');if(i&&(n=n.getAttribute('value')))switch(i){case'urn:mpeg:dash:outputChannelPositionList:2012':return n.trim().split(/ +/).length;case'urn:mpeg:dash:23003:3:audio_channel_configuration:2011':case'urn:dts:dash:audio_channel_configuration:2012':if(!(i=parseInt(n,10)))continue;return i;case'tag:dolby.com,2014:dash:audio_channel_configuration:2011':case'urn:dolby:dash:audio_channel_configuration:2011':if(i=parseInt(n,16)){for(t=0;i;)1&i&&++t,i>>=1;return t}}}return null}(l=ti.N(t,'AudioChannelConfiguration'))||e.ic,a=a||Qi(s,u),{ha:Me(n,r),ib:ti.Ab(t,'SegmentBase')||e.ib,wa:ti.Ab(t,'SegmentList')||e.wa,kb:ti.Ab(t,'SegmentTemplate')||e.kb,width:ti.G(t,'width',i)||e.width,height:ti.G(t,'height',i)||e.height,contentType:a,mimeType:s,codecs:u,frameRate:o,emsgSchemeIdUris:c,id:t.getAttribute('id'),ic:l}}function $i(t,e,n,i){return(e=Lt(e=Me(e,[n]),t.b.retryParameters)).method=i,e=t.a.networkingEngine.request(4,e),Tt(t.f,e),e.promise.then(function(t){if('HEAD'==i){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=Bt(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()})}function Qi(t,e){return Ge[Mt(t,e)]?'text':t.split('/')[0]}function Ji(t,e,n,i){this.uri=t,this.type=e,this.a=n,this.segments=i||null}function Zi(t,e,n,i){this.id=t,this.name=e,this.a=n,this.value=void 0===i?null:i}function to(t,e){this.name=t,this.value=e}function eo(t,e,n){return(t=t.getAttribute(e))?t.value:n||null}function no(t,e){this.a=e,this.uri=t}function io(t,e){return t.filter(function(t){return t.name==e})}function oo(t,e){var n=io(t,e);return n.length?n[0]:null}function ro(t,n,i){return t.filter(function(t){var e=t.getAttribute('TYPE');return t=t.getAttribute('GROUP-ID'),e.value==n&&t.value==i})}function ao(t,e){return Me([t],[e])[0]}function so(t){this.b=t,this.a=0}function uo(t){lo(t,/[ \t]+/gm)}function lo(t,e){e.lastIndex=t.a;var n=e.exec(t.b);return n=null==n?null:{position:n.index,length:n[0].length,Pe:n},t.a==t.b.length||null==n||n.position!=t.a?null:(t.a+=n.length,n.Pe)}function co(t){return t.a==t.b.length?null:(t=lo(t,/[^ \t\n]*/gm))?t[0]:null}function ho(){this.a=0}function po(t,e,n){var i=(e=(e=Bt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,'\n').trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new rt(2,4,4015);e=0;for(var o=1;o<i.length;o++)if(!/^#(?!EXT)/m.test(i[o])){var r=mo(t,i[o]);if(--t.a,vo.includes(r.name)){e=1;break}'EXT-X-STREAM-INF'==r.name&&(o+=1)}for(o=[],r=1;r<i.length;)if(/^#(?!EXT)/m.test(i[r]))r+=1;else{var a=mo(t,i[r]);if(go.includes(a.name)){if(1!=e)throw new rt(2,4,4017);return new Ji(n,e,o,t=fo(t,i=i.splice(r,i.length-r),o))}o.push(a),r+=1,'EXT-X-STREAM-INF'==a.name&&(a.a.push(new to('URI',i[r])),r+=1)}return new Ji(n,e,o)}function fo(e,t,n){var i=[],o=[];return t.forEach(function(t){if(/^(#EXT)/.test(t))t=mo(e,t),vo.includes(t.name)?n.push(t):o.push(t);else{if(/^#(?!EXT)/m.test(t))return[];i.push(new no(t.trim(),o)),o=[]}}),i}function mo(t,e){t:{var n=t.a++,i=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!i)throw new rt(2,4,4016,e);var o=i[1],r=i[2];if(i=[],r&&r.includes('=')){r=new so(r);for(var a,s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=lo(r,s);)i.push(new to(a[1],a[2]||a[3]))}else if(r){n=new Zi(n,o,i,r);break t}n=new Zi(n,o,i)}return n}O('shaka.media.ManifestParser.registerParserByExtension',function(t,e){Yi[t]=e}),O('shaka.media.ManifestParser.registerParserByMime',function(t,e){Vi[t]=e}),O('shaka.media.PresentationTimeline',Fi),Fi.prototype.getDuration=Fi.prototype.S=function(){return this.g},Fi.prototype.setDuration=Fi.prototype.ma=function(t){this.g=t},Fi.prototype.getPresentationStartTime=Fi.prototype.Vd=function(){return this.f},Fi.prototype.setClockOffset=Fi.prototype.kd=function(t){this.j=t},Fi.prototype.setStatic=Fi.prototype.lb=function(t){this.l=t},Fi.prototype.setSegmentAvailabilityDuration=Fi.prototype.uc=function(t){this.h=t},Fi.prototype.setDelay=Fi.prototype.Xe=function(t){this.Kb=t},Fi.prototype.getDelay=Fi.prototype.Nd=function(){return this.Kb},Fi.prototype.notifySegments=Fi.prototype.Ta=function(t,e){if(0!=t.length){var n=t[0].startTime+e,i=t[t.length-1].endTime+e;this.c=null==this.c?n:Math.min(this.c,n),this.a=t.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.a),this.b=Math.max(this.b,i),null!=this.f&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},Fi.prototype.notifyMaxSegmentDuration=Fi.prototype.hc=function(t){this.a=Math.max(this.a,t)},Fi.prototype.offset=Fi.prototype.offset=function(t){null!=this.c&&(this.c+=t),null!=this.b&&(this.b+=t)},Fi.prototype.isLive=Fi.prototype.W=function(){return 1/0==this.g&&!this.l},Fi.prototype.isInProgress=Fi.prototype.Da=function(){return 1/0!=this.g&&!this.l},Fi.prototype.getSegmentAvailabilityStart=Fi.prototype.cb=function(){if(1/0==this.h)return this.i;var t=this.Qa()-this.h;return Math.max(this.i,t)},Fi.prototype.setUserSeekStart=Fi.prototype.ld=function(t){this.i=t},Fi.prototype.getSegmentAvailabilityEnd=Fi.prototype.Qa=function(){return this.W()||this.Da()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.g):this.g},Fi.prototype.getSafeSeekRangeStart=Fi.prototype.bb=function(t){var e=Math.max(this.c,this.i);if(1/0==this.h)return e;var n=this.Qa()-this.h;return t=Math.min(n+t,this.oa()),Math.max(e,t)},Fi.prototype.getSeekRangeStart=Fi.prototype.Pa=function(){return this.bb(0)},Fi.prototype.getSeekRangeEnd=Fi.prototype.oa=function(){var t=this.W()||this.Da()?this.Kb:0;return Math.max(0,this.Qa()-t)},Fi.prototype.usingPresentationStartTime=Fi.prototype.qd=function(){return null!=this.f&&null==this.b},O('shaka.dash.DashParser',Gi),(e=Gi.prototype).configure=function(t){this.b=t},e.start=function(t,e){return this.h=[t],this.a=e,qi(this).then(function(t){return this.a&&Wi(this,t),this.c}.bind(this))},e.stop=function(){return this.b=this.a=null,this.h=[],this.c=null,this.j=[],this.l={},null!=this.g&&(a.clearTimeout(this.g),this.g=null),this.f.destroy()},e.update=function(){qi(this).catch(function(t){this.a&&this.a.onError(t)}.bind(this))},e.onExpirationUpdated=function(){},e.Ae=function(e,t){e.X=zi(t,e.ea,null);var n=!1,i=ti.N(t,'Role'),o=i.map(function(t){return t.getAttribute('value')}).filter(Rt.ta),r=void 0,a='text'==e.X.contentType;a&&(r='subtitle');for(var s=0;s<i.length;s++){var u=i[s].getAttribute('schemeIdUri');if(null==u||'urn:mpeg:dash:role:2011'==u)switch(u=i[s].getAttribute('value'),u){case'main':n=!0;break;case'caption':case'subtitle':r=u}}var l=null,c=!1;ti.N(t,'EssentialProperty').forEach(function(t){'http://dashif.org/guidelines/trickmode'==t.getAttribute('schemeIdUri')?l=t.getAttribute('value'):c=!0}),i=ti.N(t,'Accessibility');var d={},h=0;for(s=(i=L(i)).next();!s.done;s=i.next())'urn:scte:dash:cc:cea-608:2015'!=(u=(s=s.value).getAttribute('schemeIdUri'))&&'urn:scte:dash:cc:cea-708:2015'!=u||null!=(s=s.getAttribute('value'))&&s.split(';').forEach(function(t){if(t.includes('=')){var e=(t=L(t.split('='))).next().value;t=t.next().value}else e=(h++).toString();d[e]=en(t)});if(c)return null;var p=ni(i=ti.N(t,'ContentProtection'),this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(i=en(t.getAttribute('lang')||'und'),u=t.getAttribute('label'),0!=(o=(s=ti.N(t,'Representation')).map(this.Ee.bind(this,e,p,r,i,u,n,o,d)).filter(function(t){return!!t})).length)return e.X.contentType&&'application'!=e.X.contentType||(e.X.contentType=Qi(o[0].mimeType,o[0].codecs),o.forEach(function(t){t.type=e.X.contentType})),o.forEach(function(e){p.drmInfos.forEach(function(t){e.keyId&&t.keyIds.push(e.keyId)})}),a=s.map(function(t){return t.getAttribute('id')}).filter(Rt.ta),{id:e.X.id||'__fake__'+this.i++,contentType:e.X.contentType,language:i,cc:n,streams:o,drmInfos:p.drmInfos,xc:l,Me:a};if(a)return null;throw new rt(2,4,4003)},e.Ee=function(t,e,n,i,o,r,a,s,u){if(t.v=zi(u,t.X,null),!function(t){var e=t.ib?1:0;return e+=t.wa?1:0,0==(e+=t.kb?1:0)?'text'==t.contentType||'application'==t.contentType:(1!=e&&(t.ib&&(t.wa=null),t.kb=null),!0)}(t.v))return null;t.bandwidth=ti.G(u,'bandwidth',ti.Ib)||0;var l=t.v.contentType;l='text'==l||'application'==l;try{var c=this.Ne.bind(this);if(t.v.ib)var d=function(t,e){var n=Number(ai(t,Di,'presentationTimeOffset'))||0,i=ai(t,Di,'timescale'),o=1;i&&(o=ti.Ib(i)||1),n=n/o||0,i=Ri(t,Di);var r=t.v.contentType;if(o=t.v.mimeType.split('/')[1],'text'!=r&&'mp4'!=o&&'webm'!=o)throw new rt(2,4,4006);if('webm'==o&&!i)throw new rt(2,4,4005);r=si(t,Di,'RepresentationIndex');var a=ai(t,Di,'indexRange'),s=t.v.ha;if(a=ti.Jb(a||''),r){var u=r.getAttribute('sourceURL');u&&(s=Me(t.v.ha,[u])),a=ti.G(r,'range',ti.Jb,a)}if(!a)throw new rt(2,4,4002);return{createSegmentIndex:(o=Ci(t,e,i,s,a.start,a.end,o,n)).createSegmentIndex,findSegmentPosition:o.findSegmentPosition,getSegmentReference:o.getSegmentReference,initSegmentReference:i,ga:n}}(t,c);else if(t.v.wa)d=Mi(t,this.l);else if(t.v.kb)d=Ui(t,c,this.l,!!this.c);else{var h=t.v.ha,p=t.O.duration||0;d={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<p?1:null},getSegmentReference:function(t){return 1!=t?null:new di(1,0,p,function(){return h},0,null)},initSegmentReference:null,ga:0}}}catch(t){if(l&&4002==t.code)return null;throw t}return u=function(t,e,n,i){var o=ni(t,e,i);if(n.Jc)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==o.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=o.drmInfos),n.Jc=!1;else if(0<o.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(e){return o.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==n.drmInfos.length))throw new rt(2,4,4008);return o.Ec||n.Ec}(u=ti.N(u,'ContentProtection'),this.b.dash.customScheme,e,this.b.dash.ignoreDrmInfo),{id:this.i++,originalId:t.v.id,createSegmentIndex:d.createSegmentIndex,findSegmentPosition:d.findSegmentPosition,getSegmentReference:d.getSegmentReference,initSegmentReference:d.initSegmentReference,presentationTimeOffset:d.ga,mimeType:t.v.mimeType,codecs:t.v.codecs,frameRate:t.v.frameRate,bandwidth:t.bandwidth,width:t.v.width,height:t.v.height,kind:n,encrypted:0<e.drmInfos.length,keyId:u,language:i,label:o,type:t.X.contentType,primary:r,trickModeVideo:null,emsgSchemeIdUris:t.v.emsgSchemeIdUris,roles:a,channelsCount:t.v.ic,closedCaptions:s}},e.gf=function(){this.g=null,qi(this).then(function(t){this.a&&Wi(this,t)}.bind(this)).catch(function(t){this.a&&(t.severity=1,this.a.onError(t),Wi(this,0))}.bind(this))},e.De=function(i,o,t){var r=ti.Va,a=t.getAttribute('schemeIdUri')||'',s=t.getAttribute('value')||'',u=ti.G(t,'timescale',r)||1;ti.N(t,'Event').forEach(function(t){var e=ti.G(t,'presentationTime',r)||0,n=ti.G(t,'duration',r)||0;n=(e=e/u+i)+n/u,null!=o&&(e=Math.min(e,i+o),n=Math.min(n,i+o)),t={schemeIdUri:a,value:s,startTime:e,endTime:n,id:t.getAttribute('id')||'',eventElement:t},this.a.onTimelineRegionAdded(t)}.bind(this))},e.Ne=function(t,e,n){return t=Lt(t,this.b.retryParameters),null!=e&&(t.headers.Range='bytes='+e+'-'+(null!=n?n:'')),e=this.a.networkingEngine.request(1,t),Tt(this.f,e),e.promise.then(function(t){return t.data})},Yi.mpd=Gi,Vi['application/dash+xml']=Gi,Zi.prototype.toString=function(){return this.value?'#'+this.name+':'+this.value:0<this.a.length?'#'+this.name+':'+this.a.map(function(t){return t.name+'="'+t.value+'"'}).join(','):'#'+this.name},Zi.prototype.getAttribute=function(e){var t=this.a.filter(function(t){return t.name==e});return t.length?t[0]:null};var vo='EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST'.split(' '),go='EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE'.split(' ');function yo(t){try{var e=yo.parse(t);return lt({uri:t,data:e.data,headers:{'content-type':e.contentType}})}catch(t){return st(t)}}function Eo(){this.g=this.c=null,this.P=1,this.A={},this.M={},this.$={},this.a={},this.b=null,this.l='',this.s=new ho,this.j=this.i=null,this.f=Bo,this.o=null,this.u=0,this.B=1/0,this.h=new bt,this.J=[]}function bo(t,o,r){Ro(t,r).then(function(t){var e=Vo,n=po(this.s,t.data,r);if(1!=n.type)throw new rt(2,4,4017);t=oo(n.a,'EXT-X-MEDIA-SEQUENCE');var i=o.stream;Io(this,n,t?Number(t.value):0,i.mimeType,i.codecs).then(function(t){t=(o.jb.a=t)[t.length-1],oo(n.a,'EXT-X-ENDLIST')&&(xo(this,e.Aa),this.b.ma(t.endTime))}.bind(this))}.bind(t))}function To(t){t.forEach(function(t){var e=t.stream.codecs.split(',');e=e.filter(function(t){return'mp4a.40.34'!=t}),t.stream.codecs=e.join(',')})}function wo(t,e,n){var i=Po(e,'URI');if(i=ao(t.l,i),t.a[i])return Promise.resolve(t.a[i]);var o=Po(e,'TYPE').toLowerCase();'subtitles'==o&&(o='text');var r=en(eo(e,'LANGUAGE','und')),a=eo(e,'NAME'),s=e.getAttribute('DEFAULT'),u=e.getAttribute('AUTOSELECT'),l=eo(e,'CHANNELS');return _o(t,i,n,o,r,!!s||!!u,a,'audio'==o?function(t){return t?(t=t.split('/')[0],parseInt(t,10)):null}(l):null).then(function(t){return this.a[i]?this.a[i]:(this.A[e.id]=t,this.a[i]=t)}.bind(t))}function _o(t,o,r,c,d,h,p,f){var m=o;o=ao(t.l,o);var v,g,y='';return Ro(t,o).then(function(t){if(1!=(v=po(this.s,t.data,o)).type)throw new rt(2,4,4017);var e=Vo,n=oo((t=v).a,'EXT-X-PLAYLIST-TYPE'),i=oo(t.a,'EXT-X-ENDLIST');if(i=n&&'VOD'==n.value||i,n=n&&'EVENT'==n.value&&!i,n=!i&&!n,i?xo(this,e.Aa):(xo(this,n?e.zc:e.ud),t=Oo(t.a,'EXT-X-TARGETDURATION'),t=Number(t.value),this.u=Math.max(t,this.u),this.B=Math.min(t,this.B)),1==r.length)y=r[0];else{if(null==(t=ko(c,r)))throw new rt(2,4,4025,r);y=t}return function(t,e,n,i){var o=new G(i=ao(i.uri,i.segments[0].uri)).da.split('.').pop(),r=Do[e][o];return r?Promise.resolve(r):'text'==e?n&&'vtt'!=n?Promise.resolve('application/mp4'):Promise.resolve('text/vtt'):((e=Lt([i],t.g.retryParameters)).method='HEAD',e=t.c.networkingEngine.request(1,e),Tt(t.h,e),e.promise.then(function(t){if(!(t=t.headers['content-type']))throw new rt(2,4,4021,o);return t.split(';')[0]}))}(this,c,y,v)}.bind(t)).then(function(t){return g=t,t=oo(v.a,'EXT-X-MEDIA-SEQUENCE'),Io(this,v,t?Number(t.value):0,g,y)}.bind(t)).then(function(t){var e=t[0].startTime,n=t[t.length-1].endTime,i=n-e;t=new _i(t);var o=Ao(v),r=void 0;'text'==c&&(r='subtitle');var a=[];v.segments.forEach(function(t){t=io(t.a,'EXT-X-KEY'),a.push.apply(a,t)});var s=!1,u=[],l=null;if(a.forEach(function(t){if('NONE'!=Po(t,'METHOD')){s=!0;var e=Po(t,'KEYFORMAT');(t=(e=Uo[e])?e(t):null)&&(t.keyIds.length&&(l=t.keyIds[0]),u.push(t))}}),s&&!u.length)throw new rt(2,4,4026);return{stream:o={id:this.P++,originalId:p,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),initSegmentReference:o,presentationTimeOffset:0,mimeType:g,codecs:y,kind:r,encrypted:s,keyId:l,language:d,label:p,type:c,primary:h,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:f,closedCaptions:{}},jb:this.$[o.id]=t,drmInfos:u,pc:m,gc:e,Df:n,duration:i}}.bind(t))}function Ao(t){var e=io(t.a,'EXT-X-MAP');if(!e.length)return null;if(1<e.length)throw new rt(2,4,4020);var n=Po(e=e[0],'URI'),i=ao(t.uri,n);return t=0,n=null,(e=eo(e,'BYTERANGE'))&&(t=e.split('@'),e=Number(t[0]),n=(t=Number(t[1]))+e-1),new ci(function(){return[i]},t,n)}function Lo(t,e,n,i,o){var r=n.a,a=ao(t.uri,n.uri);t=Oo(r,'EXTINF').value.split(','),t=o+Number(t[0]),n=0;var s=null;return(r=oo(r,'EXT-X-BYTERANGE'))&&(n=r.value.split('@'),r=Number(n[0]),s=(n=n[1]?Number(n[1]):e.a+1)+r-1),new di(i,o,t,function(){return[a]},n,s)}function So(e){e.b&&(e.J.forEach(function(t){e.b.Ta(t,0)}),e.J=[])}function Io(t,i,o,e,n){var r=i.segments,a=[],s=ao(i.uri,r[0].uri),u=Lo(i,null,r[0],o,0),l=Ao(i);return function(t,e,n,i,o,r){if(t.o&&(e=t.a[e].jb.get(i.position)))return Promise.resolve(e.startTime);i=[No(t,i)],'video/mp4'!=o&&'audio/mp4'!=o||(n?i.push(No(t,n)):i.push(i[0]));return Promise.all(i).then(function(t){if('video/mp4'==o||'audio/mp4'==o)return function(t,e){var n=0;if((new vi).F('moov',gi).F('trak',gi).F('mdia',gi).aa('mdhd',function(t){t.reader.I(0==t.version?8:16),n=t.reader.C(),t.parser.stop()}).parse(e,!0),!n)throw new rt(2,4,4030);var i=0,o=!1;if((new vi).F('moof',gi).F('traf',gi).aa('tfdt',function(t){i=(0==t.version?t.reader.C():t.reader.Xa())/n,o=!0,t.parser.stop()}).parse(t,!0),!o)throw new rt(2,4,4030);return i}(t[0].data,t[1].data);if('audio/mpeg'==o)return 0;if('video/mp2t'==o)return function(t){function e(){throw new rt(2,4,4030)}t=new hi(new DataView(t),0);for(var n=0,i=0;;){if(n=t.V(),71!=(i=t.fa())&&e(),16384&t.hb()||e(),0!=(i=(48&t.fa())>>4)&&2!=i||e(),3==i&&(i=t.fa(),t.I(i)),1==t.C()>>8)return t.I(3),0!=(n=t.fa()>>6)&&1!=n||e(),0==t.fa()&&e(),n=t.fa(),i=t.hb(),t=t.hb(),(1073741824*((14&n)>>1)+((65534&i)<<14|(65534&t)>>1))/9e4;t.seek(n+188),71!=(i=t.fa())&&(t.seek(n+192),i=t.fa()),71!=i&&(t.seek(n+204),i=t.fa()),71!=i&&e(),t.gd(1)}}(t[0].data);if('application/mp4'==o||o.startsWith('text/')){t=t[0].data;var e=Mt(o,r);if(Ge[e]){var n=new Fe(null);n.f=new Ge[e],t=n.Xb(t)}else t=0;return t}throw new rt(2,4,4030)}.bind(t))}(t,i.uri,l,u,e,n).then(function(t){s.split('/').pop();for(var e=0;e<r.length;++e){var n=a[a.length-1];n=Lo(i,n,r[e],o+e,0==e?t:n.endTime),a.push(n)}return this.J.push(a),So(this),a}.bind(t))}function No(e,t){var n=e.c.networkingEngine,i=Lt(t.c(),e.g.retryParameters),o={},r=t.b;o.Range='bytes='+r+'-'+(r+2048-1);var a={};return 0==r&&null==t.a||(r='bytes='+r+'-',null!=t.a&&(r+=t.a),a.Range=r),i.headers=o,o=n.request(1,i),Tt(e.h,o),o.promise.catch(function(){Y('Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.',i.uris[0]),i.headers=a;var t=n.request(1,i);return Tt(e.h,t),t.promise})}function ko(t,e){for(var n=Co[t],i=0;i<n.length;i++)for(var o=0;o<e.length;o++)if(n[i].test(e[o].trim()))return e[o].trim();return'text'==t?'':null}function Po(t,e){var n=t.getAttribute(e);if(!n)throw new rt(2,4,4023,e);return n.value}function Oo(t,e){var n=oo(t,e);if(!n)throw new rt(2,4,4024,e);return n}function Ro(t,e){var n=t.c.networkingEngine.request(0,Lt([e],t.g.retryParameters));return Tt(t.h,n),n.promise}O('shaka.net.DataUriPlugin',yo),yo.parse=function(t){var e=t.split(':');if(e.length<2||'data'!=e[0])throw new rt(2,1,1004,t);if((e=e.slice(1).join(':').split(',')).length<2)throw new rt(2,1,1004,t);var n=e[0];e=a.decodeURIComponent(e.slice(1).join(','));var i=null;if(1<(n=n.split(';')).length&&(i=n[1]),'base64'==i)t=Kt(e).buffer;else{if(i)throw new rt(2,1,1005,t);t=Ht(e)}return{data:t,contentType:n[0]}},At('data',yo),O('shaka.hls.HlsParser',Eo),(e=Eo.prototype).configure=function(t){this.g=t},e.start=function(e,t){return this.c=t,this.l=e,Ro(this,e).then(function(t){return function(t,e,n){if(0!=(e=po(t.s,e,n)).type)throw new rt(2,4,4022);return function(t,n){var i=n.a,e=io(n.a,'EXT-X-MEDIA').filter(function(t){return'SUBTITLES'==Po(t,'TYPE')}.bind(t)).map(function(t){return function(t,e){return Po(e,'TYPE'),wo(t,e,[]).then(function(t){return t.stream})}(this,t)}.bind(t));return Promise.all(e).then(function(e){var t=io(i,'EXT-X-STREAM-INF').map(function(t){return function(t,n,e){var i=eo(n,'CODECS','avc1.42E01E,mp4a.40.2').split(/\s*,\s*/),o=n.getAttribute('RESOLUTION'),r=null,a=null,s=eo(n,'FRAME-RATE'),u=Number(Po(n,'BANDWIDTH'));if(o){var l=o.value.split('x');r=l[0],a=l[1]}e=io(e.a,'EXT-X-MEDIA');var c=eo(n,'AUDIO'),d=eo(n,'VIDEO');if(c?e=ro(e,'AUDIO',c):d&&(e=ro(e,'VIDEO',d)),l=ko('text',i)){var h=eo(n,'SUBTITLES');h&&((h=ro(e,'SUBTITLES',h)).length&&(t.A[h[0].id].stream.codecs=l)),yt(i,l)}e=e.map(function(t){return wo(this,t,i)}.bind(t));var p=[],f=[];return Promise.all(e).then(function(t){if(c?p=t:d&&(f=t),t=!1,p.length||f.length)if(p.length)if(Po(n,'URI')==p[0].pc){var e='audio';t=!0}else e='video';else e='audio';else 1==i.length?(e=ko('video',i),e=o||s||e?'video':'audio'):(e='video',i=[i.join(',')]);return t?Promise.resolve():function(t,e,n,i){var o=Po(e,'URI');return o=ao(t.l,o),t.a[o]?Promise.resolve(t.a[o]):_o(t,o,n,i,'und',!1,null,null).then(function(t){return this.a[o]?this.a[o]:this.a[o]=t}.bind(t))}(this,n,i,e)}.bind(t)).then(function(t){return t&&('audio'==t.stream.type?p=[t]:f=[t]),f&&To(f),p&&To(p),function(t,e,n,i,o,r,a){n.forEach(function(t){(t=t.stream)&&(t.width=Number(o)||void 0,t.height=Number(r)||void 0,t.frameRate=Number(a)||void 0)}.bind(t)),e.length||(e=[null]),n.length||(n=[null]);for(var s=[],u=0;u<e.length;u++)for(var l=0;l<n.length;l++){var c=e[u]?e[u].stream:null,d=n[l]?n[l].stream:null,h=e[u]?e[u].drmInfos:null,p=n[l]?n[l].drmInfos:null,f=void 0;if(c&&d){if(h.length&&p.length&&!(0<ue(h,p).length))continue;f=ue(h,p)}else c?f=h:d&&(f=p);h=(n[u]?n[u].pc:'')+' - '+(e[u]?e[u].pc:''),t.M[h]||(m=c,v=d,g=i,y=f,c={id:t.P++,language:m?m.language:'und',primary:!!m&&m.primary||!!v&&v.primary,audio:m,video:v,bandwidth:g,drmInfos:y,allowedByApplication:!0,allowedByKeySystem:!0},s.push(c),t.M[h]=c)}var m,v,g,y;return s}(this,p,f,u,r,a,s)}.bind(t))}(this,t,n)}.bind(this));return Promise.all(t).then(function(t){return{startTime:0,variants:t.reduce(Rt.Pb,[]),textStreams:e}}.bind(this))}.bind(t))}(t,e).then(function(t){this.c.filterAllPeriods([t]);var e,n=1/0,i=0,o=1/0;for(e in this.a){var r=this.a[e];n=Math.min(n,r.gc),i=Math.max(i,r.gc),'text'!=r.stream.type&&(o=Math.min(o,r.duration))}if(this.f!=Vo.Aa?(this.b=new Fi(0,3*this.u),this.b.lb(!1)):(this.b=new Fi(null,0),this.b.lb(!0)),So(this),this.f!=Vo.Aa){for(this.i=this.B,this.f==Vo.zc&&(n=this.b.Kb,isNaN(this.g.availabilityWindowOverride)||(n=this.g.availabilityWindowOverride),this.b.uc(n)),n=0;95443.7176888889<=i;)n+=95443.7176888889,i-=95443.7176888889;if(n)for(var a in this.a)(i=this.a[a]).gc<95443.7176888889&&(i.stream.presentationTimeOffset=-n,i.jb.offset(n))}else for(var s in this.b.ma(o),this.b.offset(-n),this.a)(a=this.a[s]).stream.presentationTimeOffset=n,a.jb.offset(-n),Ai(a.jb,o);this.o={presentationTimeline:this.b,periods:[t],offlineSessionIds:[],minBufferTime:0}}.bind(t))}(this,t.data,e).then(function(){return Mo(this,this.i),this.o}.bind(this))}.bind(this))},e.stop=function(){return this.g=this.c=null,this.A={},this.M={},this.o=null,this.h.destroy()},e.update=function(){if(this.f!=Vo.Aa){var t,e=[];for(t in this.a)e.push(bo(this,this.a[t],t));return Promise.all(e)}},e.onExpirationUpdated=function(){};var Co={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Do={audio:{mp4:'audio/mp4',m4s:'audio/mp4',m4i:'audio/mp4',m4a:'audio/mp4',ts:'video/mp2t'},video:{mp4:'video/mp4',m4s:'video/mp4',m4i:'video/mp4',m4v:'video/mp4',ts:'video/mp2t'},text:{mp4:'application/mp4',m4s:'application/mp4',m4i:'application/mp4',vtt:'text/vtt',ttml:'application/ttml+xml'}};function Mo(t,e){null!=t.i&&null!=e&&(t.j=a.setTimeout(t.Z.bind(t),1e3*e))}function xo(t,e){t.f=e,t.b&&t.b.lb(t.f==Vo.Aa),t.f==Vo.Aa&&null!=t.j&&(a.clearTimeout(t.j),t.j=null,t.i=null)}Eo.prototype.Z=function(){this.c&&(this.j=null,this.update().then(function(){Mo(this,this.i)}.bind(this)).catch(function(t){this.c&&(t.severity=1,this.c.onError(t),Mo(this,0))}.bind(this)))};var Uo={'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed':function(t){var e=Po(t,'METHOD');return['SAMPLE-AES','SAMPLE-AES-CTR','SAMPLE-AES-CENC'].includes(e)?(e=Po(t,'URI'),e=yo.parse(e),e=xe('com.widevine.alpha',[{initDataType:'cenc',initData:e=new Uint8Array(e.data)}]),(t=eo(t,'KEYID'))&&(e.keyIds=[t.substr(2).toLowerCase()]),e):null}},Bo='VOD',Vo={Aa:Bo,ud:'EVENT',zc:'LIVE'};function Yo(){this.a={}}function Ho(t,e,n,i){t.a[e]=t.a[e]||new Fo,t.a[e].a[n]=i}function Fo(){this.a={}}function Go(t,e){this.a=t,this.b=new Set([t]);for(var n=L(e=e||[]),i=n.next();!i.done;i=n.next())this.add(i.value)}function qo(t,e){var n;if(!(n=!!t.audio!=!!e.audio||!!t.video!=!!e.video||t.language!=e.language)&&(n=t.audio&&e.audio)){n=t.audio;var i=e.audio;n=!(n.channelsCount==i.channelsCount&&jo(n,i)&&Ko(n.roles,i.roles))}return!n&&(n=t.video&&e.video)&&(n=!(jo(n=t.video,i=e.video)&&Ko(n.roles,i.roles))),!n}function jo(t,e){if(t.mimeType!=e.mimeType)return!1;var n=t.codecs.split(',').map(function(t){return xt(t)[0]}),i=e.codecs.split(',').map(function(t){return xt(t)[0]});if(n.length!=i.length)return!1;n.sort(),i.sort();for(var o=0;o<n.length;o++)if(n[o]!=i[o])return!1;return!0}function Ko(t,e){var n=new Set(t),i=new Set(e);if(n.delete('main'),i.delete('main'),n.size!=i.size)return!1;for(var o=(n=L(n)).next();!o.done;o=n.next())if(!i.has(o.value))return!1;return!0}function Xo(t){this.a=t,this.b=new Wo(t.language,'',t.audio&&t.audio.channelsCount?t.audio.channelsCount:0)}function Wo(t,e,n){this.c=t,this.b=e,this.a=n}function zo(t,e,n,i){this.a=t,this.A=e,this.s=n,this.u=i,this.h=new It,this.b=null,this.g=!1,this.o=t.readyState,this.c=!1,this.j=this.B=-1,this.f=this.i=!1,e=this.l.bind(this),Nt(this.h,t,'waiting',e),this.b=new Gt(e),qt(this.b,.25)}function $o(t,e,n){this.a=t,this.i=e,this.h=n,this.c=new It,this.f=1,this.g=!1,this.b=null,0<t.readyState?this.Xc():kt(this.c,t,'loadedmetadata',this.Xc.bind(this)),Nt(this.c,t,'ratechange',this.pe.bind(this))}function Qo(t){return 0<t.a.readyState?t.a.currentTime:t.h}function Jo(t,e){0<t.a.readyState?function(e,n,i){e.a.currentTime=i;var o=0;setTimeout(function t(){!e.a||10<=o++||e.a.currentTime!=n||(e.a.currentTime=i,setTimeout(t,100))},100)}(t,t.a.currentTime,e):(t.h=e,setTimeout(t.i,0))}function Zo(t,e){null!=t.b&&(t.b.cancel(),t.b=null),t.f=e,t.a.playbackRate=t.g||e<0?0:e,!t.g&&e<0&&(t.b=new Gt(function(){t.a.currentTime+=e/4}),qt(t.b,.25))}function tr(t,e,n,i,o,r,a){this.c=t,this.a=e,this.l=n,this.h=i,this.j=r,this.f=null,this.g=new zo(t,e,i,a),e=this.re.bind(this),null==o?o=1/0>this.a.S()?this.a.Pa():this.a.oa():o<0&&(o=this.a.oa()+o),o=nr(this,or(this,o)),this.b=new $o(t,e,o),this.f=new Gt(this.oe.bind(this)),qt(this.f,.25)}function er(t){var e=Qo(t.b);return 0<t.c.readyState&&(t.c.paused||(e=or(t,e))),e}function nr(t,e){var n=t.a.S();return n<=e?n-t.h.durationBackoff:e}function ir(t,e){var n=ve.bind(null,t.c.buffered),i=Math.max(t.l,t.h.rebufferingGoal),o=t.a.Pa(),r=t.a.oa(),a=t.a.S();r-o<3&&(o=r-3);var s=t.a.bb(i),u=t.a.bb(5);return i=t.a.bb(i+5),a<=e?nr(t,e):r<e?r:e<o?n(u)?u:i:s<=e||n(e)?e:i}function or(t,e){var n=t.a.Pa();return e<n?n:(n=t.a.oa())<e?n:e}function rr(t){this.a=!1,this.b=new nt,this.c=t}function ar(e,n){return S(function t(){return B(t,function(t){switch(t.m){case 1:return m(t,2),U(t,Promise.resolve(n()),4);case 4:return t.return(t.w);case 2:return g(t),U(t,Promise.all(e.map(function(t){return t.destroy()})),5);case 5:y(t,0)}})})}function sr(t,e,n,i,o,r,a){var s=this;this.a=t,this.J=e,this.s=n,this.l=i,this.h=o,this.u=r,this.f=[],this.j=new It,this.c=!1,this.i=-1,this.g=null,this.b=a,this.B=new rr(function(){var t=Promise.all([s.j?s.j.destroy():null,s.b?s.b.destroy():null]);return s.j=null,dr(s),s.a=null,s.s=null,s.l=null,s.h=null,s.u=null,s.f=[],s.b=null,t}),cr(this)}function ur(t,e){if(!t.f.some(function(t){return t.info.schemeIdUri==e.schemeIdUri&&t.info.startTime==e.startTime&&t.info.endTime==e.endTime})){var n={info:e,status:1};t.f.push(n);var i=new pt('timelineregionadded',{detail:lr(e)});t.h(i),t.o(!0,n)}}function lr(t){var e=vt(t);return e.eventElement=t.eventElement,e}function cr(t){dr(t),t.g=a.setTimeout(t.A.bind(t),250)}function dr(t){t.g&&(a.clearTimeout(t.g),t.g=null)}function hr(t,e,n){this.c=t,this.b=e,this.a=n}function pr(t,e){this.a=e,this.b=t,this.g=null,this.j=1,this.o=Promise.resolve(),this.h=[],this.i=new Map,this.c=new Map,this.s=!1,this.B=null,this.A=this.f=this.l=!1,this.u=0}function fr(t){var e=er(t.a.Ga);return t.b.periods[bn(t.b,e)]}function mr(t){var e=t.c.get('video');return e?t.b.periods[e.ua]:(e=t.c.get('audio'))?t.b.periods[e.ua]:null}function vr(t){return yr(t,'audio')}function gr(t){return yr(t,'video')}function yr(t,e){var n=t.c.get(e);return n?n.va||n.stream:null}function Er(l,c){return S(function t(){var e,n,i,o,r,a,s,u;return B(t,function(t){switch(t.m){case 1:return e=Ue,$e(l.a.L,e.Ma),l.u++,l.A=!1,n=l.u,i=l.a.L,o=new Map,r=new Set,o.set(e.Ma,c),r.add(c),U(t,i.init(o,!1),2);case 2:return l.f?t.return():U(t,Nr(l,r),3);case 3:if(l.f)return t.return();l.u!=n||l.c.has(e.Ma)||l.A||(a=er(l.a.Ga),s=bn(l.b,a),u=Sr(c,s),l.c.set(e.Ma,u),Dr(l,u,0)),t.m=0}})})}function br(t){t.A=!0;var e=t.c.get('text');e&&(Mr(e),t.c.delete('text'))}function Tr(t,e){var n=t.c.get('video');if(n){var i=n.stream;if(i)if(e){var o=i.trickModeVideo;o&&!n.va&&(_r(t,o,!1,0),n.va=i)}else(i=n.va)&&_r(t,i,!(n.va=null),0)}}function wr(t,e,n,i){e.video&&_r(t,e.video,n,i),e.audio&&_r(t,e.audio,n,i)}function _r(t,e,n,i){var o=t.c.get(e.type);if(!o&&'text'==e.type&&t.g.ignoreTextStreamFailures)Er(t,e);else if(o){var r=Tn(t.b,e);n&&r!=o.ua?Ar(t):(o.va&&(e.trickModeVideo?e=(o.va=e).trickModeVideo:o.va=null),(r=t.h[r])&&r.Ya&&(r=t.i.get(e.id))&&r.Ya&&o.stream!=e&&('text'==e.type&&Ke(t.a.L,Mt(e.mimeType,e.codecs)),o.stream=e,o.Fb=!0,n&&(o.Ba?o.Lb=!0:o.Fa?(o.za=!0,o.yb=i,o.Lb=!0):(Mr(o),Cr(t,o,!0,i)))))}}function Ar(n){n.c.forEach(function(t,e){t.Ba||t.za||(t.Fa?(t.za=!0,t.yb=0):null==Xe(n.a.L,e)?null==t.ya&&Dr(n,t,0):(Mr(t),Cr(n,t,!1,0)))})}function Lr(u,l,c){return S(function t(){var e,i,n,o,r,a,s;return B(t,function(t){switch(t.m){case 1:return e=er(u.a.Ga),i=bn(u.b,e),n=Ue,o=new Map,r=new Set,l.variant&&l.variant.audio&&(o.set(n.sd,l.variant.audio),r.add(l.variant.audio)),l.variant&&l.variant.video&&(o.set(n.xd,l.variant.video),r.add(l.variant.video)),l.text&&(o.set(n.Ma,l.text),r.add(l.text)),a=u.a.L,s=u.g.forceTransmuxTS,U(t,a.init(o,s),2);case 2:return u.f?t.return():(function(t){var e=t.b.presentationTimeline.S();e<1/0?t.a.L.ma(e):t.a.L.ma(Math.pow(2,32))}(u),U(t,Nr(u,r),3));case 3:if(u.f)return t.return();o.forEach(function(t,e){if(!u.c.has(e)){var n=Sr(t,i,c);u.c.set(e,n),Dr(u,n,0)}}),t.m=0}})})}function Sr(t,e,n){return{stream:t,type:t.type,Ra:null,pa:null,va:null,Fb:!0,ua:e,endOfStream:!1,Fa:!1,ya:null,za:!1,yb:0,Lb:!1,Ba:!1,oc:!1,eb:!1,fd:n||0}}function Ir(t,e){var n=t.h[e];if(n)return n.promise;n={promise:new nt,Ya:!1},t.h[e]=n;for(var i=new Set,o=L(t.b.periods[e].variants),r=o.next();!r.done;r=o.next())(r=r.value).video&&i.add(r.video),r.video&&r.video.trickModeVideo&&i.add(r.video.trickModeVideo),r.audio&&i.add(r.audio);for(r=(o=L(t.b.periods[e].textStreams)).next();!r.done;r=o.next())i.add(r.value);return t.o=t.o.then(function(){if(!this.f)return Nr(this,i)}.bind(t)).then(function(){this.f||(this.h[e].promise.resolve(),this.h[e].Ya=!0)}.bind(t)).catch(function(t){this.f||(this.h[e].promise.catch(function(){}),this.h[e].promise.reject(),delete this.h[e],this.a.onError(t))}.bind(t)),n.promise}function Nr(c,d){return S(function t(){var i,o,r,a,s,u,l;return B(t,function(t){switch(t.m){case 1:i=[];for(var e=L(d),n=e.next();!n.done;n=e.next())o=n.value,(r=c.i.get(o.id))?i.push(r.promise):(c.i.set(o.id,{promise:new nt,Ya:!1}),i.push(o.createSegmentIndex()));return I(t,2),U(t,Promise.all(i),4);case 4:if(c.f)return t.return();N(t,3);break;case 2:if(a=k(t),c.f)return t.return();for(n=(t=L(d)).next();!n.done;n=t.next())s=n.value,c.i.get(s.id).promise.catch(function(){}),c.i.get(s.id).promise.reject(),c.i.delete(s.id);throw a;case 3:for(n=(e=L(d)).next();!n.done;n=e.next())u=n.value,(l=c.i.get(u.id)).Ya||(l.promise.resolve(),l.Ya=!0);t.m=0}})})}function kr(t,e,n){return e.Ra&&e.pa?t.b.periods[Tn(t.b,e.Ra)].startTime+e.pa.endTime:Math.max(n,e.fd)}function Pr(t,e,n,i){return n=t.b.periods[n],(e=e.stream.getSegmentReference(i))?(t=(i=t.b.presentationTimeline).cb(),i=i.Qa(),n.startTime+e.endTime<t||n.startTime+e.startTime>i?null:e):null}function Or(t){return!t.Fa&&null==t.ya&&!t.za&&!t.Ba}function Rr(t,e){var n=Lt(e.c(),t.g.retryParameters);if(0!=e.b||null!=e.a){var i='bytes='+e.b+'-';null!=e.a&&(i+=e.a),n.headers.Range=i}return t.a.Gb.request(1,n).promise.then(function(t){return t.data})}function Cr(t,e,n,i){if(e.za=!1,e.Lb=!1,e.yb=0,e.Ba=!0,i){var o=er(t.a.Ga);i=t.a.L.remove(e.type,o+i,t.a.L.S())}else i=$e(t.a.L,e.type).then(function(){if(!this.f&&n)return this.a.L.flush(e.type)}.bind(t));i.then(function(){this.f||(e.Ra=null,e.pa=null,e.Ba=!1,e.endOfStream=!1,Dr(this,e,0))}.bind(t))}function Dr(t,e,n){e.ya=a.setTimeout(t.jf.bind(t,e),1e3*n)}function Mr(t){null!=t.ya&&(a.clearTimeout(t.ya),t.ya=null)}function xr(t,e){ot(t.B).then(function(){this.f||(this.a.onError(e),e.handled||this.g.failureCallback(e))}.bind(t))}function Ur(t,e,n,i,o,r){if(200<=n&&n<=299&&202!=n)return o&&(i=o),{uri:i,data:e,headers:t,fromCache:!!t['x-shaka-from-cache']};o=null;try{o=Yt(e)}catch(t){}throw new rt(401==n||403==n?2:1,1,1001,i,n,o,t,r)}function Br(t,e,n,i){var o=new Br.b;Ct(e.headers).forEach(function(t,e){o.append(e,t)});var r,a=new Br.a,s={body:e.body||void 0,headers:o,method:e.method,signal:a.signal,credentials:e.allowCrossSiteCredentials?'include':void 0},u={Dc:!1,pd:!1};return e.retryParameters.timeout&&(r=setTimeout(function(){u.pd=!0,a.abort()},e.retryParameters.timeout)),new at(t=Br.h(t,n,s,u,r,i),function(){return u.Dc=!0,a.abort(),Promise.resolve()})}function Vr(s,e,u,n){var i=new Vr.f,o=Date.now(),l=0;return new at(new Promise(function(r,a){for(var t in i.open(e.method,s,!0),i.responseType='arraybuffer',i.timeout=e.retryParameters.timeout,i.withCredentials=e.allowCrossSiteCredentials,i.onabort=function(){a(new rt(1,1,7001,s,u))},i.onload=function(t){for(var e=(t=t.target).getAllResponseHeaders().trim().split('\r\n'),n={},i=(e=L(e)).next();!i.done;i=e.next())n[(i=i.value.split(': '))[0].toLowerCase()]=i.slice(1).join(': ');try{var o=Ur(n,t.response,t.status,s,t.responseURL,u);r(o)}catch(t){a(t)}},i.onerror=function(t){a(new rt(1,1,1002,s,t,u))},i.ontimeout=function(){a(new rt(1,1,1003,s,u))},i.onprogress=function(t){var e=Date.now();(100<e-o||t.lengthComputable&&t.loaded==t.total)&&(n(e-o,t.loaded-l),l=t.loaded,o=e)},e.headers)i.setRequestHeader(t.toLowerCase(),e.headers[t]);i.send(e.body)}),function(){return i.abort(),Promise.resolve()})}function Yr(t){this.b=new Map,this.c=Promise.resolve(),this.h=!1,this.i=t,this.f=this.a=this.g=0}function Hr(t,e,n,i,o){var r=t.b.get(e)||[];r.push({request:n,Fc:i,fe:o}),t.b.set(e,r)}function Fr(e,n){var t=Array.from(e.b.values());e.b.clear();for(var i=L(t),o=i.next();!o.done;o=i.next())for(var r=(o=L(o.value)).next();!r.done;r=o.next())e.a+=r.value.Fc;var a=Promise.all(t.map(function(t){return function(e,n,t){var i=Promise.resolve();return t.forEach(function(t){i=i.then(function(){return Gr(e),function(e,t,n){return Promise.resolve().then(function(){return Gr(e),t.request(1,n.request).promise}).then(function(t){return Gr(e),e.g+=n.Fc,e.f+=t.data.byteLength,e.i(e.a?e.g/e.a:0,e.f),n.fe(t.data)})}(e,n,t)})}),i}(e,n,t)}));return e.c=e.c.then(function(){return a}),a}function Gr(t){if(t.h)throw new rt(2,9,7001)}function qr(t,e){var n=this;this.c=t,this.b=t.objectStore(e),this.a=new nt,t.onabort=function(t){t.preventDefault(),n.a.reject()},t.onerror=function(t){t.preventDefault(),n.a.reject()},t.oncomplete=function(){n.a.resolve()}}function jr(i,o){return new Promise(function(e,t){var n=i.b.openCursor();n.onerror=t,n.onsuccess=function(t){if(!(t=t.target.result))return e();o(t.key,t.value,t),t.continue()}})}function Kr(t){this.b=t,this.a=[]}function Xr(t,e){return zr(t,e,'readonly')}function Wr(t,e){return zr(t,e,'readwrite')}function zr(t,e,n){var i=new qr(n=t.b.transaction([e],n),e);return t.a.push(i),i.promise().then(function(){yt(t.a,i)},function(){yt(t.a,i)}),i}function $r(t){this.a=new Kr(t)}function Qr(){this.a=new Map}function Jr(t,i){t.a.forEach(function(t,n){t.getCells().forEach(function(t,e){i({ka:n,U:e},t)})})}function Zr(t,e,n){if(!(t=t.a.get(e)))throw new rt(2,9,9013,'Could not find mechanism with name '+e);if(!(e=t.getCells().get(n)))throw new rt(2,9,9013,'Could not find cell with name '+n);return e}function ta(t,e){na.set(t,e)}function ea(){for(var t=L(na.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)())return e.destroy(),!0;return!1}Yi.m3u8=Eo,Vi['application/x-mpegurl']=Eo,Vi['application/vnd.apple.mpegurl']=Eo,Yo.prototype.get=function(t,e){var n=this.a[t];return n?n.get(e):null},Fo.prototype.get=function(t){return this.a[t]},Go.prototype.add=function(t){return!!qo(this.a,t)&&(this.b.add(t),!0)},Go.prototype.values=function(){return this.b.values()},Xo.prototype.create=function(t){var e=this,n=t.filter(function(t){return qo(e.a,t)});return n.length?new Go(n[0],n):this.b.create(t)},Wo.prototype.create=function(t){var e=[];e=function(t,n){if(!(n=en(n)))return[];for(var e={},i=L([0,nn,on]),o=i.next();!o.done;e={dc:e.dc},o=i.next())if(e.dc=o.value,(o=t.filter(function(e){return function(t){return t=en(t.language),tn(e.dc,n,t)}}(e))).length)return o;return[]}(t,this.c);var n=t.filter(function(t){return t.primary});for(e=e.length?e:n.length?n:t,this.b&&((t=function(t,n){return t.filter(function(t){var e=t.audio;return t=t.video,e&&0<=e.roles.indexOf(n)||t&&0<=t.roles.indexOf(n)})}(e,this.b)).length&&(e=t)),this.a&&((t=vn(e,this.a)).length&&(e=t)),t=new Go(e[0]),n=(e=L(e)).next();!n.done;n=e.next())n=n.value,qo(t.a,n)&&t.add(n);return t},zo.prototype.destroy=function(){var t=this.h.destroy();return this.u=this.A=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),t},zo.prototype.gb=function(){this.f=!0,this.l()},zo.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.o&&(this.c=!1,this.o=this.a.readyState);var t=this.s.smallGapLimit,e=this.a.currentTime,n=this.a.buffered;t:{if(n&&n.length&&!(1==n.length&&n.end(0)-n.start(0)<1e-6)){var i=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(i=.5);for(var o=0;o<n.length;o++)if(n.start(o)>e&&(0==o||n.end(o-1)-e<=i)){i=o;break t}}i=null}if(null==i){if(n=this.a.currentTime,e=this.a.buffered,!this.a.paused&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.B=Date.now(),this.i=!1;else if(!this.i&&this.B<Date.now()-1e3)for(i=0;i<e.length;i++)if(n>=e.start(i)&&n<e.end(i)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=i||this.f){o=n.start(i);var r=this.A.oa();if(!(r<=o)){t=(r=o-e)<=t;var a=!1;r<.001||(t||this.c||(this.c=!0,(e=new pt('largegap',{currentTime:e,gapSize:r})).cancelable=!0,this.u(e),this.s.jumpLargeGaps&&!e.defaultPrevented&&(a=!0)),!t&&!a)||(0!=i&&n.end(i-1),this.a.currentTime=o)}}}}},(e=$o.prototype).destroy=function(){var t=this.c.destroy();return(this.c=null)!=this.b&&(this.b.cancel(),this.b=null),this.i=this.a=null,t},e.ab=function(){return this.f},e.pe=function(){var t=this.g||this.f<0?0:this.f;this.a.playbackRate&&this.a.playbackRate!=t&&Zo(this,this.a.playbackRate)},e.Xc=function(){Math.abs(this.a.currentTime-this.h)<.001?this.Yc():(kt(this.c,this.a,'seeking',this.Yc.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)},e.Yc=function(){var t=this;Nt(this.c,this.a,'seeking',function(){return t.i()})},(e=tr.prototype).destroy=function(){var t=Promise.all([this.b.destroy(),this.g.destroy()]);return this.g=this.b=null,null!=this.f&&(this.f.cancel(),this.f=null),this.j=this.h=this.a=this.c=null,t},e.ab=function(){return this.b.ab()},e.gb=function(){this.g.gb()},e.oe=function(){if(0!=this.c.readyState&&!this.c.paused){var t=this.c.currentTime,e=this.a.Pa(),n=this.a.oa();n-e<3&&(e=n-3),t<e&&(t=ir(this,t),this.c.currentTime=t)}},e.re=function(){var t=this.g;t.g=!0,t.f=!1,t.c=!1;var e=Qo(this.b);if(t=ir(this,e),.001<Math.abs(t-e)&&(e=(new Date).getTime()/1e3,!this.i||this.i<e-1))return this.i=e,void Jo(this.b,t);this.j()},rr.prototype.destroy=function(){var t=this;return this.a?this.b:(this.a=!0,this.c().then(function(){t.b.resolve()},function(){t.b.resolve()}))},sr.prototype.destroy=function(){return this.B.destroy()},sr.prototype.o=function(t,e){var n=e.info.startTime>this.a.currentTime?1:e.info.endTime<this.a.currentTime?3:2,i=2==e.status,o=2==n;n!=e.status&&(t&&!i&&!o||(i||this.h(new pt('timelineregionenter',{detail:lr(e.info)})),o||this.h(new pt('timelineregionexit',{detail:lr(e.info)}))),e.status=n)},sr.prototype.A=function(){this.g=null,cr(this);var t=bn(this.b.a,this.a.currentTime);t!=this.i&&(-1!=this.i&&this.u(),this.i=t),t=ge(this.a.buffered,this.a.currentTime);var e=me(this.a.buffered),n=this.b;e=e||0;var i=n.a.presentationTimeline,o=i.Qa();e=i.W()&&o<=e,i=!(i=n.b).g||'ended'==i.g.readyState,n=e||i||n.c.ended,this.c?(e=Math.max(this.J,this.s.rebufferingGoal),(n||e<=t)&&0!=this.c&&(this.c=!1,this.l(!1))):!n&&t<.5&&1!=this.c&&(this.c=!0,this.l(!0)),this.f.forEach(this.o.bind(this,!1))},hr.prototype.destroy=function(){return this.a=this.b=this.c=null,Promise.resolve()},(e=pr.prototype).destroy=function(){for(var t=L(this.c.values()),e=t.next();!e.done;e=t.next())Mr(e.value);return this.c.clear(),this.i.clear(),this.g=this.h=this.o=this.b=this.a=null,this.f=!0,Promise.resolve()},e.configure=function(t){this.g=t,this.B=new it({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},e.init=function(){var t=er(this.a.Ga);return(t=this.a.Rc(this.b.periods[bn(this.b,t)])).variant||t.text?Lr(this,t).then(function(){!this.f&&this.a&&this.a.he&&this.a.he()}.bind(this)):Promise.reject(new rt(2,5,5005))},e.jf=function(t){if(!this.f&&!t.Fa&&null!=t.ya&&!t.Ba)if(t.ya=null,t.za)Cr(this,t,t.Lb,t.yb);else{try{var e=function(e,t){var n=er(e.a.Ga),i=kr(e,t,n),o=Tn(e.b,t.stream),r=bn(e.b,i),a=function(t,e,n){return'text'==e?null==(t=t.a).b||t.b<n?0:t.b-Math.max(n,t.a):ge(t=We(t,e),n)}(e.a.L,t.type,n),s=Math.max(e.b.minBufferTime||0,e.g.rebufferingGoal,e.g.bufferingGoal)*e.j;if(i>=e.b.presentationTimeline.S())return t.endOfStream=!0,null;if(t.endOfStream=!1,(t.ua=r)!=o)return null;if(s<=a)return.5;if(r=function(t,e){return'text'==e?t.a.b:me(We(t,e))}(e.a.L,t.type),!(r=function(t,e,n,i,o){if(e.pa&&e.stream==e.Ra)return Pr(t,e,o,e.pa.position+1);if(null==(n=e.pa?e.stream.findSegmentPosition(Math.max(0,t.b.periods[Tn(t.b,e.Ra)].startTime+e.pa.endTime-t.b.periods[o].startTime)):e.stream.findSegmentPosition(Math.max(0,(i||n)-t.b.periods[o].startTime))))return null;var r=null;return null==i&&(r=Pr(t,e,o,Math.max(0,n-1))),r||Pr(t,e,o,n)}(e,t,n,r,o)))return 1;var u=1/0;return Array.from(e.c.values()).forEach(function(t){u=Math.min(u,kr(e,t,n))}),i>=u+e.b.presentationTimeline.a?1:(t.fd=0,function(t,e,n,i,o){var r=t.b.periods[i],a=e.stream,s=t.b.presentationTimeline.S(),u=t.b.periods[i+1];i=function(t,e,n,i,o){return e.Fb?(n=function(t,e,n,i,o){return'text'==e?(t.a.i=n,(t=t.a).h=i,t.g=o,Promise.resolve()):Promise.all([Qe(t,e,t.zd.bind(t,e)),Qe(t,e,t.$e.bind(t,e,n)),Qe(t,e,t.We.bind(t,e,i,o))])}(t.a.L,e.type,t.b.periods[n].startTime-e.stream.presentationTimeOffset,i,o),e.stream.initSegmentReference?(t=Rr(t,e.stream.initSegmentReference).then(function(t){if(!this.f)return ze(this.a.L,e.type,t,null,null)}.bind(t)).catch(function(t){return e.Fb=!0,Promise.reject(t)}),Promise.all([n,t])):n):Promise.resolve()}(t,e,i,Math.max(0,r.startTime-.1),u?u.startTime:s),e.Fa=!0,e.Fb=!1,s=Rr(t,o),Promise.all([i,s]).then(function(t){if(!this.f&&!this.l)return function(t,e,n,i,o,r,a){return null!=o.emsgSchemeIdUris&&0<o.emsgSchemeIdUris.length&&(new vi).aa('emsg',t.Ce.bind(t,i,r,o.emsgSchemeIdUris)).parse(a),function(t,e,n){var i=Math.max(t.g.bufferBehind,t.b.presentationTimeline.a),o=Xe(t.a.L,e.type);return null==o?Promise.resolve():(n=n-o-i)<=0?Promise.resolve():t.a.L.remove(e.type,o,o+n).then(function(){}.bind(t))}(t,e,n).then(function(){if(!this.f)return ze(this.a.L,e.type,a,r.startTime+i.startTime,r.endTime+i.startTime)}.bind(t)).then(function(){if(!this.f)return e.Ra=o,e.pa=r,Promise.resolve()}.bind(t))}(this,e,n,r,a,o,t[1])}.bind(t)).then(function(){this.f||this.l||(e.Fa=!1,e.oc=!1,e.za||this.a.gb(),Dr(this,e,0),function(t,e){if(!t.s&&(t.s=Array.from(t.c.values()).every(function(t){return'text'==t.type||!t.za&&!t.Ba&&t.pa}),t.s)){var n=Tn(t.b,e);for(t.h[n]||Ir(t,n).then(function(){this.f||this.a.Qc()}.bind(t)).catch(Rt.Ea),n=0;n<t.b.periods.length;++n)Ir(t,n).catch(Rt.Ea);t.a.ue&&t.a.ue()}}(this,a))}.bind(t)).catch(function(t){this.f||this.l||(e.Fa=!1,'text'==e.type&&this.g.ignoreTextStreamFailures?this.c.delete('text'):3017==t.code?function(t,e,n){if(!Array.from(t.c.values()).some(function(t){return t!=e&&t.oc})){var i=Math.round(100*t.j);if(20<i)t.j-=.2;else{if(!(4<i))return e.eb=!0,t.l=!0,t.a.onError(n);t.j-=.04}e.oc=!0}Dr(t,e,4)}(this,e,t):(e.eb=!0,t.severity=2,xr(this,t)))}.bind(t))}(e,t,n,o,r),null)}(this,t);null!=e&&(Dr(this,t,e),t.eb=!1)}catch(t){return void xr(this,t)}e=Array.from(this.c.values()),function(t,e){if(e.ua!=Tn(t.b,e.stream)){var o=e.ua,r=Array.from(t.c.values());r.every(function(t){return t.ua==o})&&r.every(Or)&&Ir(t,o).then(function(){if(!this.f&&r.every(function(t){var e=Tn(this.b,t.stream);return Or(t)&&t.ua==o&&e!=o}.bind(this))){var t=this.b.periods[o],e=this.a.Rc(t),n=new Map;e.variant&&e.variant.video&&n.set('video',e.variant.video),e.variant&&e.variant.audio&&n.set('audio',e.variant.audio),e.text&&n.set('text',e.text);var i=L(this.c.keys());for(e=i.next();!e.done;e=i.next())if(e=e.value,!n.has(e)&&'text'!=e)return void this.a.onError(new rt(2,5,5005));for(e=(i=L(Array.from(n.keys()))).next();!e.done;e=i.next())if(e=e.value,!this.c.has(e)){if('text'!=e)return void this.a.onError(new rt(2,5,5005));Lr(this,{text:n.get('text')},t.startTime),n.delete(e)}for(e=(t=L(Array.from(this.c.keys()))).next();!e.done;e=t.next())e=e.value,(i=n.get(e))?(_r(this,i,!1,0),Dr(this,this.c.get(e),0)):this.c.delete(e);this.a.Qc()}}.bind(t)).catch(Rt.Ea)}}(this,t),e.every(function(t){return t.endOfStream})&&this.a.L.endOfStream().then(function(){if(!this.f){var t=this.a.L.S();t<this.b.presentationTimeline.S()&&this.b.presentationTimeline.ma(t)}}.bind(this))}},e.Ce=function(t,e,n,i){var o=i.reader.mc(),r=i.reader.mc(),a=i.reader.C(),s=i.reader.C(),u=i.reader.C(),l=i.reader.C();i=i.reader.Ha(i.reader.H.byteLength-i.reader.V()),t=t.startTime+e.startTime+s/a,n.includes(o)&&('urn:mpeg:dash:event:2012'==o?this.a.ie():this.a.onEvent(new pt('emsg',{detail:{startTime:t,endTime:t+u/a,schemeIdUri:o,value:r,timescale:a,presentationTimeDelta:s,eventDuration:u,id:l,messageData:i}})))},O('shaka.net.HttpFetchPlugin',Br),Br.h=function(d,h,p,f,m,v){return S(function t(){var e,n,i,o,r,a,s,u,l,c;return B(t,function(t){switch(t.m){case 1:return e=Br.g,n=Br.c,a=r=0,s=Date.now(),I(t,2,3),U(t,e(d,p),5);case 5:return i=t.w,u=i.clone().body.getReader(),new n({start:function(o){!function i(){return S(function t(){var e,n;return B(t,function(t){switch(t.m){case 1:return U(t,u.read(),2);case 2:(e=t.w).done||(r+=e.value.byteLength),(100<(n=Date.now())-s||e.done)&&(v(n-s,r-a),a=r,s=n),e.done?o.close():(o.enqueue(e.value),i()),t.m=0}})})}()}}),U(t,i.arrayBuffer(),6);case 6:o=t.w;case 3:g(t),clearTimeout(m),y(t,4);break;case 2:if(l=k(t),f.Dc)throw new rt(1,1,7001,d,h);if(f.pd)throw new rt(1,1,1003,d,h);throw new rt(1,1,1002,d,l,h);case 4:return c={},i.headers.forEach(function(t,e){c[e.trim()]=t}),t.return(Ur(c,o,i.status,d,i.url,h))}})})},Br.isSupported=Br.isSupported=function(){if(!a.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!(!a.fetch||!a.AbortController)},Br.g=a.fetch,Br.a=a.AbortController,Br.c=a.ReadableStream,Br.b=a.Headers,Br.isSupported()&&(At('http',Br,2),At('https',Br,2)),O('shaka.net.HttpXHRPlugin',Vr),Vr.f=a.XMLHttpRequest,At('http',Vr,1),At('https',Vr,1),Yr.prototype.destroy=function(){this.h=!0;var t=this.c.catch(function(){});return this.c=Promise.resolve(),t},qr.prototype.abort=function(){try{this.c.abort()}catch(t){}return this.a.catch(function(){})},qr.prototype.store=function(){return this.b},qr.prototype.promise=function(){return this.a},Kr.prototype.destroy=function(){return Promise.all(this.a.map(function(t){return t.abort()}))},$r.prototype.destroy=function(){return this.a.destroy()},$r.prototype.getAll=function(){var i=this;return S(function t(){var e,n;return B(t,function(t){switch(t.m){case 1:return e=Xr(i.a,'session-ids'),n=[],U(t,jr(e,function(t,e){n.push(e)}),2);case 2:return U(t,e.promise(),3);case 3:return t.return(n)}})})},$r.prototype.add=function(t){for(var e=Wr(this.a,'session-ids'),n=e.store(),i=(t=L(t)).next();!i.done;i=t.next())n.add(i.value);return e.promise()},$r.prototype.remove=function(i){var n=this;return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return U(t,jr(e=Wr(n.a,'session-ids'),function(t,e,n){0<=i.indexOf(e.sessionId)&&n.delete()}),2);case 2:return U(t,e.promise(),0)}})})},Qr.prototype.destroy=function(){for(var t=[],e=L(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.a.clear(),Promise.all(t)},Qr.prototype.init=function(){var i=this;na.forEach(function(t,e){var n=t();n&&i.a.set(e,n)});for(var t=[],e=L(this.a.values()),n=e.next();!n.done;n=e.next())t.push(n.value.init());return Promise.all(t)},O('shaka.offline.StorageMuxer.register',ta),O('shaka.offline.StorageMuxer.unregister',function(t){na.delete(t)});var na=new Map;function ia(t){this.a=new Kr(t)}function oa(t){return Promise.reject(new rt(2,9,9011,'Cannot add new value to '+t))}function ra(t,e,n,i){var o=(t=Wr(t.a,e)).store();return n.forEach(function(t){o.delete(t).onsuccess=function(){return i(t)}}),t.promise()}function aa(t,e,n){var i=(t=Xr(t.a,e)).store(),o={},r=[];return n.forEach(function(e){i.get(e).onsuccess=function(t){null==(t=t.target.result)&&r.push(e),o[e]=t}}),t.promise().then(function(){return r.length?Promise.reject(new rt(2,9,9012,'Could not find values for '+r)):n.map(function(t){return o[t]})})}function sa(t){return{originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,periods:t.periods.map(ua),sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata}}function ua(t){return function(t){var e=t.streams.filter(function(t){return'audio'==t.contentType}),i=t.streams.filter(function(t){return'video'==t.contentType});if(!e.every(function(t){return t.variantIds})||!i.every(function(t){return t.variantIds})){e.forEach(function(t){t.variantIds=[]}),i.forEach(function(t){t.variantIds=[]});var o=0;if(i.length&&!e.length){var n=o++;i.forEach(function(t){t.variantIds.push(n)})}if(!i.length&&e.length){var r=o++;e.forEach(function(t){t.variantIds.push(r)})}i.length&&e.length&&e.forEach(function(n){i.forEach(function(t){var e=o++;n.variantIds.push(e),t.variantIds.push(e)})})}}(t),t.streams.forEach(function(){}),{startTime:t.startTime,streams:t.streams.map(la)}}function la(t){var e=t.ae?ha(t.ae):null;return{id:t.id,originalId:null,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset,contentType:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,kind:t.kind,language:t.language,label:t.label,width:t.width,height:t.height,initSegmentKey:e,encrypted:t.encrypted,keyId:t.keyId,segments:t.segments.map(ca),variantIds:t.variantIds}}function ca(t){var e=ha(t.uri);return{startTime:t.startTime,endTime:t.endTime,dataKey:e}}function da(t){return{data:t.data}}function ha(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new rt(2,9,9004,'Could not parse uri '+t)}function pa(t,e,n,i){this.a=new Kr(t),this.c=e,this.b=n,this.f=i}function fa(t,e,n){if(t.f)return Promise.reject(new rt(1,9,9011,'Cannot add new value to '+e));var i=(t=Wr(t.a,e)).store(),o=[];return n.forEach(function(t){i.add(t).onsuccess=function(t){o.push(t.target.result)}}),t.promise().then(function(){return o})}function ma(t,e,n,i){var o=(t=Wr(t.a,e)).store();return n.forEach(function(t){o.delete(t).onsuccess=function(){return i(t)}}),t.promise()}function va(t,e,n){var i=(t=Xr(t.a,e)).store(),o={},r=[];return n.forEach(function(t){var e=i.get(t);e.onsuccess=function(){null==e.result&&r.push(t),o[t]=e.result}}),t.promise().then(function(){return r.length?Promise.reject(new rt(1,9,9012,'Could not find values for '+r)):n.map(function(t){return o[t]})})}function ga(){this.g=this.c=this.b=this.a=this.f=null}function ya(t,e,n,i){this.a=t,this.g=e,this.f=n,this.c=i,this.b=['offline:',t,'/',e,'/',n,'/',i].join('')}function Ea(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if('manifest'!=e&&'segment'!=e)return null;var n=t[2];if(!n)return null;var i=t[3];return i&&null!=e?new ya(e,n,i,Number(t[4])):null}function ba(t,e){this.b=t,this.a=e}function Ta(n,e,i){var t=e.streams.filter(function(t){return'audio'==t.contentType}),o=e.streams.filter(function(t){return'video'==t.contentType});return t=function(t,e,n){for(var i=new Set,o=L(e),r=o.next();!r.done;r=o.next()){var a=L(r.value.variantIds);for(r=a.next();!r.done;r=a.next())i.add(r.value)}for(o=L(n),r=o.next();!r.done;r=o.next())for(a=L(r.value.variantIds),r=a.next();!r.done;r=a.next())i.add(r.value);for(o=new Map,i=L(i),r=i.next();!r.done;r=i.next())r=r.value,o.set(r,{id:r,language:'',primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0});for(e=L(e),i=e.next();!i.done;i=e.next())for(i=i.value,r=wa(t,i),a=L(i.variantIds),i=a.next();!i.done;i=a.next())(i=o.get(i.value)).language=r.language,i.primary=i.primary||r.primary,i.audio=r;for(n=L(n),e=n.next();!e.done;e=n.next())for(i=e.value,e=wa(t,i),r=L(i.variantIds),i=r.next();!i.done;i=r.next())(i=o.get(i.value)).primary=i.primary||e.primary,i.video=e;return o}(n,t,o),o=e.streams.filter(function(t){return'text'==t.contentType}).map(function(t){return wa(n,t)}),e.streams.forEach(function(t){t=t.segments.map(function(t,e){return _a(n,e,t)}),i.Ta(t,e.startTime)}),{startTime:e.startTime,variants:Array.from(t.values()),textStreams:o}}function wa(n,t){var e=t.segments.map(function(t,e){return _a(n,e,t)}),i=new _i(e);return e={id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(t){return i.find(t)},getSegmentReference:function(t){return i.get(t)},initSegmentReference:null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:{}},null!=t.initSegmentKey&&(e.initSegmentReference=function(t,e){var n=new ya('segment',t.b,t.a,e);return new ci(function(){return[n.toString()]},0,null)}(n,t.initSegmentKey)),e}function _a(t,e,n){var i=new ya('segment',t.b,t.a,n.dataKey);return new di(e,n.startTime,n.endTime,function(){return[i.toString()]},0,null)}function Aa(){this.a=null}function La(t){var e=Ea(t);return e&&'manifest'==e.a?La.a(t):e&&'segment'==e.a?La.b(e.key(),e):st(new rt(2,1,9004,t))}function Sa(){}function Ia(v,g,y){return S(function t(){var c,d,h,p,f,m;return B(t,function(t){switch(t.m){case 1:c=Sa,d=[];for(var e=[],n=L(y),i=n.next();!i.done;i=n.next()){i=i.value;for(var o=!1,r=L(e),a=r.next();!a.done;a=r.next())if(a=a.value,u=a.info,l=i,u.keySystem==l.keySystem&&u.licenseUri==l.licenseUri&&Et(u.audioCapabilities,l.audioCapabilities,s)&&Et(u.videoCapabilities,l.videoCapabilities,s)){a.sessionIds.push(i.sessionId),o=!0;break}o||e.push({info:i,sessionIds:[i.sessionId]})}h=L(e),p=h.next();case 2:if(p.done){t.D(4);break}return f=p.value,U(t,c.a(v,g,f),5);case 5:m=t.w,d=d.concat(m),p=h.next(),t.D(2);break;case 4:return t.return(d)}function s(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}var u,l})})}function Na(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var n=t.textTracks[e];n.mode='disabled','Shaka Player TextTrack'==n.label&&(this.a=n)}this.a||(this.a=t.addTextTrack('subtitles','Shaka Player TextTrack')),this.a.mode='hidden'}function ka(t){if(t.startTime>=t.endTime)return null;var e=new VTTCue(t.startTime,t.endTime,t.payload);e.lineAlign=t.lineAlign,e.positionAlign=t.positionAlign,e.size=t.size;try{e.align=t.textAlign}catch(t){}return'center'==t.textAlign&&'center'!=e.align&&(e.align='middle'),2==t.writingDirection?e.vertical='lr':3==t.writingDirection&&(e.vertical='rl'),1==t.lineInterpretation&&(e.snapToLines=!1),null!=t.line&&(e.line=t.line),null!=t.position&&(e.position=t.position),e}function Pa(t,e){var n=t.mode;t.mode='showing'==n?'showing':'hidden';for(var i=t.cues,o=i.length-1;0<=o;o--){var r=i[o];r&&e(r)&&t.removeCue(r)}t.mode=n}function Oa(){var t=5e5,e=1/0;navigator.connection&&navigator.connection.type&&(t=1e6*navigator.connection.downlink,navigator.connection.saveData&&(e=360));var n={trackSelectionCallback:function(t){return t},progressCallback:function(){},usePersistentLicense:!0},i={drm:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,dash:{customScheme:function(t){if(t)return null},clockSyncUri:'',ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10,ignoreMinBufferTime:!1}},streaming:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1},offline:n,abrFactory:Ln,abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:'',preferredTextLanguage:'',preferredVariantRole:'',preferredTextRole:'',preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return n.trackSelectionCallback=function(t){return function(t,e){var n=[],i=en(e),o=[0,nn,on],r=t.filter(function(t){return'variant'==t.type});o=o.map(function(e){return r.filter(function(t){return t=en(t.language),tn(e,i,t)})});for(var a,s=0;s<o.length;s++)if(o[s].length){a=o[s];break}a||(o=r.filter(function(t){return t.primary})).length&&(a=o),a||(a=r).map(function(t){return t.language});var u=a.filter(function(t){return t.height&&t.height<=480});return u.length&&(u.sort(function(t,e){return e.height-t.height}),a=u.filter(function(t){return t.height==u[0].height})),a.sort(function(t,e){return t.bandwidth-e.bandwidth}),a.length&&n.push(a[Math.floor(a.length/2)]),n.push.apply(n,t.filter(function(t){return'text'==t.type})),n}(t,i.preferredAudioLanguage)},i}function Ra(t,e,n){return function t(e,n,i,o,r){var a,s=r in o,u=!0;for(a in n){var l=r+'.'+a,c=s?o[r]:i[a];s||a in i?void 0===n[a]?void 0===c||s?delete e[a]:e[a]=vt(c):c.constructor==Object&&n[a]&&n[a].constructor==Object?(e[a]||(e[a]=vt(c)),l=t(e[a],n[a],c,o,l),u=u&&l):typeof n[a]!=typeof c||null==n[a]||n[a].constructor!=c.constructor?u=!1:e[a]=n[a]:u=!1}return u}(t,e,n||Oa(),{'.drm.servers':'','.drm.clearKeys':'','.drm.advanced':{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:'',audioRobustness:'',serverCertificate:new Uint8Array(0),individualizationServer:''}},'')}function Ca(t,e){var n=this;mt.call(this),this.f=null,this.ub=!1,this.A=null,this.s=new It,this.Mb=this.h=this.Za=this.b=this.o=this.a=this.J=this.g=this.j=this.i=this.M=null,this.yd=1e9,this.Ob=[],this.tb=!1,this.ia=!0,this.P=this.vb=this.La=null,this.Bc=!1,this.Ac=0,this.B=null,this.sb=[],this.u=new Yo,this.c=Ya(this),this.rb={width:1/0,height:1/0},this.l=Ha(),this.qb=0,this.ob=new Wo(this.c.preferredAudioLanguage,this.c.preferredVariantRole,this.c.preferredAudioChannelCount),this.Z=this.c.preferredTextLanguage,this.$a=this.c.preferredTextRole,e&&e(this),this.M=function(n){return new wt(function(t,e){n.h&&n.h.segmentDownloaded(t,e)})}(this),t&&this.wb(t,!0),this.$=new rr(function(){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return e=Promise.all([n.s?n.s.destroy():null,n.M?n.M.destroy():null]),n.ub=!1,n.s=null,n.h=null,n.Mb=null,n.M=null,n.c=null,U(t,e,0)}})})}),Nt(this.s,a,'online',function(){n.rc()})}(e=ia.prototype).destroy=function(){return this.a.destroy()},e.hasFixedKeySpace=function(){return!0},e.addSegments=function(){return oa('segment')},e.removeSegments=function(t,e){return ra(this,'segment',t,e)},e.getSegments=function(t){return aa(this,'segment',t).then(function(t){return t.map(da)})},e.addManifests=function(){return oa('manifest')},e.updateManifestExpiration=function(e,n){var t=Wr(this.a,'manifest'),i=t.store(),o=new nt;return i.get(e).onsuccess=function(t){(t=t.target.result)?(t.expiration=n,i.put(t),o.resolve()):o.reject(new rt(2,9,9012,'Could not find values for '+e))},t.promise().then(function(){return o})},e.removeManifests=function(t,e){return ra(this,'manifest',t,e)},e.getManifests=function(t){return aa(this,'manifest',t).then(function(t){return t.map(sa)})},e.getAllManifests=function(){var o=this;return S(function t(){var n,e,i;return B(t,function(t){switch(t.m){case 1:return n=sa,e=Xr(o.a,'manifest'),i=new Map,U(t,jr(e,function(t,e){i.set(t,n(e))}),2);case 2:return U(t,e.promise(),3);case 3:return t.return(i)}})})},(e=pa.prototype).destroy=function(){return this.a.destroy()},e.hasFixedKeySpace=function(){return this.f},e.addSegments=function(t){return fa(this,this.c,t)},e.removeSegments=function(t,e){return ma(this,this.c,t,e)},e.getSegments=function(t){return va(this,this.c,t)},e.addManifests=function(t){return fa(this,this.b,t)},e.updateManifestExpiration=function(e,n){var t=Wr(this.a,this.b),i=t.store();return i.get(e).onsuccess=function(t){(t=t.target.result)&&(t.expiration=n,i.put(t,e))},t.promise()},e.removeManifests=function(t,e){return ma(this,this.b,t,e)},e.getManifests=function(t){return va(this,this.b,t)},e.getAllManifests=function(){var i=this;return S(function t(){var e,n;return B(t,function(t){switch(t.m){case 1:return e=Xr(i.a,i.b),n=new Map,U(t,jr(e,function(t,e){n.set(t,e)}),2);case 2:return U(t,e.promise(),3);case 3:return t.return(n)}})})},(e=ga.prototype).init=function(){var n=this,i=new nt,e=a.indexedDB.open('shaka_offline_db',4);return e.onsuccess=function(t){t=t.target.result;var e=(n.f=t).objectStoreNames;e=e.contains('manifest')&&e.contains('segment')?new ia(t):null,n.a=e,e=(e=t.objectStoreNames).contains('manifest-v2')&&e.contains('segment-v2')?new pa(t,'segment-v2','manifest-v2',!0):null,n.b=e,e=(e=t.objectStoreNames).contains('manifest-v3')&&e.contains('segment-v3')?new pa(t,'segment-v3','manifest-v3',!1):null,n.c=e,t=t.objectStoreNames.contains('session-ids')?new $r(t):null,n.g=t,i.resolve()},e.onupgradeneeded=function(t){t=t.target.result;for(var e=L(['segment-v3','manifest-v3','session-ids']),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},e.onerror=function(t){i.reject(new rt(2,9,9001,e.error)),t.preventDefault()},i},e.destroy=function(){var e=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:if(e.a)return U(t,e.a.destroy(),2);t.D(2);break;case 2:if(e.b)return U(t,e.b.destroy(),4);t.D(4);break;case 4:if(e.c)return U(t,e.c.destroy(),6);t.D(6);break;case 6:if(e.g)return U(t,e.g.destroy(),8);t.D(8);break;case 8:e.f&&e.f.close(),t.m=0}})})},e.getCells=function(){var t=new Map;return this.a&&t.set('v1',this.a),this.b&&t.set('v2',this.b),this.c&&t.set('v3',this.c),t},e.getEmeSessionCell=function(){return this.g},e.erase=function(){var e=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:if(e.a)return U(t,e.a.destroy(),2);t.D(2);break;case 2:if(e.b)return U(t,e.b.destroy(),4);t.D(4);break;case 4:if(e.c)return U(t,e.c.destroy(),6);t.D(6);break;case 6:return e.f&&e.f.close(),U(t,function(){var e=new nt,n=a.indexedDB.deleteDatabase('shaka_offline_db');return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new rt(2,9,9001,n.error)),t.preventDefault()},e}(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,U(t,e.init(),0)}})})},ta('idb',function(){return a.indexedDB?new ga:null}),ya.prototype.ka=function(){return this.g},ya.prototype.U=function(){return this.f},ya.prototype.key=function(){return this.c},ya.prototype.toString=function(){return this.b},(e=Aa.prototype).configure=function(){},e.start=function(t){var o=Ea(t);if(null==(this.a=o)||'manifest'!=o.a)return Promise.reject(new rt(2,1,9004,o));var r=new Qr;return ar([r],function(){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return U(t,r.init(),2);case 2:return U(t,Zr(r,o.ka(),o.U()),3);case 3:return U(t,t.w.getManifests([o.key()]),4);case 4:return e=t.w,n=e[0],i=new ba(o.ka(),o.U()),t.return(function(e,t){var n=new Fi(null,0);n.ma(t.duration);var i=t.periods.map(function(t){return Ta(e,t,n)}),o=t.drmInfo?[t.drmInfo]:[];return t.drmInfo&&i.forEach(function(t){t.variants.forEach(function(t){t.drmInfos=o})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,periods:i}}(i,n))}})})})},e.stop=function(){return Promise.resolve()},e.update=function(){},e.onExpirationUpdated=function(a,s){var u=this.a,l=new Qr;return ar([l],function(){return S(function t(){var e,n,i,o,r;return B(t,function(t){switch(t.m){case 1:return U(t,l.init(),2);case 2:return U(t,Zr(l,u.ka(),u.U()),3);case 3:return U(t,(e=t.w).getManifests([u.key()]),4);case 4:if(n=t.w,i=n[0],o=i.sessionIds.includes(a),r=null==i.expiration||i.expiration>s,o&&r)return U(t,e.updateManifestExpiration(u.key(),s),0);t.D(0)}})})}).catch(function(){})},Vi['application/x-offline-manifest']=Aa,O('shaka.offline.OfflineScheme',La),La.a=function(t){return lt(t={uri:t,data:new ArrayBuffer(0),headers:{'content-type':'application/x-offline-manifest'}})},La.b=function(t,i){var o=new Qr;return ct(ar([o],function(){return S(function t(){var e,n;return B(t,function(t){switch(t.m){case 1:return U(t,o.init(),2);case 2:return U(t,Zr(o,i.ka(),i.U()),3);case 3:return U(t,t.w.getSegments([i.key()]),4);case 4:return e=t.w,n=e[0],t.return({uri:i,data:n.data,headers:{}})}})})}))},At('offline',La),O('shaka.text.SimpleTextDisplayer',Na),Na.prototype.remove=Na.prototype.remove=function(e,n){return!!this.a&&(Pa(this.a,function(t){return t.startTime<n&&t.endTime>e}),!0)},Na.prototype.append=Na.prototype.append=function(t){for(var e=ka,n=[],i=0;i<t.length;i++){var o=e(t[i]);o&&n.push(o)}n.slice().sort(function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:n.indexOf(e)-n.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},Na.prototype.destroy=Na.prototype.destroy=function(){return this.a&&Pa(this.a,function(){return!0}),this.a=null,Promise.resolve()},Na.prototype.isTextVisible=Na.prototype.isTextVisible=function(){return'showing'==this.a.mode},Na.prototype.setTextVisibility=Na.prototype.setTextVisibility=function(t){this.a.mode=t?'showing':'hidden'},R(Ca,mt),O('shaka.Player',Ca),Ca.prototype.destroy=Ca.prototype.destroy=function(){var e=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:return U(t,e.detach(),2);case 2:return U(t,e.$.destroy(),0)}})})},Ca.version='v2.5.0-beta-109-g74b97ed4-dirty';var Da=['output-restricted','internal-error'],Ma={};function xa(e){if(e.o&&e.o.configure(e.c.manifest),e.i&&e.i.configure(e.c.drm),e.a){e.a.configure(e.c.streaming);try{e.b.periods.forEach(e.Sb.bind(e))}catch(t){e.Ia(t)}var t=vr(e.a),n=gr(e.a),i=fr(e.a);t=En(t,n,i.variants),e.h&&t&&t.allowedByApplication&&t.allowedByKeySystem?ja(e,i.variants):Ka(e,i)}e.h&&(e.h.configure(e.c.abr),e.c.abr.enabled&&!e.ia?e.h.enable():e.h.disable())}function Ua(t,e,n){e.video&&Va(t,e.video),e.audio&&Va(t,e.audio);var i=mr(t.a);e!=(i=En(vr(t.a),gr(t.a),i?i.variants:[]))&&t.l.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:'variant',fromAdaptation:n,bandwidth:e.bandwidth})}function Ba(t,e,n){Va(t,e),t.l.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:'text',fromAdaptation:n,bandwidth:null})}function Va(t,e){Ho(t.u,Tn(t.b,e),e.type,e.id)}function Ya(e){var t=Oa();return t.streaming.failureCallback=function(t){e.W()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.rc())},t.textDisplayFactory=function(){return new Na(e.f)},t}function Ha(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function Fa(t,e,n,i){n=void 0!==n&&n,i=void 0===i?0:i,t.ia?(t.P=e,t.Bc=n,t.Ac=i):wr(t.a,e,n,i)}function Ga(t){if(t.b){var e=Date.now()/1e3;t.tb?t.l.bufferingTime+=e-t.qb:t.l.playTime+=e-t.qb,t.qb=e}}function qa(t){if(!t.$.a){var e=t.tb?'buffering':t.f.ended?'ended':t.f.paused?'paused':'playing',n=Date.now()/1e3;if(t.l.stateHistory.length){var i=t.l.stateHistory[t.l.stateHistory.length-1];if(i.duration=n-i.timestamp,e==i.state)return}t.l.stateHistory.push({timestamp:n,state:e,duration:0})}}function ja(e,t){try{$a(e,t)}catch(t){return e.Ia(t),null}var n=t.filter(function(t){return fn(t)});return n=e.ob.create(n),e.h.setVariants(Array.from(n.values())),e.h.chooseVariant()}function Ka(t,e){var n=ja(t,e.variants);n&&(Ua(t,n,!0),Fa(t,n,!0)),(n=gn(e.textStreams,t.Z,t.$a)[0]||null)&&(t.c.streaming.alwaysStreamText||t.bc())&&(Ba(t,n,!0),t.ia?t.B=n:_r(t.a,n,!0,0)),Xa(t)}function Xa(n){S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return U(t,Promise.resolve(),2);case 2:if(n.$.a)return t.return();e=new pt('adaptation'),n.dispatchEvent(e),t.m=0}})})}function Wa(n){S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return U(t,Promise.resolve(),2);case 2:if(n.$.a)return t.return();e=new pt('trackschanged'),n.dispatchEvent(e),t.m=0}})})}function za(t){t.dispatchEvent(new pt('texttrackvisibility'))}function $a(t,e){var n=t.i?Dt(t.i.Z):{},i=Object.keys(n);i=i.length&&'00'==i[0];for(var o=!1,r=!1,a=[],s=[],u=L(e),l=u.next();!l.done;l=u.next()){var c=[];(l=l.value).audio&&c.push(l.audio),l.video&&c.push(l.video);for(var d=(c=L(c)).next();!d.done;d=c.next())if((d=d.value).keyId){var h=n[i?'00':d.keyId];h?Da.includes(h)&&(s.includes(h)||s.push(h)):a.includes(d.keyId)||a.push(d.keyId)}l.allowedByApplication?l.allowedByKeySystem&&(o=!0):r=!0}if(!o)throw new rt(2,4,4012,{hasAppRestrictions:r,missingKeys:a,restrictedKeyStatuses:s})}function Qa(t){for(var e=new Map,n=(t=L(t)).next();!n.done;n=t.next()){var i=n.value;n=en(i.language);for(var o=e.get(n)||new Set,r=(i=L(i.roles)).next();!r.done;r=i.next())o.add(r.value);e.set(n,o)}e.forEach(function(t){0==t.size&&t.add('')});var a=[];return e.forEach(function(t,e){for(var n=L(t),i=n.next();!i.done;i=n.next())a.push({language:e,role:i.value})}),a}function Ja(t){for(var e=new Set,n=(t=L(t)).next();!n.done;n=t.next())n=en(n.value.language),e.add(n);return e}function Za(t,e){var n=Ta(new ba(t.ka(),t.U()),e.periods[0],new Fi(null,0)),i=e.appMetadata||{};return n=ts(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:i}}function ts(t){for(var e=[],n=mn(t.variants),i=(n=L(n)).next();!i.done;i=n.next())e.push(cn(i.value));for(n=(t=L(t.textStreams)).next();!n.done;n=t.next())e.push(dn(n.value));return e}function es(){this.a={}}function ns(t,e){var n=t.a[e];return null==n&&(n=0),n}function is(t){var o=new rs;t.periods.forEach(function(t,e){var n=ss(t.variants);if(0==e)for(var i=(n=L(n.a)).next();!i.done;i=n.next())o.add(i.value);else!function(t,e){t.a=t.a.filter(function(t){return as(e,t)})}(o,n)});for(var e=(t=L(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter(function(t){return as(o,new os(t))})}function os(t){var e=t.audio;t=t.video,this.b=e?e.mimeType:null,this.a=e?e.codecs.split('.')[0]:null,this.f=t?t.mimeType:null,this.c=t?t.codecs.split('.')[0]:null}function rs(){this.a=[]}function as(t,e){return t.a.some(function(t){return e.b==t.b&&e.a==t.a&&e.f==t.f&&e.c==t.c})}function ss(t){for(var e=new rs,n=(t=L(t)).next();!n.done;n=t.next())e.add(new os(n.value));return e}function us(t){var n=this;if(t&&t.constructor!=Ca)throw new rt(2,9,9008);this.b=this.a=null,t?(this.a=t.c,this.b=t.Oa()):(this.a=Oa(),this.b=new wt),this.g=!1,this.c=[],this.f=[];var i=!t;this.h=new rr(function(){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return e=function(){},U(t,Promise.all(n.f.map(function(t){return t.then(e,e)})),2);case 2:if(i)return U(t,n.b.destroy(),3);t.D(3);break;case 3:n.a=null,n.b=null,t.m=0}})})})}function ls(){return ea()}function cs(t,e){for(var n=[],i=L(t.periods),o=i.next();!o.done;o=i.next())for(var r=(o=L(o.value.streams)).next();!r.done;r=o.next())r=r.value,e&&'video'==r.contentType?n.push({contentType:Mt(r.mimeType,r.codecs),robustness:t.drmInfo.videoRobustness}):e||'audio'!=r.contentType||n.push({contentType:Mt(r.mimeType,r.codecs),robustness:t.drmInfo.audioRobustness});return n}function ds(n,t,i,o,e,r){var a={id:r.id,originalId:r.originalId,primary:r.primary,presentationTimeOffset:r.presentationTimeOffset||0,contentType:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,kind:r.kind,language:r.language,label:r.label,width:r.width||null,height:r.height||null,initSegmentKey:null,encrypted:r.encrypted,keyId:r.keyId,segments:[],variantIds:[]};e=e.presentationTimeline.cb();var s=r.id;return function(t,e,n){for(var i=null==(e=t.findSegmentPosition(e))?null:t.getSegmentReference(e);i;)n(i),i=t.getSegmentReference(++e)}(r,e,function(e){Hr(t,s,fs(n,e),function(t,e,n){return n=n.endTime-n.startTime,ns(t,e)*n}(o,r.id,e),function(t){return i.addSegments([{data:t}]).then(function(t){n.c.push(t[0]),a.segments.push({startTime:e.startTime,endTime:e.endTime,dataKey:t[0]})})})}),(e=r.initSegmentReference)&&Hr(t,s,fs(n,e),.5*ns(o,r.id),function(t){return i.addSegments([{data:t}]).then(function(t){n.c.push(t[0]),a.initSegmentKey=t[0]})}),a}function hs(t){if(t.h.a)throw new rt(2,9,7001)}function ps(){if(!ea())throw new rt(2,9,9e3)}function fs(t,e){var n=t.a.streaming.retryParameters;return n=Lt(e.c(),n),0==e.b&&null==e.a||(n.headers.Range='bytes='+e.b+'-'+(null==e.a?'':e.a)),n}function ms(e,n){return S(function t(){return B(t,function(t){switch(t.m){case 1:return e.f.push(n),m(t,2),U(t,n,4);case 4:return t.return(t.w);case 2:g(t),yt(e.f,n),y(t,0)}})})}function vs(o,r,a,s){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return s.drmInfo?(e=function(t){var e=Array.from(t.a.keys());if(!e.length)throw new rt(2,9,9e3,'No supported storage mechanisms found');return t.a.get(e[0]).getEmeSessionCell()}(a),n=s.sessionIds.map(function(t){return{sessionId:t,keySystem:s.drmInfo.keySystem,licenseUri:s.drmInfo.licenseServerUri,serverCertificate:s.drmInfo.serverCertificate,audioCapabilities:cs(s,!1),videoCapabilities:cs(s,!0)}}),U(t,Ia(r,o,n),2)):t.return();case 2:return i=t.w,U(t,e.remove(i),3);case 3:return U(t,e.add(n.filter(function(t){return-1==i.indexOf(t.sessionId)})),0)}})})}function gs(t){t.variants.map(function(t){return t.video});var e=new Set(t.variants.map(function(t){return t.audio}));t=t.textStreams;for(var n=L(e),i=n.next();!i.done;i=n.next())for(var o=(i=L(e)).next();!o.done;o=i.next());for(n=(e=L(t)).next();!n.done;n=e.next())for(i=(n=L(t)).next();!i.done;i=n.next());}Ca.registerSupportPlugin=function(t,e){Ma[t]=e},Ca.isBrowserSupported=function(){return!!(a.Promise&&a.Uint8Array&&Array.prototype.forEach&&a.MediaSource&&MediaSource.isTypeSupported&&a.MediaKeys&&a.navigator&&a.navigator.requestMediaKeySystemAccess&&a.MediaKeySystemAccess&&a.MediaKeySystemAccess.prototype.getConfiguration)},Ca.probeSupport=function(){return re().then(function(t){var e=function(){var t,e={};for(t in Vi)e[t]=!0;for(var n in Yi)e[n]=!0;return['application/dash+xml','application/x-mpegurl','application/vnd.apple.mpegurl','application/vnd.ms-sstr+xml'].forEach(function(t){e[t]=!!Vi[t]}),['mpd','m3u8','ism'].forEach(function(t){e[t]=!!Yi[t]}),e}(),n=function(){var n={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(',').forEach(function(t){n[t]=!!Ge[t]||MediaSource.isTypeSupported(t)||Ye(t);var e=t.split(';')[0];n[e]=n[e]||n[t]}),n}();for(var i in t={manifest:e,media:n,drm:t},Ma)t[i]=Ma[i]();return t})},Ca.prototype.attach=Ca.prototype.wb=function(e,n){var i=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:if(void 0===n&&(n=!0),i.f)return U(t,i.detach(),2);t.D(2);break;case 2:if(i.f=e,Nt(i.s,i.f,'error',i.ve.bind(i)),n)return i.j=new qe(i.f),U(t,i.j.j,0);t.D(0)}})})},Ca.prototype.detach=Ca.prototype.detach=function(){var e=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:return e.f?U(t,e.nb(!1),2):t.return();case 2:e.s.sa(e.f,'error'),e.f=null,t.m=0}})})},Ca.prototype.load=Ca.prototype.load=function(T,w,_){w=void 0===w?null:w;var A=this;return S(function t(){var i,o,r,a,s,u,l,c,d,h,p,f,m,v,g,y,E,b;return B(t,function(t){switch(t.m){case 1:if(!A.f)throw new rt(2,7,7002);return o=new nt,r=function(){return i=new rt(2,7,7e3),o},A.dispatchEvent(new pt('loading')),a=Date.now(),I(t,2),s=A.f,u=A.nb(),A.La=r,U(t,u,4);case 4:if(A.l=Ha(),Nt(A.s,s,'playing',function(){return qa(A)}),Nt(A.s,s,'pause',function(){return qa(A)}),Nt(A.s,s,'ended',function(){return qa(A)}),l=A.c.abrFactory,A.h&&A.Mb==l||(A.Mb=l,A.h=new l,A.h.configure(A.c.abr)),c=A.c.textDisplayFactory,A.A=new c,A.A.setTextVisibility(A.ub),i)throw i;if(h=d=null,_&&('string'==typeof _?h=_:(Y('Loading with a manifest parser factory is deprecated. Instead please register a manifest parser and pass in the mime type.'),d=_)),p=A,d){f=new d,t.D(5);break}return U(t,function(n,i,o){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:return U(t,Hi(i,n.M,n.c.manifest.retryParameters,o),2);case 2:return e=t.w,t.return(new e)}})})}(A,T,h),6);case 6:f=t.w;case 5:return p.o=f,A.o.configure(A.c.manifest),A.Za=T,U(t,function(e){return e.o.start(e.Za,{networkingEngine:e.M,filterNewPeriod:e.Sb.bind(e),filterAllPeriods:e.Ic.bind(e),onTimelineRegionAdded:function(t){e.J?ur(e.J,t):e.sb.push(t)},onEvent:e.mb.bind(e),onError:e.Ia.bind(e)})}(A),7);case 7:if(m=t.w,A.b=m,i)throw i;return function(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(',')}if(t.b.periods.some(function(t){return t.variants.some(e)})&&t.b.periods.forEach(function(t){t.variants=t.variants.filter(e)}),0==t.b.periods.length)throw new rt(2,4,4014)}(A),U(t,function(o,r){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return e={Gb:o.M,onError:function(t){o.Ia(t)},Vc:function(t){!function(t,i){var e=fr(t.a),o=!1,n=Object.keys(i),r=1==n.length&&'00'==n[0];n.length&&e.variants.forEach(function(n){(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e})(n).forEach(function(t){var e=n.allowedByKeySystem;t.keyId&&(t=i[r?'00':t.keyId],n.allowedByKeySystem=!!t&&!Da.includes(t)),e!=n.allowedByKeySystem&&(o=!0)})}),n=vr(t.a);var a=gr(t.a);(n=En(n,a,e.variants))&&!n.allowedByKeySystem&&Ka(t,e),o&&(Wa(t),ja(t,e.variants))}(o,t)},onExpirationUpdated:function(t,e){o.o&&o.o.onExpirationUpdated&&o.o.onExpirationUpdated(t,e),o.dispatchEvent(new pt('expirationupdated'))},onEvent:function(t){o.mb(t)}},(n=new Qt(e)).configure(o.c.drm),i=wn(r),U(t,function(t,e,n){return t.s=n,t.A=0<n.length,Jt(t,e)}(n,i,r.offlineSessionIds),2);case 2:return t.return(n)}})})}(v=A,m),8);case 8:if(v.i=t.w,i)throw i;return A.Ic(A.b.periods),A.qb=Date.now()/1e3,A.ob=new Wo(A.c.preferredAudioLanguage,A.c.preferredVariantRole,A.c.preferredAudioChannelCount),A.Z=A.c.preferredTextLanguage,function(t,e,n,i){0<e&&(i||t.ld(e)),n<t.S()&&(i||t.ma(n))}(A.b.presentationTimeline,A.c.playRangeStart,A.c.playRangeEnd,A.W()),U(t,A.i.wb(s),9);case 9:if(i)throw i;return A.h.init(function(t,e,n){e=void 0!==e&&e,n=void 0===n?0:n,Ua(A,t,!0),A.a&&(wr(A.a,t,e,n),Xa(A))}),A.j||(A.j=new qe(A.f)),A.j.s=A.A,A.g=new tr(A.f,A.b.presentationTimeline,A.b.minBufferTime||0,A.c.streaming,w,A.bf.bind(A),A.mb.bind(A)),A.J=new sr(A.f,A.b.minBufferTime,A.c.streaming,A.md.bind(A),A.mb.bind(A),A.af.bind(A),new hr(A.f,A.j,A.b)),A.a=new pr(A.b,{Ga:A.g,L:A.j,Gb:A.M,Rc:A.ee.bind(A),Qc:A.Cd.bind(A),onError:A.Ia.bind(A),onEvent:A.mb.bind(A),ie:A.je.bind(A),gb:A.se.bind(A)}),A.a.configure(A.c.streaming),function(t){function n(t){var e='';t.video&&(e=xt(t.video.codecs)[0]);var n='';return t.audio&&(n=xt(t.audio.codecs)[0]),e+'-'+n}var e=t.b.periods.reduce(function(t,e){return t.concat(e.variants)},[]);e=vn(e,t.c.preferredAudioChannelCount);var i=new ft;e.forEach(function(t){var e=n(t);i.push(e,t)});var r=null,a=1/0;i.forEach(function(t,e){var n=0,i=0;e.forEach(function(t){n+=t.bandwidth||0,++i});var o=n/i;o<a&&(r=t,a=o)}),t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return n(t)==r})})}(A),A.dispatchEvent(new pt('streaming')),U(t,A.a.init(),10);case 10:if(i)throw i;A.c.streaming.startAtSegmentBoundary&&(g=function(t,e){function n(t,e){if(!t)return null;var n=t.findSegmentPosition(e-r.startTime);return null==n?null:(n=t.getSegmentReference(n))?n.startTime+r.startTime:null}var i=vr(t.a),o=gr(t.a),r=fr(t.a);return i=n(i,e),null!=(o=n(o,e))&&null!=i?Math.max(o,i):null!=o?o:null!=i?i:e}(A,er(A.g)),Jo(A.g.b,g)),A.b.periods.forEach(A.Sb.bind(A)),Wa(A),Xa(A),(y=fr(A.a)).variants.some(function(t){return t.primary}),ja(A,y.variants);for(var e=L(A.sb),n=e.next();!n.done;n=e.next())E=n.value,ur(A.J,E);if(A.sb=[],kt(A.s,s,'loadeddata',function(){A.l.loadLatency=(Date.now()-a)/1e3}),i)throw i;A.La=null,N(t,0);break;case 2:return b=k(t),o.resolve(),A.La==r&&(A.La=null,A.dispatchEvent(new pt('unloading'))),i?t.return(Promise.reject(i)):t.return(Promise.reject(b))}})})},Ca.prototype.configure=Ca.prototype.configure=function(t,e){if(2==arguments.length&&'string'==typeof t){for(var n=t,i={},o=i,r=0,a=0;!((r=n.indexOf('.',r))<0);)0!=r&&'\\'==n[r-1]||(o[a=n.substring(a,r).replace(/\\\./g,'.')]={},o=o[a],a=r+1),r+=1;o[n.substring(a).replace(/\\\./g,'.')]=e,t=i}return n=Ra(this.c,t,Ya(this)),xa(this),n},Ca.prototype.getConfiguration=Ca.prototype.getConfiguration=function(){var t=Ya(this);return Ra(t,this.c,Ya(this)),t},Ca.prototype.resetConfiguration=Ca.prototype.Oe=function(){for(var t in this.c)delete this.c[t];Ra(this.c,Ya(this),Ya(this)),xa(this)},Ca.prototype.getMediaElement=Ca.prototype.Sd=function(){return this.f},Ca.prototype.getNetworkingEngine=Ca.prototype.Oa=function(){return this.M},Ca.prototype.getAssetUri=Ca.prototype.Tb=function(){return this.Za},Ca.prototype.getManifestUri=Ca.prototype.Rd=function(){return Y('"getManifestUri" is deprecated and will be removed in v2.6. Please use "getAssetUri" instead.'),this.Za},Ca.prototype.isLive=Ca.prototype.W=function(){return!!this.b&&this.b.presentationTimeline.W()},Ca.prototype.isInProgress=Ca.prototype.Da=function(){return!!this.b&&this.b.presentationTimeline.Da()},Ca.prototype.isAudioOnly=Ca.prototype.be=function(){if(!this.b||!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video},Ca.prototype.seekRange=Ca.prototype.Qe=function(){var t=0,e=0;return this.b&&(t=(e=this.b.presentationTimeline).Pa(),e=e.oa()),{start:t,end:e}},Ca.prototype.keySystem=Ca.prototype.keySystem=function(){return this.i?this.i.keySystem():''},Ca.prototype.drmInfo=Ca.prototype.drmInfo=function(){return this.i?this.i.a:null},Ca.prototype.getExpiration=Ca.prototype.Db=function(){return this.i?this.i.Db():1/0},Ca.prototype.isBuffering=Ca.prototype.Oc=function(){return this.tb},Ca.prototype.unload=Ca.prototype.nb=function(e){var n=this;return S(function t(){return B(t,function(t){switch(t.m){case 1:return n.$.a?t.return():(void 0===e&&(e=!0),n.dispatchEvent(new pt('unloading')),U(t,function(t){if(!t.La)return Promise.resolve();var e=Promise.resolve();return t.o&&(e=t.o.stop(),t.o=null),Promise.all([e,t.La()])}(n),2));case 2:return n.vb||(n.vb=function(t){t.s&&(t.s.sa(t.f,'loadeddata'),t.s.sa(t.f,'playing'),t.s.sa(t.f,'pause'),t.s.sa(t.f,'ended'));var e=t.i,n=Promise.all([t.h?t.h.stop():null,t.j?t.j.destroy():null,t.g?t.g.destroy():null,t.J?t.J.destroy():null,t.a?t.a.destroy():null,t.o?t.o.stop():null,t.A?t.A.destroy():null]).then(function(){return e?e.destroy():null});return t.ia=!0,t.i=null,t.j=null,t.g=null,t.J=null,t.a=null,t.o=null,t.A=null,t.b=null,t.Za=null,t.sb=[],t.u=new Yo,t.l=Ha(),n}(n).then(function(){n.md(!1),n.vb=null})),U(t,n.vb,3);case 3:if(e)return n.j=new qe(n.f),U(t,n.j.j,0);t.D(0)}})})},Ca.prototype.getPlaybackRate=Ca.prototype.ab=function(){return this.g?this.g.ab():0},Ca.prototype.trickPlay=Ca.prototype.lf=function(t){this.g&&Zo(this.g.b,t),this.a&&Tr(this.a,1!=t)},Ca.prototype.cancelTrickPlay=Ca.prototype.Dd=function(){this.g&&Zo(this.g.b,1),this.a&&Tr(this.a,!1)},Ca.prototype.getVariantTracks=Ca.prototype.Zb=function(){if(!this.b||!this.g)return[];var t=bn(this.b,er(this.g));return hn(this.b.periods[t],this.u.get(t,'audio'),this.u.get(t,'video'))},Ca.prototype.getTextTracks=Ca.prototype.Yb=function(){if(!this.b||!this.g)return[];var t=bn(this.b,er(this.g));if(!this.u.get(t,'text')){var e=gn(this.b.periods[t].textStreams,this.Z,this.$a);e.length&&Ho(this.u,t,'text',e[0].id)}return pn(this.b.periods[t],this.u.get(t,'text')).filter(function(t){return!this.Ob.includes(t.id)}.bind(this))},Ca.prototype.selectTextTrack=Ca.prototype.Ue=function(t){if(this.a){var e=fr(this.a);t:{for(var n=0;n<e.textStreams.length;n++)if(e.textStreams[n].id==t.id){t=e.textStreams[n];break t}t=null}t&&(this.j.l=!1,Ba(this,t,!1),e=t,this.ia?this.B=e:_r(this.a,e,!0,0),this.Z=t.language)}},Ca.prototype.selectEmbeddedTextTrack=Ca.prototype.Se=function(){this.j.l=!0,br(this.a)},Ca.prototype.usingEmbeddedTextTrack=Ca.prototype.rf=function(){return!!this.j&&this.j.l},Ca.prototype.selectVariantTrack=Ca.prototype.Ve=function(t,e,n){if(n=void 0===n?0:n,this.a){this.c.abr.enabled&&Y('Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().');var i=fr(this.a);t:{for(var o=0;o<i.variants.length;o++)if(i.variants[o].id==t.id){t=i.variants[o];break t}t=null}t&&fn(t)&&(Ua(this,t,!1),Fa(this,t,e,n),this.ob=new Xo(t),ja(this,i.variants))}},Ca.prototype.getAudioLanguagesAndRoles=Ca.prototype.Md=function(){return Qa(this.Zb())},Ca.prototype.getTextLanguagesAndRoles=Ca.prototype.Yd=function(){return Qa(this.Yb())},Ca.prototype.getAudioLanguages=Ca.prototype.Ld=function(){var t=this.Zb();return Array.from(Ja(t))},Ca.prototype.getTextLanguages=Ca.prototype.Xd=function(){var t=this.Yb();return Array.from(Ja(t))},Ca.prototype.selectAudioLanguage=Ca.prototype.Re=function(t,e){this.a&&(this.ob=new Wo(t,e||'',0),Ka(this,fr(this.a)))},Ca.prototype.selectTextLanguage=Ca.prototype.Te=function(t,e){if(this.a){var n=fr(this.a);this.Z=t,this.$a=e||'',Ka(this,n)}},Ca.prototype.isTextTrackVisible=Ca.prototype.bc=function(){return this.A?this.A.isTextVisible():this.ub},Ca.prototype.setTextTrackVisibility=Ca.prototype.Ze=function(t){this.A&&this.A.setTextVisibility(t),this.ub=t,za(this),!this.c.streaming.alwaysStreamText&&this.a&&(t?(t=gn((t=fr(this.a)).textStreams,this.Z,this.$a)[0])&&Er(this.a,t):br(this.a))},Ca.prototype.getPlayheadTimeAsDate=Ca.prototype.Ud=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f+1e3*this.f.currentTime):null},Ca.prototype.getPresentationStartTimeAsDate=Ca.prototype.Wd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.f):null},Ca.prototype.getBufferedInfo=Ca.prototype.Ub=function(){return this.j?this.j.Ub():{total:[],audio:[],video:[],text:[]}},Ca.prototype.getStats=Ca.prototype.getStats=function(){Ga(this),qa(this);var t=null,e=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var i=bn(this.b,er(this.g)),o=this.b.periods[i];null!=this.u.a[i]&&(t=(e=function(t,e,n){function i(t,e){return null==t?null==e:e.id==t}for(var o=0;o<n.length;o++)if(i(t,n[o].audio)&&i(e,n[o].video))return n[o];return null}(this.u.get(i,'audio'),this.u.get(i,'video'),o.variants)).video||{})}return e=e||{},{width:(t=t||{}).width||0,height:t.height||0,streamBandwidth:e.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.l.loadLatency,playTime:this.l.playTime,bufferingTime:this.l.bufferingTime,switchHistory:vt(this.l.switchHistory),stateHistory:vt(this.l.stateHistory)}},Ca.prototype.addTextTrack=Ca.prototype.addTextTrack=function(e,n,i,t,o,r){if(!this.a)return Promise.reject();var a=fr(this.a),s=this.b.periods.indexOf(a)+1,u=(s>=this.b.periods.length?this.b.presentationTimeline.S():this.b.periods[s].startTime)-a.startTime;if(1/0==u)return Promise.reject(new rt(1,4,4033));var l={id:this.yd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1!=t?null:new di(1,0,u,function(){return[e]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:t,codecs:o||'',kind:i,encrypted:!1,keyId:null,language:n,label:r||null,type:'text',primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:{}};return this.Ob.push(l.id),a.textStreams.push(l),Er(this.a,l).then(function(){if(!this.$.a){var t=this.b.periods.indexOf(a),e=yr(this.a,'text');return e&&Ho(this.u,t,'text',e.id),yt(this.Ob,l.id),Ka(this,a),Wa(this),{id:l.id,active:!1,type:'text',bandwidth:0,language:n,label:r||null,kind:i,width:null,height:null}}}.bind(this))},Ca.prototype.setMaxHardwareResolution=Ca.prototype.tc=function(t,e){this.rb.width=t,this.rb.height=e},Ca.prototype.retryStreaming=Ca.prototype.rc=function(){if(this.a){var t=this.a;if(t.f)t=!1;else if(t.l)t=!1;else{for(var e=L(t.c.values()),n=e.next();!n.done;n=e.next())(n=n.value).eb&&(n.eb=!1,Dr(t,n,.1));t=!0}}else t=!1;return t},Ca.prototype.getManifest=Ca.prototype.Qd=function(){return this.b},(e=Ca.prototype).Ic=function(t){var e=this.a?vr(this.a):null,n=this.a?gr(this.a):null;if(t.forEach(un.bind(null,this.i,e,n)),0==(e=function(t,e){var n=0;return t.forEach(function(t){n+=e(t)?1:0}),n}(t,function(t){return t.variants.some(fn)})))throw new rt(2,4,4032);if(e<t.length)throw new rt(2,4,4011);t.forEach(function(t){sn(t.variants,this.c.restrictions,this.rb)&&this.a&&fr(this.a)==t&&Wa(this),$a(this,t.variants)}.bind(this))},e.Sb=function(t){var e=this.a?vr(this.a):null,n=this.a?gr(this.a):null;if(un(this.i,e,n,t),!(e=t.variants).some(fn))throw new rt(2,4,4011);if($a(this,t.variants),sn(e,this.c.restrictions,this.rb)&&this.a&&fr(this.a)==t&&Wa(this),t=this.i?this.i.a:null)for(n=(e=L(e)).next();!n.done;n=e.next())for(var i=(n=L(n.value.drmInfos)).next();!i.done;i=n.next())if((i=i.value).keySystem==t.keySystem)for(var o=(i=L(i.initData||[])).next();!o.done;o=i.next())o=o.value,ee(this.i,o.initDataType,o.initData)},e.md=function(t){if(Ga(this),this.tb=t,qa(this),this.g){var e=this.g.b;t!=e.g&&(e.g=t,Zo(e,e.f))}this.dispatchEvent(new pt('buffering',{buffering:t}))},e.af=function(){Wa(this)},e.bf=function(){if(this.J){var t=this.J;t.f.forEach(t.o.bind(t,!0))}this.a&&function(n){var i=er(n.a.Ga),o=n.g.smallGapLimit;Array.from(n.c.keys()).every(function(t){var e=n.a.L;return t='text'==t?(t=e.a,i>=t.a&&i<t.b):ve(t=We(e,t),i,o)})||Ar(n)}(this.a)},e.ee=function(t){try{var e=this.b;this.ia=!0,this.h.disable();var n=ja(this,t.variants),i=gn(t.textStreams,this.Z,this.$a)[0]||null;if(this.P){t:{for(var o=0;o<e.periods.length;++o)for(var r=e.periods[o],a=0;a<r.variants.length;++a)if(r.variants[a]==this.P){var s=o;break t}s=-1}e.periods[s]==t&&(n=this.P),this.P=null}this.B&&(e.periods[Tn(e,this.B)]==t&&(i=this.B),this.B=null),n&&Ua(this,n,!0),i&&Ba(this,i,!0);var u=!mr(this.a),l=n?n.audio:null;return u&&l&&i&&function(t,e,n){var i=en(t.c.preferredTextLanguage);t=en(e.language);var o=en(n.language);return[on,nn,0].some(function(t){return tn(t,i,o)})&&o!=t}(this,l,i)&&(this.A.setTextVisibility(!0),za(this)),this.c.streaming.alwaysStreamText||this.bc()?{variant:n,text:i}:{variant:n,text:null}}catch(t){return this.Ia(t),{variant:null,text:null}}},e.Cd=function(){this.ia=!1,this.c.abr.enabled&&this.h.enable(),this.P&&(wr(this.a,this.P,this.Bc,this.Ac),this.P=null),this.B&&(_r(this.a,this.B,!0,0),this.B=null)},e.je=function(){this.o&&this.o.update&&this.o.update()},e.se=function(){this.g&&this.g.gb()},e.Ia=function(t){if(!this.$.a){var e=new pt('error',{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}},e.mb=function(t){this.dispatchEvent(t)},e.ve=function(){if(this.f.error){var t=this.f.error.code;if(1!=t){var e=this.f.error.msExtendedCode;e&&(e<0&&(e+=Math.pow(2,32)),e=e.toString(16)),this.Ia(new rt(2,3,3016,t,e,this.f.error.message))}}},rs.prototype.add=function(t){as(this,t)||this.a.push(t)},O('shaka.offline.Storage',us),us.support=ls,us.prototype.destroy=us.prototype.destroy=function(){return this.h.destroy()},us.prototype.configure=us.prototype.configure=function(t){var e=!1;return null!=t.trackSelectionCallback&&(e=!0,t.offline=t.offline||{},t.offline.trackSelectionCallback=t.trackSelectionCallback),null!=t.progressCallback&&(e=!0,t.offline=t.offline||{},t.offline.progressCallback=t.progressCallback),null!=t.usePersistentLicense&&(e=!0,t.offline=t.offline||{},t.offline.usePersistentLicense=t.usePersistentLicense),e&&Y('Storage.configure should now be passed a player configuration structure. Using a non-player configuration will be deprecated in v2.6.'),Ra(this.a,t)},us.prototype.getNetworkingEngine=us.prototype.Oa=function(){return this.b},us.prototype.store=us.prototype.store=function(n,t,i){var o=this;return ms(this,function(c,d,h,p){return S(function t(){var e,n,i,o,r,a,s,u,l;return B(t,function(t){switch(t.m){case 1:return ps(),c.g?t.return(Promise.reject(new rt(2,9,9006))):(c.g=!0,U(t,function(h,p,f){return S(function t(){var o,r,a,s,u,l,c,d;return B(t,function(t){switch(t.m){case 1:return o=null,r={networkingEngine:h.b,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){o=t}},U(t,f(),2);case 2:return(a=t.w).configure(h.a.manifest),hs(h),m(t,3),U(t,a.start(p,r),5);case 5:s=t.w,hs(h),u=new Set;for(var e=L(s.periods),n=e.next();!n.done;n=e.next()){for(var i=(n=L((l=n.value).variants)).next();!i.done;i=n.next())(c=i.value).audio&&u.add(c.audio),c.video&&u.add(c.video);for(i=(n=L(l.textStreams)).next();!i.done;i=n.next())d=i.value,u.add(d)}return U(t,Promise.all(Array.from(u).map(function(t){return t.createSegmentIndex()})),6);case 6:if(hs(h),o)throw o;return t.return(s);case 3:return g(t),U(t,a.stop(),7);case 7:y(t,0)}})})}(c,d,p),2));case 2:if(e=t.w,hs(c),!(!e.presentationTimeline.W()&&!e.presentationTimeline.Da()))throw new rt(2,9,9005,d);return n=null,i=new Qr,r=o=null,I(t,3,4),U(t,function(o,r,a){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return e=new Qt({Gb:o.b,onError:a,Vc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),n=wn(r),i=o.a,e.configure(i.drm),U(t,function(t,e,n){return t.s=[],t.A=n,Jt(t,e)}(e,n,i.offline.usePersistentLicense),2);case 2:return U(t,Zt(e),3);case 3:return U(t,te(e),4);case 4:return t.return(e)}})})}(c,e,function(t){r=r||t}),6);case 6:if(n=t.w,hs(c),r)throw r;return function(r,t,e){(function(t,e){for(var n={width:1/0,height:1/0},i=L(t.periods),o=i.next();!o.done;o=i.next())(o=o.value).variants=o.variants.filter(function(t){return an(t,e,n)})})(t,r.a.restrictions),function(t){for(var e=(t=L(t.periods)).next();!e.done;e=t.next())(e=e.value).variants=e.variants.filter(function(t){var e=!0;return t.audio&&(e=e&&je(t.audio)),t.video&&(e=e&&je(t.video)),e})}(t),function(t,e){for(var n=L(t.periods),i=n.next();!i.done;i=n.next())(i=i.value).variants=i.variants.filter(function(t){return ae(e,t)})}(t,e),is(t),function(t,n){var i=new rs;t.periods.forEach(function(t,e){0<e&&(t.variants=t.variants.filter(function(t){return as(i,new os(t))})),n(t),i=ss(t.variants)})}(t,function(t){var e=[];e=(e=e.concat(hn(t,null,null))).concat(pn(t,null)),e=r.a.offline.trackSelectionCallback(e);for(var n=new Set,i=new Set,o=(e=L(e)).next();!o.done;o=e.next())'variant'==(o=o.value).type&&n.add(o.id),'text'==o.type&&i.add(o.id);t.variants=t.variants.filter(function(t){return n.has(t.id)}),t.textStreams=t.textStreams.filter(function(t){return i.has(t.id)})}),function(t){if(0==t.periods.length)throw new rt(2,4,4014);for(var e=(t=L(t.periods)).next();!e.done;e=t.next())gs(e.value)}(t)}(c,e,n),U(t,i.init(),7);case 7:return hs(c),U(t,function(t){var i=null;if(t.a.forEach(function(t,n){t.getCells().forEach(function(t,e){t.hasFixedKeySpace()||i||(i={path:{ka:n,U:e},U:t})})}),i)return i;throw new rt(2,9,9013,'Could not find a cell that supports add-operations')}(i),8);case 8:return o=t.w,hs(c),U(t,function(o,r,a,s,u,l){return S(function t(){var n,e,i;return B(t,function(t){switch(t.m){case 1:return n=function(t,e,n){var i=null==e.expiration?1/0:e.expiration;return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.S(),size:0,expiration:i,tracks:e=ts(e.periods[0]),appMetadata:n}}(u,s,l),e=new Yr(function(t,e){n.size=e,o.a.offline.progressCallback(n,t)}),m(t,2),i=function(e,n,i,t,o,r,a){var s=new es,u=o.periods.map(function(t){return function(t,e,n,r,i,o){i.periods.forEach(function(t){t.variants.forEach(function(t){var e=t.audio,n=t.video;if(e&&!n&&(r.a[e.id]=e.bandwidth||t.bandwidth),!e&&n&&(r.a[n.id]=n.bandwidth||t.bandwidth),e&&n){var i=e.bandwidth||393216,o=n.bandwidth||t.bandwidth-i;o<=0&&(o=t.bandwidth),r.a[e.id]=i,r.a[n.id]=o}}),t.textStreams.forEach(function(t){r.a[t.id]=52})});for(var a=function(t){var e=new Set;return t.periods.forEach(function(t){t.textStreams.forEach(function(t){e.add(t)}),t.variants.forEach(function(t){t.audio&&e.add(t.audio),t.video&&e.add(t.video)})}),e}(i),s=new Map,u=(a=L(a)).next();!u.done;u=a.next()){u=u.value;var l=ds(t,e,n,r,i,u);s.set(u.id,l)}return o.variants.forEach(function(t){t.audio&&s.get(t.audio.id).variantIds.push(t.id),t.video&&s.get(t.video.id).variantIds.push(t.id)}),{startTime:o.startTime,streams:Array.from(s.values())}}(e,n,i,s,o,t)}),l=t.a,c=ne(t);if(l&&e.a.offline.usePersistentLicense){if(!c.length)throw new rt(2,9,9007,r);l.initData=[]}return{originalManifestUri:r,duration:o.presentationTimeline.S(),size:0,expiration:t.Db(),periods:u,sessionIds:e.a.offline.usePersistentLicense?c:[],drmInfo:l,appMetadata:a}}(o,e,r,a,s,u,l),U(t,Fr(e,o.b),4);case 4:return i.size=n.size,t.return(i);case 2:return g(t),U(t,e.destroy(),5);case 5:y(t,0)}})})}(c,o.U,n,e,d,h),9);case 9:if(a=t.w,hs(c),r)throw r;return U(t,o.U.addManifests([a]),10);case 10:return s=t.w,hs(c),u=new ya('manifest',o.path.ka,o.path.U,s[0]),t.return(Za(u,a));case 4:return g(t),c.g=!1,c.c=[],U(t,i.destroy(),11);case 11:if(n)return U(t,n.destroy(),12);t.D(12);break;case 12:y(t,0);break;case 3:if(l=k(t),o)return U(t,o.U.removeSegments(c.c,function(){}),14);t.D(14);break;case 14:throw r||l}})})}(this,n,t||{},function(){return S(function t(){var e;return B(t,function(t){switch(t.m){case 1:if(i&&'string'!=typeof i){Y('Loading with a manifest parser factory is deprecated. Instead please register a manifest parser and pass in the mime type.'),e=i,t.D(2);break}return U(t,Hi(n,o.b,o.a.manifest.retryParameters,i),3);case 3:e=t.w;case 2:return t.return(new e)}})})}))},us.prototype.remove=us.prototype.remove=function(t){return ms(this,function(o,t){ps();var r=Ea(t);if(null==r||'manifest'!=r.a)return Promise.reject(new rt(2,9,9004,t));var a=new Qr;return ar([a],function(){return S(function t(){var e,n,i;return B(t,function(t){switch(t.m){case 1:return U(t,a.init(),2);case 2:return U(t,Zr(a,r.ka(),r.U()),3);case 3:return U(t,(e=t.w).getManifests([r.key()]),4);case 4:return n=t.w,i=n[0],U(t,Promise.all([function(e,n,i){return S(function t(){return B(t,function(t){switch(t.m){case 1:return U(t,vs(e.b,e.a.drm,i,n),0)}})})}(o,i,a),function(t,e,n,i){function o(){s+=1,t.a.offline.progressCallback(u,s/a)}var r=function(t){var e=[];return t.periods.forEach(function(t){t.streams.forEach(function(t){null!=t.initSegmentKey&&e.push(t.initSegmentKey),t.segments.forEach(function(t){e.push(t.dataKey)})})}),e}(i),a=r.length+1,s=0,u=Za(n,i);return Promise.all([e.removeSegments(r,o),e.removeManifests([n.key()],o)])}(o,e,r,i)]),0)}})})})}(this,t))},us.prototype.removeEmeSessions=us.prototype.Le=function(){return ms(this,function(t){ps();var u=t.b,l=t.a.drm,c=new Qr;return ar([c],function(){return S(function t(){var e,n,i,o,r,a,s;return B(t,function(t){switch(t.m){case 1:return U(t,c.init(),2);case 2:e=!1,n=[],function(t,e){t.a.forEach(function(t){e(t.getEmeSessionCell())})}(c,function(t){return n.push(t)}),i=L(n),o=i.next();case 3:if(o.done){t.D(5);break}return U(t,(r=o.value).getAll(),6);case 6:return a=t.w,U(t,Ia(l,u,a),7);case 7:return s=t.w,U(t,r.remove(s),8);case 8:s.length!=a.length&&(e=!0),o=i.next(),t.D(3);break;case 5:return t.return(!e)}})})})}(this))},us.prototype.list=us.prototype.list=function(){return ms(this,function(){ps();var o=[],e=new Qr;return ar([e],function(){return S(function t(){var n;return B(t,function(t){switch(t.m){case 1:return U(t,e.init(),2);case 2:return n=Promise.resolve(),Jr(e,function(t,e){n=n.then(function(){return function(i,e){return S(function t(){return B(t,function(t){switch(t.m){case 1:return U(t,e.getAllManifests(),2);case 2:t.w.forEach(function(t,e){var n=Za(new ya('manifest',i.ka,i.U,e),t);o.push(n)}),t.m=0}})})}(t,e)})}),U(t,n,0)}})})}).then(function(){return o})}())},us.deleteAll=function(t){return function(a,s){var u=new Qr;return ar([u],function(){return S(function t(){var o,r;return B(t,function(t){switch(t.m){case 1:return U(t,u.init(),2);case 2:return U(t,function(t){var n=[],i=[];return Jr(t,function(t,e){i.push(e.getAllManifests().then(function(t){for(var e=(t=L(t.values())).next();!e.done;e=t.next())n.push(e.value)}))}),Promise.all(i).then(function(){return n})}(u),3);case 3:o=t.w,r=0;case 4:if(r<o.length)return U(t,vs(a,s,u,o[r]),5);for(var e=[],n=L(u.a.values()),i=n.next();!i.done;i=n.next())e.push(i.value.erase());return U(t,e=Promise.all(e),0);case 5:r++,t.D(4)}})})})}(t.Oa(),(t=t.getConfiguration()).drm)},Ma.offline=ls,O('shaka.polyfill.installAll',function(){for(var t=0;t<bs.length;++t)bs[t].Ad()});var ys,Es,bs=[];function Ts(t,e){for(var n={priority:e=e||0,Ad:t},i=0;i<bs.length;i++)if(bs[i].priority<e)return void bs.splice(i,0,n);bs.push(n)}function ws(t){var e=t.type.replace(/^(webkit|moz|MS)/,'').toLowerCase();if('function'==typeof Event)var n=new Event(e,t);else(n=document.createEvent('Event')).initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(n)}function _s(t,e,n){if('input'==t)switch(this.type){case'range':t='change'}ys.call(this,t,e,n)}function As(){var i=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return(e=i.apply(this,e)).abort=function(){},e}}function Ls(t){var e=t.target,n=e.mediaSource_;if(n.Mc){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.Gc=!0,t=0;t<n.sourceBuffers.length;++t)if(0==n.sourceBuffers[t].Gc)return;n.Mc=!1}}function Ss(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener('updateend',Ls,!1);t.removeEventListener('sourceclose',Ss,!1)}function Is(t){this.f=[],this.b=[],this.a=[],(new vi).aa('pssh',this.c.bind(this)).parse(t.buffer)}function Ns(t,e){try{var n=new ks(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function ks(t,e){this.keySystem=t;for(var n=!1,i=0;i<e.length;++i){var o=e[i],r={audioCapabilities:[],videoCapabilities:[],persistentState:'optional',distinctiveIdentifier:'optional',initDataTypes:o.initDataTypes,sessionTypes:['temporary'],label:o.label},a=!1;if(o.audioCapabilities)for(var s=0;s<o.audioCapabilities.length;++s){var u=o.audioCapabilities[s];if(u.contentType){a=!0;var l=u.contentType.split(';')[0];MSMediaKeys.isTypeSupported(this.keySystem,l)&&(r.audioCapabilities.push(u),n=!0)}}if(o.videoCapabilities)for(s=0;s<o.videoCapabilities.length;++s)(u=o.videoCapabilities[s]).contentType&&(a=!0,l=u.contentType.split(';')[0],MSMediaKeys.isTypeSupported(this.keySystem,l)&&(r.videoCapabilities.push(u),n=!0));if(a||(n=MSMediaKeys.isTypeSupported(this.keySystem,'video/mp4')),'required'==o.persistentState&&(n=!1),n)return void(this.a=r)}throw(n=Error('Unsupported keySystem')).name='NotSupportedError',n.code=DOMException.NOT_SUPPORTED_ERR,n}function Ps(t){var e=this.mediaKeys;return e&&e!=t&&Rs(e,null),delete this.mediaKeys,(this.mediaKeys=t)?Rs(t,this):Promise.resolve()}function Os(t){this.a=new MSMediaKeys(t),this.b=new It}function Rs(t,e){if(Pt(t.b),!e)return Promise.resolve();Nt(t.b,e,'msneedkey',Ds);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener('loadedmetadata',function t(){e.msSetMediaKeys(n.a),e.removeEventListener('loadedmetadata',t)}),Promise.resolve()}catch(t){return Promise.reject(t)}}function Cs(t){mt.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new It,this.sessionId='',this.expiration=NaN,this.closed=new nt,this.keyStatuses=new xs}function Ds(t){var e=document.createEvent('CustomEvent');e.initCustomEvent('encrypted',!1,!1,null),e.initDataType='cenc',e.initData=function(t){if(!t)return t;var e=new Is(t);if(e.a.length<=1)return t;for(var n=[],i=0;i<e.a.length;i++)n.push(t.subarray(e.a[i].start,e.a[i].end+1));for(t=[],e={},i=L(n),n=i.next();!n.done;e={Eb:e.Eb},n=i.next())e.Eb=n.value,t.some(function(e){return function(t){return zt(t,e.Eb)}}(e))||t.push(e.Eb);for(e=0,i=L(t),n=i.next();!n.done;n=i.next())e+=n.value.length;for(e=new Uint8Array(e),i=0,t=L(t),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,i),i+=n.length;return e}(t.initData),this.dispatchEvent(e)}function Ms(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new pt('keystatuseschange'))}function xs(){this.size=0,this.a=void 0}function Us(){return Promise.reject(Error('The key system specified is not supported.'))}function Bs(t){return null==t?Promise.resolve():Promise.reject(Error('MediaKeys not supported.'))}function Vs(){throw new TypeError('Illegal constructor.')}function Ys(){throw new TypeError('Illegal constructor.')}O('shaka.polyfill.register',Ts),Ts(function(){if(a.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,'fullscreenElement'in document||(Object.defineProperty(document,'fullscreenElement',{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,'fullscreenEnabled',{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener('webkitfullscreenchange',ws),document.addEventListener('webkitfullscreenerror',ws),document.addEventListener('mozfullscreenchange',ws),document.addEventListener('mozfullscreenerror',ws),document.addEventListener('MSFullscreenChange',ws),document.addEventListener('MSFullscreenError',ws)}}),Ts(function(){var t=navigator.userAgent;t&&t.includes('CrKey')&&delete a.indexedDB}),Ts(function(){navigator.userAgent.includes('Trident/')&&HTMLInputElement.prototype.addEventListener!=_s&&(ys=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=_s)}),Ts(function(){}),Ts(function(){if(a.MediaSource)if(a.cast&&cast.__platform__&&cast.__platform__.canDisplayType)!function(){var c=MediaSource.isTypeSupported,d=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(t){for(var e=t.split(/ *; */),n=e[0],i={},o=1;o<e.length;++o){var r=e[o].split('='),a=r[0];r=r[1].replace(/"(.*)"/,'$1'),i[a]=r}if(!(e=i.codecs))return c(t);var s=!1,u=!1;for(var l in t=e.split(',').filter(function(t){return d.test(t)?!(u=!0):(/^(hev|hvc)1\.2/.test(t)&&(s=!0),!0)}),u&&(s=!1),i.codecs=t.join(','),s&&(i.eotf='smpte2084'),i)n+='; '+l+'="'+i[l]+'"';return cast.__platform__.canDisplayType(n)}}();else if(navigator.vendor&&navigator.vendor.includes('Apple')){var t=navigator.appVersion;!function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return'mp2t'!=t.split(/ *; */)[0].split('/')[1]&&e(t)}}(),t.includes('Version/8')?a.MediaSource=null:t.includes('Version/9')?As():t.includes('Version/10')?(As(),function(){var r=MediaSource.prototype.endOfStream,i=!(MediaSource.prototype.endOfStream=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];for(var i=n=0;i<this.sourceBuffers.length;++i){var o=this.sourceBuffers[i];o=o.buffered.end(o.buffered.length-1),n=Math.max(n,o)}if(!isNaN(this.duration)&&n<this.duration)for(this.Mc=!0,n=0;n<this.sourceBuffers.length;++n)this.sourceBuffers[n].Gc=!1;return r.apply(this,e)}),o=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var e=[],n=0;n<arguments.length;++n)e[n]=arguments[n];return(e=o.apply(this,e)).mediaSource_=this,e.addEventListener('updateend',Ls,!1),i||(this.addEventListener('sourceclose',Ss,!1),i=!0),e}}()):t.includes('Version/11')&&(As(),function(){var n=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,e){return n.call(this,t,e-.001)}}())}}),Is.prototype.c=function(t){if(!(1<t.version)){var e=Wt(t.reader.Ha(16)),n=[];if(0<t.version)for(var i=t.reader.C(),o=0;o<i;++o){var r=Wt(t.reader.Ha(16));n.push(r)}i=t.reader.C(),t.reader.I(i),this.b.push.apply(this.b,n),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},ks.prototype.createMediaKeys=function(){var t=new Os(this.keySystem);return Promise.resolve(t)},ks.prototype.getConfiguration=function(){return this.a},Os.prototype.createSession=function(t){if('temporary'!=(t=t||'temporary'))throw new TypeError('Session type '+t+' is unsupported on this platform.');return new Cs(this.a,t)},Os.prototype.setServerCertificate=function(){return Promise.resolve(!1)},R(Cs,mt),(e=Cs.prototype).generateRequest=function(t,e){this.a=new nt;try{this.c=this.g.createSession('video/mp4',new Uint8Array(e),null),Nt(this.f,this.c,'mskeymessage',this.ne.bind(this)),Nt(this.f,this.c,'mskeyadded',this.le.bind(this)),Nt(this.f,this.c,'mskeyerror',this.me.bind(this)),Ms(this,'status-pending')}catch(t){this.a.reject(t)}return this.a},e.load=function(){return Promise.reject(Error('MediaKeySession.load not yet supported'))},e.update=function(t){this.b=new nt;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},e.close=function(){try{this.c.close(),this.closed.resolve(),Pt(this.f)}catch(t){this.closed.reject(t)}return this.closed},e.remove=function(){return Promise.reject(Error('MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform'))},e.ne=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new pt('message',{messageType:null==this.keyStatuses.a?'licenserequest':'licenserenewal',message:t.message.buffer}))},e.le=function(){this.a?(Ms(this,'usable'),this.a.resolve(),this.a=null):this.b&&(Ms(this,'usable'),this.b.resolve(),this.b=null)},e.me=function(){var t=Error('EME PatchedMediaKeysMs key error');if(t.errorCode=this.c.error,null!=this.a)this.a.reject(t),this.a=null;else if(null!=this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ms(this,'output-not-allowed');break;default:Ms(this,'internal-error')}},(e=xs.prototype).forEach=function(t){this.a&&t(this.a,Es)},e.get=function(t){if(this.has(t))return this.a},e.has=function(t){var e=Es;return!(!this.a||!zt(new Uint8Array(t),new Uint8Array(e)))},e.entries=function(){},e.keys=function(){},e.values=function(){},Ts(function(){!a.HTMLVideoElement||!a.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(Es=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ps,a.MediaKeys=Os,a.MediaKeySystemAccess=ks,navigator.requestMediaKeySystemAccess=Ns)}),Vs.prototype.createSession=function(){},Vs.prototype.setServerCertificate=function(){},Ys.prototype.getConfiguration=function(){},Ys.prototype.createMediaKeys=function(){},Ts(function(){!a.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Us,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Bs,a.MediaKeys=Vs,a.MediaKeySystemAccess=Ys)},-10);var Hs,Fs='';function Gs(t){return Fs?Fs+t.charAt(0).toUpperCase()+t.slice(1):t}function qs(t,e){try{var n=new Ks(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function js(t){var e=this.mediaKeys;return e&&e!=t&&Ws(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&Ws(t,this),Promise.resolve()}function Ks(t,e){this.a=this.keySystem=t;var n=!1;'org.w3.clearkey'==t&&(n=!(this.a='webkit-org.w3.clearkey'));var i=!1,o=document.getElementsByTagName('video');o=o.length?o[0]:document.createElement('video');for(var r=0;r<e.length;++r){var a=e[r],s={audioCapabilities:[],videoCapabilities:[],persistentState:'optional',distinctiveIdentifier:'optional',initDataTypes:a.initDataTypes,sessionTypes:['temporary'],label:a.label},u=!1;if(a.audioCapabilities)for(var l=0;l<a.audioCapabilities.length;++l){var c=a.audioCapabilities[l];if(c.contentType){u=!0;var d=c.contentType.split(';')[0];o.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),i=!0)}}if(a.videoCapabilities)for(l=0;l<a.videoCapabilities.length;++l)(c=a.videoCapabilities[l]).contentType&&(u=!0,o.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),i=!0));if(u||(i=o.canPlayType('video/mp4',this.a)||o.canPlayType('video/webm',this.a)),'required'==a.persistentState&&(n?(s.persistentState='required',s.sessionTypes=['persistent-license']):i=!1),i)return void(this.b=s)}throw n='Unsupported keySystem','org.w3.clearkey'!=t&&'com.widevine.alpha'!=t||(n='None of the requested configurations were supported.'),(n=Error(n)).name='NotSupportedError',n.code=DOMException.NOT_SUPPORTED_ERR,n}function Xs(t){this.g=t,this.b=null,this.a=new It,this.c=[],this.f={}}function Ws(t,e){t.b=e,Pt(t.a);var n=Fs;e&&(Nt(t.a,e,n+'needkey',t.ze.bind(t)),Nt(t.a,e,n+'keymessage',t.ye.bind(t)),Nt(t.a,e,n+'keyadded',t.we.bind(t)),Nt(t.a,e,n+'keyerror',t.xe.bind(t)))}function zs(t,e){var n=t.f[e];return n||((n=t.c.shift())?(n.sessionId=e,t.f[e]=n):null)}function $s(t,e,n){mt.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=n,this.sessionId='',this.expiration=NaN,this.closed=new nt,this.keyStatuses=new Zs}function Qs(e,t,n){if(e.h)return Promise.reject(Error('The session is already initialized.'));e.h=!0;try{if('persistent-license'==e.g)if(n)var i=new Uint8Array(Ht('LOAD_SESSION|'+n));else{var o=Ht('PERSISTENT|'),r=new Uint8Array(o.byteLength+t.byteLength);r.set(new Uint8Array(o),0),r.set(new Uint8Array(t),o.byteLength),i=r}else i=new Uint8Array(t)}catch(t){return Promise.reject(t)}e.b=new nt;var a=Gs('generateKeyRequest');try{e.f[a](e.c,i)}catch(t){if('InvalidStateError'!=t.name)return e.b=null,Promise.reject(t);setTimeout(function(){try{this.f[a](this.c,i)}catch(t){this.b.reject(t),this.b=null}}.bind(e),10)}return e.b}function Js(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.a=e,t.dispatchEvent(new pt('keystatuseschange'))}function Zs(){this.size=0,this.a=void 0}function tu(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function eu(t,e,n){return new a.TextTrackCue(t,e,n)}function nu(t,e,n){return new a.TextTrackCue(t+'-'+e+'-'+n,t,e,n)}function iu(){}Ks.prototype.createMediaKeys=function(){var t=new Xs(this.a);return Promise.resolve(t)},Ks.prototype.getConfiguration=function(){return this.b},(e=Xs.prototype).createSession=function(t){if('temporary'!=(t=t||'temporary')&&'persistent-license'!=t)throw new TypeError('Session type '+t+' is unsupported on this platform.');var e=this.b||document.createElement('video');return e.src||(e.src='about:blank'),t=new $s(e,this.g,t),this.c.push(t),t},e.setServerCertificate=function(){return Promise.resolve(!1)},e.ze=function(t){var e=document.createEvent('CustomEvent');e.initCustomEvent('encrypted',!1,!1,null),e.initDataType='webm',e.initData=t.initData,this.b.dispatchEvent(e)},e.ye=function(t){var e=zs(this,t.sessionId);e&&(t=new pt('message',{messageType:null==e.keyStatuses.a?'licenserequest':'licenserenewal',message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},e.we=function(t){(t=zs(this,t.sessionId))&&(Js(t,'usable'),t.a&&t.a.resolve(),t.a=null)},e.xe=function(t){var e=zs(this,t.sessionId);if(e){var n=Error('EME v0.1b key error');n.errorCode=t.errorCode,n.errorCode.systemCode=t.systemCode,!t.sessionId&&e.b?(n.method='generateRequest',45==t.systemCode&&(n.message='Unsupported session type.'),e.b.reject(n),e.b=null):t.sessionId&&e.a?(n.method='update',e.a.reject(n),e.a=null):(n=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Js(e,'output-restricted'):Js(e,1==n?'expired':'internal-error'))}},R($s,mt),(e=$s.prototype).vc=function(t,e){if(this.a)this.a.then(this.vc.bind(this,t,e)).catch(this.vc.bind(this,t,e));else{if(this.a=t,'webkit-org.w3.clearkey'==this.c){var n=Bt(e),i=JSON.parse(n);'oct'!=i.keys[0].kty&&(this.a.reject(Error('Response is not a valid JSON Web Key Set.')),this.a=null),n=Kt(i.keys[0].k),i=Kt(i.keys[0].kid)}else n=new Uint8Array(e),i=null;var o=Gs('addKey');try{this.f[o](this.c,n,i,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},e.generateRequest=function(t,e){return Qs(this,e,null)},e.load=function(t){return'persistent-license'==this.g?Qs(this,null,t):Promise.reject(Error('Not a persistent session.'))},e.update=function(t){var e=new nt;return this.vc(e,t),e},e.close=function(){if('persistent-license'!=this.g){if(!this.sessionId)return this.closed.reject(Error('The session is not callable.')),this.closed;var t=Gs('cancelKeyRequest');try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},e.remove=function(){return'persistent-license'!=this.g?Promise.reject(Error('Not a persistent session.')):this.close()},(e=Zs.prototype).forEach=function(t){this.a&&t(this.a,Hs)},e.get=function(t){if(this.has(t))return this.a},e.has=function(t){var e=Hs;return!(!this.a||!zt(new Uint8Array(t),new Uint8Array(e)))},e.entries=function(){},e.keys=function(){},e.values=function(){},Ts(function(){if(!(!a.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Fs='webkit';else if(!HTMLMediaElement.prototype.generateKeyRequest)return;Hs=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=qs,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=js,a.MediaKeys=Xs,a.MediaKeySystemAccess=Ks}}),Ts(function(){if(a.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}),Ts(function(){if(a.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&'webkitDroppedFrameCount'in t&&(t.getVideoPlaybackQuality=tu)}}),Ts(function(){if(!a.VTTCue&&a.TextTrackCue){var t=TextTrackCue.length;if(3==t)a.VTTCue=eu;else if(6==t)a.VTTCue=nu;else{try{var e=!!eu(1,2,'')}catch(t){e=!1}e&&(a.VTTCue=eu)}}}),iu.prototype.parseInit=function(){},iu.prototype.parseMedia=function(t,e){var n=Bt(t),i=[],o=new DOMParser,r=null;try{r=o.parseFromString(n,'text/xml')}catch(t){throw new rt(2,2,2005)}if(r){if(!(o=r.getElementsByTagName('tt')[0]))throw new rt(2,2,2005);r=ti.getAttributeNS(o,'http://www.w3.org/ns/ttml#parameter','frameRate');var a=ti.getAttributeNS(o,'http://www.w3.org/ns/ttml#parameter','subFrameRate'),s=ti.getAttributeNS(o,'http://www.w3.org/ns/ttml#parameter','frameRateMultiplier'),u=ti.getAttributeNS(o,'http://www.w3.org/ns/ttml#parameter','tickRate');if('default'!=(n=o.getAttribute('xml:space')||'default')&&'preserve'!=n)throw new rt(2,2,2005);n='default'==n,r=new Au(r,a,s,u),a=mu(o.getElementsByTagName('styling')[0]),s=mu(o.getElementsByTagName('layout')[0]),u=[];for(var l=0;l<s.length;l++){var c,d=s[l],h=a,p=new Re,f=d.getAttribute('xml:id');if(f)p.id=f,(c=Eu(d,h,'extent'))&&(null!=(c=(f=ou.exec(c))||au.exec(c))&&(p.width=Number(c[1]),p.height=Number(c[2]),p.widthUnits=f?Ce:0,p.heightUnits=f?Ce:0)),(d=Eu(d,h,'origin'))&&(null!=(c=(f=ou.exec(d))||au.exec(d))&&(p.viewportAnchorX=Number(c[1]),p.viewportAnchorY=Number(c[2]),p.viewportAnchorUnits=f?Ce:0));else p=null;p&&u.push(p)}for(o=mu(o.getElementsByTagName('body')[0]),l=0;l<o.length;l++)(p=vu(o[l],e.periodStart,r,a,s,u,n))&&i.push(p)}return i};var ou=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,ru=/^(\d+px|\d+em)$/,au=/^(\d+)px (\d+)px$/,su=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,uu=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,lu=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,cu=/^(\d*(?:\.\d*)?)f$/,du=/^(\d*(?:\.\d*)?)t$/,hu=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,pu={left:'start',center:Ie,right:'end',start:'start',end:'end'},fu={left:'line-left',center:'center',right:'line-right'};function mu(t){var e=[];if(!t)return e;for(var n=t.childNodes,i=0;i<n.length;i++){var o='span'==n[i].nodeName&&'p'==t.nodeName;n[i].nodeType!=Node.ELEMENT_NODE||'br'==n[i].nodeName||o||(o=mu(n[i]),e=e.concat(o))}return e.length||e.push(t),e}function vu(t,e,n,i,o,r,a){if(!t.hasAttribute('begin')&&!t.hasAttribute('end')&&/^\s*$/.test(t.textContent))return null;!function t(e,n){for(var i=e.childNodes,o=0;o<i.length;o++)if('br'==i[o].nodeName&&0<o)i[o-1].textContent+='\n';else if(0<i[o].childNodes.length)t(i[o],n);else if(n){var r=i[o].textContent.trim();r=r.replace(/\s+/g,' '),i[o].textContent=r}}(t,a),a=wu(t.getAttribute('begin'),n);var s=wu(t.getAttribute('end'),n);n=wu(t.getAttribute('dur'),n);var u=t.textContent;if(null==s&&null!=n&&(s=a+n),null==a||null==s)throw new rt(2,2,2001);if(e=new Ee(a+e,s+e,u),(o=Tu(t,'region',o))&&o.getAttribute('xml:id')){var l=o.getAttribute('xml:id');r=r.filter(function(t){return t.id==l}),e.region=r[0]}return function(t,e,n,i){'rtl'==yu(e,n,i,'direction')&&(t.writingDirection=1);var o=yu(e,n,i,'writingMode');'tb'==o||'tblr'==o?t.writingDirection=2:'tbrl'==o?t.writingDirection=3:'rltb'==o||'rl'==o?t.writingDirection=1:o&&(t.writingDirection=Le),(o=yu(e,n,i,'textAlign'))&&(t.positionAlign=fu[o],t.lineAlign=pu[o],t.textAlign=we[o.toUpperCase()]);(o=yu(e,n,i,'displayAlign'))&&(t.displayAlign=Ae[o.toUpperCase()]);(o=yu(e,n,i,'color'))&&(t.color=o);(o=yu(e,n,i,'backgroundColor'))&&(t.backgroundColor=o);(o=yu(e,n,i,'fontFamily'))&&(t.fontFamily=o);(o=yu(e,n,i,'fontWeight'))&&'bold'==o&&(t.fontWeight=700),(o=yu(e,n,i,'wrapOption'))&&'noWrap'==o&&(t.wrapLine=!1),(o=yu(e,n,i,'lineHeight'))&&o.match(ru)&&(t.lineHeight=o),(o=yu(e,n,i,'fontSize'))&&o.match(ru)&&(t.fontSize=o),(o=yu(e,n,i,'fontStyle'))&&(t.fontStyle=Oe[o.toUpperCase()]);(n=Eu(n,i,'textDecoration'))&&gu(t,n),(e=bu(e,i,'textDecoration'))&&gu(t,e)}(e,t,o,i),e}function gu(t,e){for(var n=e.split(' '),i=0;i<n.length;i++)switch(n[i]){case'underline':t.textDecoration.includes('underline')||t.textDecoration.push('underline');break;case'noUnderline':t.textDecoration.includes('underline')&&yt(t.textDecoration,'underline');break;case'lineThrough':t.textDecoration.includes('lineThrough')||t.textDecoration.push('lineThrough');break;case'noLineThrough':t.textDecoration.includes('lineThrough')&&yt(t.textDecoration,'lineThrough');break;case'overline':t.textDecoration.includes('overline')||t.textDecoration.push('overline');break;case'noOverline':t.textDecoration.includes('overline')&&yt(t.textDecoration,'overline')}}function yu(t,e,n,i){return(t=bu(t,n,i))?t:Eu(e,n,i)}function Eu(t,e,n){for(var i=mu(t),o=0;o<i.length;o++){var r=ti.getAttributeNS(i[o],'http://www.w3.org/ns/ttml#styling',n);if(r)return r}return(t=Tu(t,'style',e))?ti.getAttributeNS(t,'http://www.w3.org/ns/ttml#styling',n):null}function bu(t,e,n){return(t=Tu(t,'style',e))?ti.getAttributeNS(t,'http://www.w3.org/ns/ttml#styling',n):null}function Tu(t,e,n){if(!t||n.length<1)return null;var i=null,o=t;for(t=null;o&&!(t=o.getAttribute(e))&&(o=o.parentNode)instanceof Element;);if(e=t)for(t=0;t<n.length;t++)if(n[t].getAttribute('xml:id')==e){i=n[t];break}return i}function wu(t,e){var n=null;if(su.test(t)){n=su.exec(t);var i=Number(n[1]),o=Number(n[2]),r=Number(n[3]),a=Number(n[4]);n=(r+=(a+=(Number(n[5])||0)/e.b)/e.frameRate)+60*o+3600*i}else uu.test(t)?n=_u(uu,t):lu.test(t)?n=_u(lu,t):cu.test(t)?(n=cu.exec(t),n=Number(n[1])/e.frameRate):du.test(t)?(n=du.exec(t),n=Number(n[1])/e.a):hu.test(t)&&(n=_u(hu,t));return n}function _u(t,e){var n=t.exec(e);return null==n||''==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Au(t,e,n,i){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(i),0==this.a&&(this.a=t?this.frameRate*this.b:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=t[1]/t[2])}function Lu(){this.a=new iu}function Su(){}function Iu(t,e,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=i[1],t.textAlign='middle'==e?Te:we[e.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(e))?t.writingDirection='lr'==i[1]?2:3:(i=/^size:([\d.]+)%$/.exec(e))?t.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(i[1]),i[2]&&(e=i[2],t.positionAlign='line-left'==e||'start'==e?'line-left':'line-right'==e||'end'==e?'line-right':'center')):(i=/^region:(.*)$/.exec(e))?(e=function(t,e){var n=t.filter(function(t){return t.id==e});return n.length?n[0]:null}(n,i[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=Ne[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=Se,t.line=Number(n[1]),n[2]&&(t.lineAlign=Ne[n[2].toUpperCase()]))}function Nu(t){if(null==(t=lo(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),n=Number(t[3]);return 59<e||59<n?null:Number(t[4])/1e3+n+60*e+3600*(Number(t[1])||0)}function ku(){this.a=null}function Pu(t,e,n){var i,o,r;return(new vi).F('payl',Ei(function(t){i=Bt(t)})).F('iden',Ei(function(t){o=Bt(t)})).F('sttg',Ei(function(t){r=Bt(t)})).parse(t),i?function(t,e,n,i,o){if(t=new Ee(i,o,t),e&&(t.id=e),n)for(e=new so(n),n=co(e);n;)Iu(t,n,[]),uo(e),n=co(e);return t}(i,o,r,e,n):null}Ge['application/ttml+xml']=iu,Lu.prototype.parseInit=function(t){var e=!1;if((new vi).F('moov',gi).F('trak',gi).F('mdia',gi).F('minf',gi).F('stbl',gi).aa('stsd',yi).F('stpp',function(t){e=!0,t.parser.stop()}).parse(t),!e)throw new rt(2,2,2007)},Lu.prototype.parseMedia=function(t,e){var n=!1,i=[];if((new vi).F('mdat',Ei(function(t){n=!0,i=i.concat(this.a.parseMedia(t,e))}.bind(this))).parse(t),!n)throw new rt(2,2,2007);return i},Ge['application/mp4; codecs="stpp"']=Lu,Ge['application/mp4; codecs="stpp.TTML.im1t"']=Lu,Su.prototype.parseInit=function(){},Su.prototype.parseMedia=function(t,e){var n=Bt(t);if(n=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,'\n')).split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new rt(2,2,2e3);var i=e.segmentStart;if(null==i&&n[i=0].includes('X-TIMESTAMP-MAP')){var o=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=n[0].match(/MPEGTS:(\d+)/m);o&&r&&(i=Nu(new so(o[1])),i=e.periodStart+(Number(r[1])/9e4-i))}r=[];var a=n[0].split('\n');for(o=1;o<a.length;o++)if(/^Region:/.test(a[o])){var s=new so(a[o]),u=new Re;co(s),uo(s);for(var l=co(s);l;){var c=u,d=l;(l=/^id=(.*)$/.exec(d))?c.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(d))?c.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(d))?(c.height=Number(l[1]),c.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.regionAnchorX=Number(l[1]),c.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.viewportAnchorX=Number(l[1]),c.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(d)&&(c.scroll='up'),uo(s),l=co(s)}r.push(u)}for(o=[],s=1;s<n.length;s++){if(l=a=n[s].split('\n'),d=i,a=r,1==l.length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||'STYLE'==l[0])a=null;else{u=null,l[0].includes('--\x3e')||(u=l[0],l.splice(0,1));var h=Nu(c=new so(l[0])),p=lo(c,/[ \t]+--\x3e[ \t]+/g),f=Nu(c);if(null==h||null==p||null==f)throw new rt(2,2,2001);for(l=new Ee(h+d,f+d,l.slice(1).join('\n').trim()),uo(c),d=co(c);d;)Iu(l,d,a),uo(c),d=co(c);null!=u&&(l.id=u),a=l}a&&o.push(a)}return o},Ge['text/vtt']=Su,Ge['text/vtt; codecs="vtt"']=Su,ku.prototype.parseInit=function(t){var e=!1;if((new vi).F('moov',gi).F('trak',gi).F('mdia',gi).aa('mdhd',function(t){0==t.version?(t.reader.I(4),t.reader.I(4),this.a=t.reader.C(),t.reader.I(4)):(t.reader.I(8),t.reader.I(8),this.a=t.reader.C(),t.reader.I(8)),t.reader.I(4)}.bind(this)).F('minf',gi).F('stbl',gi).aa('stsd',yi).F('wvtt',function(){e=!0}).parse(t),!this.a)throw new rt(2,2,2008);if(!e)throw new rt(2,2,2008)},ku.prototype.parseMedia=function(t,a){var s=this;if(!this.a)throw new rt(2,2,2008);var e,u=0,l=[],c=[],n=!1,d=!1,i=!1,h=null;if((new vi).F('moof',gi).F('traf',gi).aa('tfdt',function(t){n=!0,u=0==t.version?t.reader.C():t.reader.Xa()}).aa('tfhd',function(t){var e=t.flags;(t=t.reader).I(4),1&e&&t.I(8),2&e&&t.I(4),h=8&e?t.C():null}).aa('trun',function(t){d=!0;var e=t.version,n=t.flags,i=(t=t.reader).C();1&n&&t.I(4),4&n&&t.I(4);for(var o=[],r=0;r<i;r++){var a={duration:null,sampleSize:null,wc:null};256&n&&(a.duration=t.C()),512&n&&(a.sampleSize=t.C()),1024&n&&t.I(4),2048&n&&(a.wc=0==e?t.C():t.dd()),o.push(a)}l=o}).F('mdat',Ei(function(t){i=!0,e=t})).parse(t),!i&&!n&&!d)throw new rt(2,2,2008);var p=u,f=new hi(new DataView(e.buffer,e.byteOffset,e.byteLength),0);return l.forEach(function(t){var e=t.duration||h,n=t.wc?u+t.wc:p;p=n+(e||0);var i=0;do{var o=f.C();i+=o;var r=null;'vttc'==Ti(f.C())?8<o&&(r=f.Ha(o-8)):f.I(o-8),e&&r&&c.push(Pu(r,a.periodStart+n/s.a,a.periodStart+p/s.a))}while(t.sampleSize&&i<t.sampleSize)}),c.filter(Rt.ta)},Ge['application/mp4; codecs="wvtt"']=ku}.call(e,t,t),'undefined'!=typeof exports)for(var n in e.shaka)exports[n]=e.shaka[n];else'undefined'!=typeof define&&define.amd?define(function(){return e.shaka}):t.shaka=e.shaka}(),function(t){'use strict';var e={CONTENT_TYPE:{MP4:'MP4',HLS:'HLS',RTSP:'RTSP',RTMP:'RTMP',NPP:'NPP',LINEAR:'LINEAR',DASH:'DASH'},ENV:{MOBILE_WEB:'MOBILE_WEB',MOBILE_WEB_ALLOW_HD:'MOBILE_WEB_ALLOW_HD',TVPOT_WEB:'TVPOT_WEB',DAUM_APP:'DAUM_APP',KAKAOTV:'KAKAOTV',IOS:'IOS',ANDROID:'ANDROID'},PHASE:{ALPHA:'ALPHA',BETA:'BETA',SANDBOX:'SANDBOX',REAL:'REAL',REALSLV:'REAL',LOCAL:'LOCAL'},SUB_DOMAIN:{KAKAO:{ALPHA:'alpha-tv',BETA:'beta-tv',SANDBOX:'sandbox-tv',REAL:'tv',LOCAL:'',PLAYER:'play-tv'},DAUM:{ALPHA:'alpha-tv.dev',BETA:'beta-tv.dev',SANDBOX:'sandbox-tv.dev',REAL:'kakaotv',LOCAL:''}},DOMAIN:{KAKAO:'kakao.com',DAUM:'daum.net'}};e.HOST=location.protocol+'//'+location.host,e.SHARE_DOMAIN=location.protocol+'//'+e.SUB_DOMAIN.KAKAO.PLAYER+'.'+e.DOMAIN.KAKAO,e.APP_KEY={ALPHA:'c6e6645efbe2d0d688e9136aa0c44fc4',BETA:'8ea44e3f160a4c276592eda5f1c7cb61',SANDBOX:'a16c74899bb0672c71ca8024b8d78cd5',REAL:'8ea44e3f160a4c276592eda5f1c7cb61',LOCAL:'8ea44e3f160a4c276592eda5f1c7cb61'},e.DTE_TYPE={IPHONE:'IPHONE',IPAD:'IPAD',ANDROID:'ANDROID',PC:'PC',ETC:'ETC'},e.VIDEO_TYPE={AD:'AD',VOD:'VOD',LIVE:'LIVE'},e.PROFILE={LOW:'LOW',BASE:'BASE',MAIN:'MAIN',HIGH:'HIGH',HIGH4:'HIGH4',AUTO:'AUTO'},e.DASH_PROFILE={AUTO:e.PROFILE.AUTO,0:e.PROFILE.LOW,1:e.PROFILE.BASE,2:e.PROFILE.MAIN,3:e.PROFILE.HIGH,4:e.PROFILE.HIGH4},e.ID={VIDEO_ELEMENT:'videoElement'},e.URL={THUMBNAIL_FARM_URL:'//t1.daumcdn.net/thumb/#{type}.q50.fjpg/?fname=#{url}',KEMI_LOG_URL:e.HOST+'/api/v1/ft/logging/player'},e.STORAGE={UUID:'player_uuid',VOLUME:'player_volume',ALERT_MSG:'3g4g_alert_msg',PROFILE:'player_profile',MUTE:'player_mute',ABR:'player_abr'},e.ERROR={CLASS:{BACKGROUND_ALPHA:'background_alpha',THUMBNAIL_IMG:'thumbnail_img'},STATUS:{AGE_19:{NAME:'Age19',MESSAGE_TYPE:'notice',DESCRIPTION:'이 프로그램은 19세 미만의 청소년이 시청해서는 안됩니다.',CLASS_NAME:'type_nineteen',HAS_OUT_LINK:!1},AGE_LIMITED_18:{NAME:'AgeLimited18',MESSAGE_TYPE:'notice',DESCRIPTION:'인증 결과 만 18세 미만으로 확인되어 이 동영상을 시청할 수 없습니다.',CLASS_NAME:'type_adult',HAS_OUT_LINK:!1},AGE_LIMITED_19:{NAME:'AgeLimited19',MESSAGE_TYPE:'notice',DESCRIPTION:'인증 결과 19세 미만으로 확인되어 이 동영상을 시청할 수 없습니다.',CLASS_NAME:'type_nineteen',HAS_OUT_LINK:!1},AGE_LIVE_19:{NAME:'AgeLimitedLive19',MESSAGE_TYPE:'notice',DESCRIPTION:'본 방송은 미성년자가 시청하기에 적합하지 않은 터프한 방송입니다. 미성년자는 터프한 방송 시청이 제한됩니다.',CLASS_NAME:'type_tough',HAS_OUT_LINK:!1},AUDIO_COPYRIGHT:{NAME:'AudioCopyright',MESSAGE_TYPE:'notice',DESCRIPTION:'음원 저작권자의 권리보호를 위해 재생 차단되었습니다.',CLASS_NAME:'message_info outlink_none',HAS_OUT_LINK:!1},CARRIER:{NAME:'CARRIER',MESSAGE_TYPE:'confirm',DESCRIPTION:'3G/4G환경에서는 데이터 요금이<br />발생할 수 있습니다.',CLASS_NAME:'message_popup background_alpha',LINK_TYPE:'normal'},CLEANCENTER_TEMPORARY_RIGHTVIOLATIONS:{NAME:'CleanCenterTemporaryRightViolations',MESSAGE_TYPE:'notice',DESCRIPTION:'해당 콘텐츠는 권리침해 신고로 임시 조치 되었습니다.',CLASS_NAME:'message_info',LINK_TYPE:'qna'},CODEC_NOT_INSTALLED:{NAME:'CodecNotInstalled',MESSAGE_TYPE:'notice',DESCRIPTION:'윈도우에서 HTML5플레이어로 재생하기 위해서는<br /> 윈도우 미디어 기능팩 설치가 필요합니다.',CLASS_NAME:'message_info',LINK_TYPE:'qna',LINK_URL:'https://cs.kakao.com/helps?category=242&device=659&locale=ko&service=53&articleId=1073187747&page=1'},ENCODING_NOT_COMPLETED:{NAME:'EncodingNotCompleted',MESSAGE_TYPE:'process',DESCRIPTION:'동영상 인코딩 중입니다.<br /> 잠시 후 다시 확인해주세요.',CLASS_NAME:'message_popup',LINK_TYPE:'refresh'},EXCEEDED_ALLOWANCE:{NAME:'ExceededAllowance',MESSAGE_TYPE:'notice',DESCRIPTION:'허용된 방송 시청자수를 초과하였습니다.',CLASS_NAME:'message_info outlink_none'},FAILED_ENCODING:{NAME:'FailedEncoding',MESSAGE_TYPE:'notice',DESCRIPTION:'동영상을 등록할 수 없습니다. 다시 업로드 해주세요.',CLASS_NAME:'message_info outlink_none'},GEO_BLOCKED:{NAME:'GeoBlocked',MESSAGE_TYPE:'notice',DESCRIPTION:'해당 국가에서의 접근은 금지되어 있습니다.',CLASS_NAME:'message_info outlink_none'},LINEAR_LIVE:{NAME:'LinearLive',MESSAGE_TYPE:'confirm',DESCRIPTION:'tvingTV 채널 방송은<br /> 카카오TV 라이브앱에서 재생할 수 있습니다.',CLASS_NAME:'message_popup',LINK_TYPE:'web2app'},LIVE_OFF:{NAME:'LiveFinished',MESSAGE_TYPE:'notice',DESCRIPTION:'라이브가 종료되었습니다.',CLASS_NAME:'message_info outlink_none thumbnail_img'},LIVE_EXCEPTION:{NAME:'LiveException',MESSAGE_TYPE:'notice',DESCRIPTION:'라이브가 종료되었거나, 재생이 원활하지 않습니다.',CLASS_NAME:'message_info outlink_none thumbnail_img'},LIVE_SERVER_ERROR:{NAME:'LivefarmServerError',MESSAGE_TYPE:'notice',DESCRIPTION:'현재 이용자가 많아 <br />접속이 원활하지 않습니다.',CLASS_NAME:'message_info outlink_none'},LAUNCH_APP:{NAME:'LAUNCH_APP',MESSAGE_TYPE:'confirm',DESCRIPTION:'HD화질 시청을 위해 카카오TV 라이브앱으로<br /> 연결합니다. 설치가 안된 경우 설치하시겠습니까?',CLASS_NAME:'message_popup background_alpha',LINK_TYPE:'normal'},NEED_19_LOGIN:{NAME:'Need19Login',MESSAGE_TYPE:'notice',DESCRIPTION:'19금 컨텐츠에 접근하기 위해서는 로그인이 필요합니다.',CLASS_NAME:'type_nineteen',LINK_TYPE:'auth'},NEED_AUTH:{NAME:'NeedAuth',MESSAGE_TYPE:'notice',DESCRIPTION:'본인인증이 필요합니다.',CLASS_NAME:'type_nineteen',LINK_TYPE:'auth'},NEED_AUTH_18:{NAME:'NeedAuth18',MESSAGE_TYPE:'notice',DESCRIPTION:'이 영상물은 청소년관람불가 등급으로 만 18세 미만의 청소년은 시청할 수 없습니다.',CLASS_NAME:'type_adult',LINK_TYPE:'auth'},NEED_AUTH_19:{NAME:'NeedAuth19',MESSAGE_TYPE:'notice',DESCRIPTION:'이 정보내용은 청소년유해매체물로서 정보통신망 이용 촉진 및 정보보호 등에 관한 법률 및 청소년 보호법에 따라 19세 미만의 청소년이 이용할 수 없습니다.',CLASS_NAME:'type_nineteen',LINK_TYPE:'auth'},NEED_AUTH_LIVE_19:{NAME:'NeedAuthLive19',MESSAGE_TYPE:'notice',DESCRIPTION:'터프한 방송은 비속어 또는 일부 폭력적인 영상이 포함되어 있어 19세 미만의 청소년은 시청할 수 없습니다.',CLASS_NAME:'type_tough',LINK_TYPE:'auth'},NEED_CHANNEL:{NAME:'NeedChannel',MESSAGE_TYPE:'notice',DESCRIPTION:'하나 이상의 채널이 필요합니다.',CLASS_NAME:'message_info'},NEED_JOIN_AGREEMENT:{NAME:'NeedJoinAgreement',MESSAGE_TYPE:'confirm',DESCRIPTION:'가입 동의가 필요합니다.',CLASS_NAME:'message_info background_alpha',LINK_TYPE:'normal'},NEED_LOGIN:{NAME:'NeedLogin',MESSAGE_TYPE:'confirm',DESCRIPTION:'로그인이 필요한 방송입니다.<br /> 카카오TV 라이브앱에서 시청할 수 있습니다.',CLASS_NAME:'message_popup background_alpha',LINK_TYPE:'web2app'},NEED_PASSWORD:{NAME:'NeedPassword',MESSAGE_TYPE:'confirm',DESCRIPTION:'비밀번호 방송은 카카오TV 라이브앱에서만 재생할 수 있습니다.',CLASS_NAME:'message_popup background_alpha',LINK_TYPE:'web2app'},NO_OWNERSHIP:{NAME:'NoOwnership',MESSAGE_TYPE:'notice',DESCRIPTION:'권한이 없습니다.',CLASS_NAME:'message_info outlink_none'},NOT_FOUND:{NAME:'NotFound',MESSAGE_TYPE:'notice',DESCRIPTION:'존재하지 않거나 삭제된 영상입니다.',CLASS_NAME:'message_info outlink_none'},NOT_OPEN:{NAME:'NotOpenClipOrLive',MESSAGE_TYPE:'notice',DESCRIPTION:'비공개된 영상입니다.',CLASS_NAME:'message_info outlink_none'},RIGHT_VIOLATION:{NAME:'RightViolations',MESSAGE_TYPE:'notice',DESCRIPTION:'해당 콘텐츠는 권리침해 신고로 <br /> 임시 접근 금지되었습니다.',CLASS_NAME:'message_info',LINK_TYPE:'qna'},UNAVAILABLE:{NAME:'UNAVAILABLE',MESSAGE_TYPE:'notice',DESCRIPTION:'동영상을 재생할 수 없습니다.',CLASS_NAME:'message_info outlink_none',LINK_TYPE:'refresh'},VIOLATION:{NAME:'Violation',MESSAGE_TYPE:'notice',DESCRIPTION:'규제되었습니다.',CLASS_NAME:'message_info'},VIDEO_COPYRIGHT:{NAME:'VideoCopyright',MESSAGE_TYPE:'notice',DESCRIPTION:'저작권자의 권리보호를 위해 재생 차단되었습니다.',CLASS_NAME:'message_info outlink_none'},OPERATION_POLICY:{NAME:'OperationPolicy',MESSAGE_TYPE:'notice',DESCRIPTION:'카카오TV 운영정책 위반으로 규제 되었습니다.',CLASS_NAME:'message_info'},LEGACY_PLAYER_NOTICE:{NAME:'LegacyPlayerNotice',MESSAGE_TYPE:'notice',DESCRIPTION:'최신 버전의 카카오 TV 플레이어에서만 <br /> 바로 재생이 가능합니다. 재생하시려면 <br />아래 확인 버튼을 눌러 주세요.',CLASS_NAME:'message_info message_type1',LINK_TYPE:'redirect',LINK_URL:'https://cs.kakao.com/requests?category=298&locale=ko&service=53'},UNAVAILABLE_ADBLOCK:{NAME:'UNAVAILABLE_ADBLOCK',MESSAGE_TYPE:'notice',DESCRIPTION:'동영상을 재생할 수 없습니다.<br /> 광고 차단 프로그램이 원인일 수 있으므로 <br />해제 또는 삭제 후 재생하시기 바랍니다.',CLASS_NAME:'message_info outlink_none',LINK_TYPE:'refresh'},NETWORK_OFFLINE:{NAME:'NETWORK_OFFLINE',MESSAGE_TYPE:'notice',DESCRIPTION:'네트워크 상태를 확인해주세요.',CLASS_NAME:'message_info outlink_none',LINK_TYPE:'refresh'}}},e.HTTP={TYPE:{XML:'xml',JSON:'json',TEXT:'text'},METHOD:{GET:'get',POST:'post',PUT:'put'}},e.SHAKA={CONFIGURE:{PC:{abr:{defaultBandwidthEstimate:25e5,bandwidthUpgradeTarget:.8,switchInterval:2},manifest:{retryParameters:{maxAttempts:2}},streaming:{rebufferingGoal:4,bufferingGoal:10,retryParameters:{baseDelay:5e3,maxAttempts:1,timeout:6e4}}},MOBILE:{abr:{defaultBandwidthEstimate:125e4,bandwidthUpgradeTarget:.8,switchInterval:2},manifest:{retryParameters:{maxAttempts:2}},streaming:{rebufferingGoal:4,bufferingGoal:10,retryParameters:{baseDelay:5e3,maxAttempts:1,timeout:6e4}}}}},e.SHAKA.ERROR={HTTP_ERROR:{CODE:1002},BAD_HTTP_STATUS:{CODE:1001},MEDIA_FORMAT_ERROR:{CODE:3016}},e.QOE={EVENT:{PLAYBACK_FAIL:'playback_fail',REBUFFERING:'rebuffering',SEEK:'seek',RESOLUTION_CHANGE:'resolution_change',INITIAL_DELAY:'initial_delay',BANDWIDTH:'bandwidth',FRAME_DROP:'frame_drop'}},e.PLAYER_CALLBACK_NAME={notReadyCallback:'notReadyCallback',onAddPlaylist:'onAddPlaylist',onCheckNextVideo:'onCheckNextVideo',onChangeAutoPlayMode:'onChangeAutoPlayMode',onKakaoIframeAPIReady:'onKakaoIframeAPIReady',onEndAutoPlayTimer:'onEndAutoPlayTimer',onFullScreenChange:'onFullScreenChange',onLoadedContentVideo:'onLoadedContentVideo',onMeasureHeight:'onMeasureHeight',onClickEventStart:'onClickEventStart',onPlayError:'onPlayError',onPlayCancel:'onPlayCancel',onReadyComplete:'onReadyComplete',onReadyVideo:'onReadyVideo',onStartImpression:'onStartImpression',onStartLoadVideo:'onStartLoadVideo',onTouchEventStart:'onTouchEventStart',onTouchEventEnd:'onTouchEventEnd',onVideoStateChange:'onVideoStateChange',onWideScreenChange:'onWideScreenChange',onPlayStart:'onPlayStart',onPlayEnd:'onPlayEnd',onPlayInlineStart:'onPlayInlineStart',onPlayInlineEnd:'onPlayInlineEnd',onChangeEmpathyStatus:'onChangeEmpathyStatus',onReceiveToastMessage:'onReceiveToastMessage',onClickPlayerExitButton:'onClickPlayerExitButton',onHandleLogin:'onHandleLogin'},e.PLAYER_VIDEO_STATE={PLAYING:'playing',PLAY:'play',PAUSE:'pause',PASSED:'passed',ENDED:'ended'},e.PLAYER_CLICK_ACTION={PLAY:'play',PAUSE:'pause'},e.TRACKING_OFF_PARAM='tk=off',t.constants=e}(window.monet=void 0===window.monet?{}:window.monet),function(t,f){'use strict';var a,m=t.ENV,o=window.ua_result,c=t.constants,v=t.helpers={http:{ajax:function(t,e,n){if(n=n||{},'function'==typeof e){var i=e;(e={}).onSuccess=i}try{var o=n.async,r=n.type?n.type:c.HTTP.TYPE.STRING,a=n.method?n.method:c.HTTP.METHOD.GET,s=n.params||null,u=new XMLHttpRequest;if(u.open(a,t,o),u.onreadystatechange=function(){if(4===u.readyState){var t=r===c.HTTP.TYPE.XML?u.responseXML:u.responseText;if(r===c.HTTP.TYPE.JSON&&t&&t)try{t=JSON.parse(t)}catch(t){v.debug.error(t.message)}200===u.status?e.onSuccess(t):'function'==typeof e.onError&&e.onError(t)}},n.withCredentials&&(u.withCredentials=!0),n.async&&0<n.timeout&&'function'==typeof e.onTimeout&&(u.timeout=n.timeout,u.ontimeout=e.onTimeout),u.setRequestHeader('Content-Type',n&&n.contentType?n.contentType:'application/x-www-form-urlencoded'),n&&n.headers)for(var l in n.headers)u.setRequestHeader(l,n.headers[l]);u.send(s)}catch(t){'function'==typeof e.onError&&e.onError()}},sendBeacon:function(t){var e=new Image;return e.src=t,e}},debug:(a=!0===window.isDebug,{isDebug:function(){return a},setDebug:function(t){a=t},log:function(){a&&f.log.apply(null,arguments)},debug:function(){a&&f.debug.apply(null,arguments)},info:function(){a&&f.info.apply(null,arguments)},warn:function(){a&&f.warn.apply(null,arguments)},error:function(){a&&f.error.apply(null,arguments)},table:function(){a&&f.table.apply(null,arguments)},group:function(){a&&f.group.apply(null,arguments)},groupEnd:function(){a&&f.groupEnd.apply(null,arguments)},groupCollapsed:function(){a&&f.groupCollapsed.apply(null,arguments)},tooltip:function(t,e){if(a){var n=document.createElement('div'),i=f.$$('.debug_tooltip div').length;n.innerHTML=t+e,f.$$('.debug_tooltip')[0].appendChild(n),f.classList.add(n,'visible'),f.classList.remove(n,'hidden');var o=this,r=setTimeout(function(){o.hideTooltip(n),clearTimeout(r)},1700*(i+1))}},hideTooltip:function(t){f.classList.add(t,'hidden'),f.classList.remove(t,'visible'),this.removeTooltip(t)},removeTooltip:function(t){setTimeout(function(){f.$$('.debug_tooltip')[0].removeChild(t)},1500)}}),device:{getDteType:function(t){return'ios'===t.os.name?'tablet'===t.platform?c.DTE_TYPE.IPAD:c.DTE_TYPE.IPHONE:'android'===t.os.name?c.DTE_TYPE.ANDROID:'pc'===t.platform?c.DTE_TYPE.PC:c.DTE_TYPE.ETC},isTV:function(t){var e;return e=t,['netcast','smarttv','smart-tv'].some(function(t){return-1!==e.ua.indexOf(t)})},isDaumApp:function(t){return!(!t.app.isApp||'daumapps'!==t.app.name)},isDaumAppForAllowInline:function(t){var e;return!(!t.os.ios||!this.isDaumApp(t))&&(5<(e=t.app.version).major||4<e.major&&4<e.minor&&1<e.patch)},isSupportUniversalLinks:function(t){return 8<parseInt(t.os.version.major,10)&&t.os.ios},isSupportMutedControl:function(t){return!(t.os.ios&&t.os.version.major<=9)},isPCWithSafari:function(t){return!(!('pc'===t.platform)||!t.ua.match(/version\/[\d.]+.*safari/))},isSupportInlinePlayOnIOS:function(t){return t.os.ios&&m.playsinline},isSupportInlinePlayOnPC:function(t){var e='pc'===t.platform,n=t.browser.msie,i=n&&t.browser.version.major<9;return e&&(!n||!i)},isIMASupportedBrowser:function(t){var e='pc'===t.platform,n=t.browser.msie,i=n&&t.browser.version.major<11,o=t.os.version.major,r=t.os.version.minor,a=t.os.android&&(4<o||3<o&&3<r);return!(!e||n&&i)||!t.os.ios&&!!a},isSupportInlinePlay:function(t){if(this.isSupportInlinePlayOnIOS(t))return!0;if(this.isSupportInlinePlayOnPC(t))return!0;var e=t.os.android&&4<=t.browser.version.major,n=t.browser.ipad,i=t.browser.chrome,o=/smarttv/gi.test(t.ua);return e||n||i||o},isSupportCustomController:function(t){return!!this.isSupportInlinePlay(t)&&!(/LG-\wU540/gi.test(t.ua)||/KM-S220/gi.test(t.ua)||4===t.os.version.major&&0===parseInt(t.os.version.minor)&&/ IM-[AT]/gi.test(t.ua)||4===t.os.version.major&&0===parseInt(t.os.version.minor)&&/ SHV-E160/gi.test(t.ua)||4===t.os.version.major&&0===parseInt(t.os.version.minor)&&/ SHW-M250/gi.test(t.ua))},isSupportAd:function(t){if(this.isSupportCustomController(t))return!0;var e=t.ua,n=t.os.version.major,i=t.os.version.minor;return!(/LG-\w180/gi.test(e)&&4===n&&i<2)&&void 0},isFacebookWebview:function(){try{return/.*FBIOS.*/.test(window.navigator.userAgent)}catch(t){}return!1}},env:{phase:m.phase.toUpperCase(),isReal:function(){return this.phase===c.PHASE.REAL},isBeta:function(){return this.phase===c.PHASE.BETA},isSandbox:function(){return this.phase===c.PHASE.SANDBOX},isLocal:function(){return this.phase===c.PHASE.LOCAL}},feature:{supportsHLS:function(){var t=document.getElementById(c.ID.VIDEO_ELEMENT);return!(!t.canPlayType||!t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,''))},supportsH264:function(){var t=document.getElementById(c.ID.VIDEO_ELEMENT);return!(!t.canPlayType||!this.canPlayType(o,t,'video/mp4; codecs="avc1.42E01E"')&&!this.canPlayType(o,t,'video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))},getVideoExtra:function(t){return'HIGH'===t?'1':'MAIN'===t?'2':'BASE'===t?'3':'4'},supportsHLSAndroid:function(){var t=o.os.version,e=o.os.android&&(4<t.major||3<t.major&&3<t.minor),n=o.browser.chrome&&35<o.browser.version.major;return!!(e&&n&&this.supportsHLS())},canPlayType:function(t,e,n){var i=t.os.version;return'ios'===t.os&&i.major<=4&&i.minor<2?'probably'===e.canPlayType(n)||'maybe'===e.canPlayType(n):'probably'===e.canPlayType(n)},supportsVideoProfile:function(t){for(var e in c.PROFILE)if(c.PROFILE.hasOwnProperty(e)&&t===e)return!0;return!1}},model:{clipBean:function(t,e,n,i,o,r,a,s,u,l,c,d,h,p,f,m,v,g,y,E,b,T,w,_,A,L,S,I){return{id:n,vid:t,channelId:e,clipId:i,userId:o,videoUrl:null,status:r,profile:a,type:s,thumbnailList:l,coverUrl:u,duration:c,xylophoneReq:null,prerollReq:null,midrollReq:null,postrollReq:null,vmapReq:null,dsp:'etc',tracking:{pvt:null,pct:null,qoe:null},title:d,canScrap:h,shouldGeoBlock:p,hasPlusFriend:f,plusFriendProfile:m,isOpen:g,isLegacy:v,isVertical:y,ageLimit:E,tid:b,wasLive:T,playingInfo:w,outputList:{},login:_,owner:A,playCount:L,channelName:S,profileImageUrl:I,skipOnErrorOfAdApi:!1,skipOnErrorOfAdContents:!1,seekUrl:null,abrVideoLocationList:null}},adClipBean:function(t,e,n,i,o,r,a,s,u,l,c,d,h){return{id:t,videoUrl:e,type:n,breakId:i,breakType:o,timeOffset:r,skipOffset:a,ad:s,creative:u,extension:l,clickUrl:c,dsp:d||'etc',adIndexLabel:h}},liveBean:function(t,e,n,i,o,r,a,s,u,l,c,d,h,p,f,m,v,g,y,E,b,T,w,_,A){return{id:e,channelId:t,liveId:n,userId:i,videoUrl:null,status:o,profile:r,type:a,coverUrl:s,xylophoneReq:null,prerollReq:null,midrollReq:null,postrollReq:null,vmapReq:null,tracking:{pvt:null,pct:null},title:l,contentType:'',liveType:c,canScrap:d,shouldGeoBlock:h,hasPlusFriend:p,isOpen:f,ageLimit:m,needPassword:v,ccuCount:g,tid:y,playingInfo:E,login:b,owner:T,channelName:w,profileImageUrl:_,skipOnErrorOfAdApi:!1,skipOnErrorOfAdContents:!1,coverThumbnailUrl:A}}},date:{hhmmssToDate:function(t){if(t){var e=t.split(':'),n=new Date;return n.setHours(+e[0]),n.setMinutes(e[1]),n.setSeconds(e[2]),n}return null}},fullscreen:{request:function(t){t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.webkitSupportsFullscreen&&t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.requestFullscreen()},cancel:function(t){var e=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;e&&e.call(t)},isAvailable:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},isFullScreen:function(){var t=document.getElementById(c.ID.VIDEO_ELEMENT);return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)||t.webkitDisplayingFullscreen}},string:{escapeHtml:function(t){return t.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;')},jsonToQueryString:function(t){if('object'==typeof t){var e='';for(var n in t)e+=n+'='+t[n]+'&';return e=e.slice(0,e.length-1)}},timeToString:function(t){var e=Math.floor(t%60),n=Math.floor(t/60),i=Math.floor(n/60);return(n=Math.floor(n%60))<10&&(n='0'+n),e<10&&(e='0'+e),(0<i?i+':':'')+n+':'+e},delimitNumbers:function(t){return(t+'').replace(/\b(\d+)((\.\d+)*)\b/g,function(t,e,n){return(0<e.charAt(0)&&!(n||'.').lastIndexOf('.')?e.replace(/(\d)(?=(\d{3})+$)/g,'$1,'):e)+n})},format:function(t,e){for(var n in e)if(e.hasOwnProperty(n)&&n){var i=e[n];null==i&&(i=''),'string'==typeof i&&(i=i.replace('$','$$$$')),t=t.replace('#{'+n+'}',i)}return t},getThumbnailFarmUrl:function(t,e){return t?(t=e?t.replace(/thumb\/(.+)\/\?fname/,'thumb/'+e+'.q50.fjpeg/?fname'):t.replace(/thumb\/(.+)\/\?fname/,'thumb/$1.q50.fjpg/?fname'),v.string.format(c.URL.THUMBNAIL_FARM_URL,{type:e,url:t})):''}},orientation:{getOrientation:function(){if(e('opera')&&e('windows ce'))return window.screen.width>window.screen.height?'landscape':'portrait';var t=document.documentElement||document.body;return t.clientWidth>t.clientHeight?'landscape':'portrait'}},window:{openPopup:function(t,e,n){v.fullscreen.isFullScreen()&&'pc'===o.platform&&v.fullscreen.cancel(document);var i=window.open(t,e,n);i.focus(),i.opener=null}},url:{getParameter:function(t){if(window.location.search){var e=new RegExp(t+'=([^&]*)').exec(window.location.search.substring(1));if(e)return decodeURIComponent(e[1])}},setParameter:function(t,e,n){return''===(t=this.removeParameter(t,e))&&(t='?'),1<t.length&&(t+='&'),t+e+'='+encodeURIComponent(n)},removeParameter:function(t,e){'?'===t[0]&&(t=t.substring(1));for(var n=t.split('&'),i=[],o=0;o<n.length;o++)n[o].split('=')[0]!==e&&i.push(n[o]);return 0<(t=i.join('&')).length&&(t='?'+t),t}},store:{set:function(t,e,n){var i=new Date,o=24*(n||365)*60*60*1e3;i.setTime(i.getTime()+o+324e5);var r=i.toGMTString();v.storage.setItem(t,e,r),v.cookie.setItem(t,e,r)},get:function(t){if(!v.storage.enabled&&!v.cookie.enabled)return null;var e=v.storage.getItem(t);return e&&''!==e||(e=v.cookie.getItem(t)),e}},cookie:function(){var e,n,r=!0;try{var t=new Date;t.setTime(t.getTime()+1e3),o('testcookie','test',t),r=!!i('testcookie'),function(t){var e=new Date;e.setTime(e.getTime()-864e5);var n='expires='+e.toGMTString();document.cookie=t+'=; '+n}('testcookie')}catch(t){r=!1,e=t,r=!(n='cookie setItem error'),f.error(e,n)}function i(t){if(r){var e,n=t+'=',i=document.cookie,o=i.indexOf(n);if(-1!==o)return o+=n.length,-1===(e=i.indexOf(';',o))&&(e=i.length),decodeURIComponent(i.substring(o,e))}return''}function o(t,e,n){if(r){var i='expires='+n;document.cookie=t+'='+e+'; '+i}}return{enabled:r,setItem:o,getItem:i}}(),storage:function(o){var r=!0;function a(t,e){r=!1,f.error(t,e)}try{o.localStorage.setItem('t',1),o.localStorage.removeItem('t')}catch(t){r=!1}return{enabled:r,forEach:function(t){var e,n=[],i=o.localStorage.length;for(e=0;e<i;e+=1)n.push(o.localStorage.key(e));for(e=0;e<i;e+=1)t(n[e],e)},setItem:function(t,e,n){var i={value:e,expires:n};if(r)try{o.localStorage.setItem(t,JSON.stringify(i))}catch(t){a(t,'storage setItem error')}},getItem:function(e){var t;if(r){t=o.localStorage.getItem(e);try{return t&&(t=JSON.parse(t),!this.isExpiredTime(e,t.expires))?t.value:''}catch(t){this.removeItem(e),a(t,'storage getItem error')}}return''},isExpiredTime:function(t,e){var n=!0,i=new Date,o=i.getTime(),r=(i=new Date(e)).getTime();return r&&((o=parseInt(o,10))<(r=parseInt(r,10))?n=!1:(v.debug.info('remove',t,'from localstorage'),this.removeItem(t))),n},removeItem:function(t){if(r)try{o.localStorage.removeItem(t)}catch(t){a(t,'storage removeItem error')}}}}(window),webapi:{clipboard:{isSupportQueryCommand:function(){return document.queryCommandSupported('copy')},copyNode:function(t){if(o.os.ios){var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(e),t.setSelectionRange(0,999999)}else t.select();try{var i=document.execCommand('copy')?'successful':'unsuccessful';v.debug.log('Copy url command was ',i)}catch(t){v.debug.log('Oops, unable to copy')}},copyText:function(t){var e=function(t){var e=document.createElement('input');return e.value=t,e}(t);this.el?(this.el.appendChild(e),v.webapi.clipboard.copyNode(e),this.el.removeChild(e)):(document.body.appendChild(e),v.webapi.clipboard.copyNode(e),document.body.removeChild(e))}},share:{},network:{getConnection:function(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection},isWifi:function(){var t=this.getConnection();return t&&'wifi'===t.type}}},traversal:{nextAll:function(t){for(var e=[t];t.nextElementSibling;)e.push(t=t.nextElementSibling);return e}},ui:{createSpinner:function(){var t=document.createElement('div');t.style.display='none',t.className='indicator';var e=document.createElement('canvas');e.width=200,e.height=200,t.appendChild(e);var n=e.getContext('2d'),i=.1,o=.005,r=0,a=1;function s(t,e){n.beginPath(),n.arc(100,100,30,t,e,!1),n.lineCap='round',n.strokeStyle='rgba(255,255,255,0.7)',n.lineWidth=5,n.stroke()}function u(){if(n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),s((1+i+r)*Math.PI,(2-i+r)*Math.PI),s((0+i+r)*Math.PI,(1-i+r)*Math.PI),r+=.04,10<a)a=0;else if(0<a)return void a++;.49<=(i+=o)&&(o*=-1,a=1),i<.1&&(o*=-1,a=1),n.restore()}var l,c={el:t,isStart:!1,start:function(){c.isStart||(c.isStart=!0,i=.1,o=.005,a=1,t.style.display='',l=setInterval(u,1e3/60))},end:function(){t.style.display='none',clearInterval(l),c.isStart=!1}};return c},preventDoubleClick:function(t){'BUTTON'===t.tagName&&(t.disabled=!0,setTimeout(function(){t.disabled=!1},500))}},sdk:{getDefaultCallbackParams:function(t){var e;return t.type===c.VIDEO_TYPE.VOD?e=[t.vid,t.type,t.id]:t.type===c.VIDEO_TYPE.LIVE&&(e=[null,t.type,t.id]),e},sendEventCallback:function(t,e){var n=[];c.PLAYER_CALLBACK_NAME.hasOwnProperty(t)?(void 0!==e&&e instanceof Array&&(n=e),window.apiMessenger&&window.apiMessenger.sendCallback(t,n)):v.debug.warn('[event callback] name or parameter is not valid')}},polyfill:{getProps:function(t){for(var e=['','webkit','moz','ms','o'],n=document.createElement('div'),i=0,o=e.length;i<o;i++){var r=e[i]?e[i]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==n.style[r])return r}}},web2app:{launchKakaoTV:function(t,e,n){var i,o=v.device.isSupportUniversalLinks(t),r={ios:'kakaotvlive',android:'kakaotvlive'};i=t.os.android?'android':'ios';var a='com.kakao.playball';'real'!==m.phase&&'beta'!==m.phase&&(r.android=r.android+m.phase,r.ios=r.ios+m.phase,a=a+'.'+m.phase);var s={ios:r.ios+'://live?liveLinkId='+e+'&profile='+n+'&from='+m.service,android:r.android+'://live?liveLinkId='+e+'&profile='+n+'&from='+m.service},u='ios'===i?'https://itunes.apple.com/kr/app/id1180460837':'https://play.google.com/store/apps/details?id=com.kakao.playball',l='intent://live?liveLinkId='+e+'&profile='+n+'&from='+m.service,c='#Intent;scheme='+r.android+';action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package='+a+';S.browser_fallback_url='+encodeURIComponent(u)+';end',d='https://tv.kakao.com/scheme/live?liveLinkId='+e+'&profile='+n+'&from='+m.service,h='/appbridge',p={urlScheme:s[i],intentURI:l+c,appName:'카카오 TV',storeURL:u,onAppMissing:function(){top!==self?top.location.href=h:window.open(h,'blank')}};o&&(p.universalLink=d),f.web2app(p)},launchPlusFriend:function(t,e){var n;n=t.os.android?'android':'ios';var i='kakaoplus';'real'!==m.phase&&(i='alphaplus');var o={android:i+'://plusfriend/home/'+encodeURIComponent(e),ios:i+'://plusfriend/home/'+encodeURIComponent(e)},r='intent://plusfriend/home/'+encodeURIComponent(e);v.debug.log('urlScheme: '+o[n]);var a={urlScheme:o[n],intentURI:r+'#Intent;scheme=kakaoplus;package=com.kakao.talk;end',appName:'플러스친구',storeURL:'itms-apps://itunes.apple.com/kr/app/da-eum-daum/id365494029?mt=8',onAppMissing:function(t){try{'function'==typeof window.top.goStore&&window.top.goStore(t)}catch(t){v.debug.error('An error has occurred: '+t.message)}}};f.web2app(a)}}};function e(t){return-1!==navigator.userAgent.toLowerCase().indexOf(t)}}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),this.monet=this.monet||{},this.monet.template=this.monet.template||{},this.monet.template.m_clip_list=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('clipList',t,e,1),t,e,0,13,413,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li>'),n.b('\n'+i),n.b('    <a href="'),n.b(n.v(n.f('linkUrl',t,e,0))),n.b('" data-cliplink-id="'),n.b(n.v(n.f('clipLinkID',t,e,0))),n.b('" data-clip-id="'),n.b(n.v(n.f('clipID',t,e,0))),n.b('"'),n.b('\n'+i),n.b('       data-channel-id="'),n.b(n.v(n.f('channelID',t,e,0))),n.b('"'),n.b('\n'+i),n.b('       data-feedback-id="'),n.b(n.v(n.f('feedbackID',t,e,0))),n.b('" class="link_vod">'),n.b('\n'+i),n.b('        <span class="thumb_box">'),n.b('\n'+i),n.b('            <img src="'),n.b(n.v(n.f('imageUrl',t,e,0))),n.b('" width="184" height="104" alt="">'),n.b('\n'+i),n.b('            <strong>'),n.b(n.v(n.f('title',t,e,0))),n.b('</strong>'),n.b('\n'+i),n.b('            <span>'),n.b(n.v(n.f('duration',t,e,0))),n.b('</span>'),n.b('\n'+i),n.b('        </span>'),n.b('\n'+i),n.b('    </a>'),n.b('\n'+i),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.s(this.f('noDataList',t,e,1),t,e,0,442,471,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li>'),n.b('\n'+i),n.b(n.rp('<noData0',t,e,'    ')),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{'<noData0':{name:'noData',partials:{},subs:{}}},subs:{}}),this.monet.template.pc_clip_list=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('clipList',t,e,1),t,e,0,13,379,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li>'),n.b('\n'+i),n.b('    <a href="'),n.b(n.v(n.f('linkUrl',t,e,0))),n.b('" data-cliplink-id="'),n.b(n.v(n.f('clipLinkID',t,e,0))),n.b('" data-clip-id="'),n.b(n.v(n.f('clipID',t,e,0))),n.b('"'),n.b('\n'+i),n.b('       data-channel-id="'),n.b(n.v(n.f('channelID',t,e,0))),n.b('"'),n.b('\n'+i),n.b('       data-feedback-id="'),n.b(n.v(n.f('feedbackID',t,e,0))),n.b('" class="link_item">'),n.b('\n'+i),n.b('        <img src="'),n.b(n.v(n.f('imageUrl',t,e,0))),n.b('" class="thumb_item" alt="">'),n.b('\n'+i),n.b('        <em class="tit_item">'),n.b(n.v(n.f('title',t,e,0))),n.b('</em>'),n.b('\n'+i),n.b('        <span class="txt_count">조회수 '),n.b(n.v(n.f('viewCount',t,e,0))),n.b('</span>'),n.b('\n'+i),n.b('    </a>'),n.b('\n'+i),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.s(this.f('noDataList',t,e,1),t,e,0,408,437,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li>'),n.b('\n'+i),n.b(n.rp('<noData0',t,e,'    ')),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{'<noData0':{name:'noData',partials:{},subs:{}}},subs:{}}),this.monet.template.cover_profile_list=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('outputs',t,e,1),t,e,0,12,123,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<button data-profile="'),n.b(n.v(n.f('profileName',t,e,0))),n.b('" class="btn_quality '),n.b(n.v(n.f('profileOn',t,e,0))),n.b('">'),n.b(n.v(n.f('profileLabel',t,e,0))),n.b(n.t(n.f('supHD',t,e,0))),n.b('</button>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{},subs:{}}),this.monet.template.link_info=new Hogan.Template({code:function(t,e,n){return this.b(n=n||''),this.b('<a href="'),this.b(this.v(this.f('infoUrl',t,e,0))),this.b('" target="_blank" class="link_info">문의하기</a>'),this.fl()},partials:{},subs:{}}),this.monet.template.extension_profile_list=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('outputs',t,e,1),t,e,0,12,149,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li class = "'),n.b(n.v(n.f('profileOn',t,e,0))),n.b('">'),n.b('\n'+i),n.b('    <button data-profile="'),n.b(n.v(n.f('profileName',t,e,0))),n.b('" class="link_quality">'),n.b(n.v(n.f('profileLabel',t,e,0))),n.b(n.t(n.f('supHD',t,e,0))),n.b('</button>'),n.b('\n'+i),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{},subs:{}}),this.monet.template.clip_cover_image=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('thumbnails',t,e,1),t,e,0,15,195,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li class="'),n.b(n.v(n.f('className',t,e,0))),n.b('">'),n.b('\n'+i),n.b('    <a href="#none" class="link_cover" data-thumbnail-index="'),n.b(n.v(n.f('imageIndex',t,e,0))),n.b('">'),n.b('\n'+i),n.b('        <img src="'),n.b(n.v(n.f('imageSrc',t,e,0))),n.b('" class="thumb_item" alt="">'),n.b('\n'+i),n.b('    </a>'),n.b('\n'+i),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{},subs:{}}),this.monet.template.mobile_profile_text=new Hogan.Template({code:function(t,e,n){var i=this;return i.b(n=n||''),i.b('<span class="img_function">'),i.b('\n'+n),i.b('    <span class="txt_dp">'),i.s(i.f('profileAuto',t,e,1),t,e,0,69,71,'{{ }}')&&(i.rs(t,e,function(t,e,n){n.b('자동')}),t.pop()),i.b(' '),i.b(i.v(i.f('profile',t,e,0))),i.s(i.f('profileHD',t,e,1),t,e,0,113,140,'{{ }}')&&(i.rs(t,e,function(t,e,n){n.b('<sup class="dp_hd">HD</sup>')}),t.pop()),i.b('</span>'),i.b('\n'+n),i.b('</span>화질변경'),i.b('\n'),i.fl()},partials:{},subs:{}}),this.monet.template.pc_profile_list=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('outputs',t,e,1),t,e,0,12,154,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('    <li class="'),n.b(n.v(n.f('profileOn',t,e,0))),n.b('">'),n.b('\n'+i),n.b('        <button data-profile="'),n.b(n.v(n.f('profileName',t,e,0))),n.b('" class="link_dp">'),n.b(n.v(n.f('profileLabel',t,e,0))),n.b(n.t(n.f('supHD',t,e,0))),n.b('</button>'),n.b('\n'+i),n.b('    </li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{},subs:{}}),this.monet.template.profile_text=new Hogan.Template({code:function(t,e,i){var n=this;return n.b(i=i||''),n.s(n.f('profileAuto',t,e,1),t,e,0,16,50,'{{ }}')&&(n.rs(t,e,function(t,e,n){n.b('<span class="txt_auto">자동</span>'),n.b('\n'+i)}),t.pop()),n.b('<span class="txt_num">'),n.b(n.v(n.f('profileText',t,e,0))),n.b('</span>'),n.b('\n'+i),n.s(n.f('profileHD',t,e,1),t,e,0,126,155,'{{ }}')&&(n.rs(t,e,function(t,e,n){n.b('<sup class="dp_hd">HD</sup>'),n.b('\n'+i)}),t.pop()),n.b('<span class="img_player ico_playspeed">'),n.b('\n'+i),n.b('    <span class="screen_out">버튼</span>'),n.b('\n'+i),n.b('</span>'),n.b('\n'),n.fl()},partials:{},subs:{}}),this.monet.template.speed_text=new Hogan.Template({code:function(t,e,n){return this.b(n=n||''),this.b('<span class="speed_txt">'),this.b(this.v(this.f('speedText',t,e,0))),this.b('</span>'),this.fl()},partials:{},subs:{}}),this.monet.template.still_image=new Hogan.Template({code:function(t,e,i){return this.b(i=i||''),this.s(this.f('thumbnails',t,e,1),t,e,0,15,257,'{{ }}')&&(this.rs(t,e,function(t,e,n){n.b('<li>'),n.b('\n'+i),n.b('    <a href="#none" class="link_section" data-time="'),n.b(n.v(n.f('seconds',t,e,0))),n.b('">'),n.b('\n'+i),n.b('        <img src="'),n.b(n.v(n.f('imageSrc',t,e,0))),n.b('" class="thumb_item" alt="">'),n.b('\n'+i),n.b('        <span class="screen_out">구간 타임 : </span>'),n.b('\n'+i),n.b('        <span class="time_num">'),n.b(n.v(n.f('time',t,e,0))),n.b('</span>'),n.b('\n'+i),n.b('    </a>'),n.b('\n'+i),n.b('</li>'),n.b('\n'+i)}),t.pop()),this.fl()},partials:{},subs:{}}),this.monet.template.list_no_data=new Hogan.Template({code:function(t,e,n){return this.b(n=n||''),this.b(' <img src="//t1.daumcdn.net/kakaotv/alpha600.png" class="thumb_item" alt="">'),this.b('\n'+n),this.b(' <img src="/player/image/no_image.svg" class="svg_logo" alt="">'),this.fl()},partials:{},subs:{}}),this.monet.template.profile_auto=new Hogan.Template({code:function(t,e,n){return this.b(n=n||''),this.b('<span class="txt_auto">자동</span>'),this.fl()},partials:{},subs:{}}),this.monet.template.superscript_hd=new Hogan.Template({code:function(t,e,n){return this.b(n=n||''),this.b('<sup class="dp_hd">HD</sup>'),this.fl()},partials:{},subs:{}}),function(o){'use strict';var t=o.ENV,r=window.daumtools;r.__CONSOLE_QUIET='real'===t.phase&&!t.debugMode,o.ua={},o.configure='object'==typeof o.configure?o.configure:{},o.ua=window.ua_result,o.modules={};var a=o.queue=new r.Observable,s=o.Sandbox=r.Class.extend({init:function(t){this.module=t},on:function(e,t){function n(){try{t.apply(i,arguments)}catch(t){r.error('event handler error. event: '+e+', module "'+i.__moduleName__+'"\r\ncaused by '+t.message)}}var i=this.module;n.__original__=t,a.on(e,n)},emit:function(t,e){r.info('module "'+this.module.__moduleName__+'" will fire "'+t+'" event',e||''),a.emit(t,e)},off:function(t,e){a.off(t,e)}});o.init=function(t){var e=o.modules;for(var n in r.group('initialize modules'),e)if(e.hasOwnProperty(n)){var i=e[n];if(i&&i.init)try{i.init(t,new s(i))}catch(t){r.error('failed to initialize module "'+n+'". caused by '+t.message)}else r.warn('Not exsisted module : "'+n+'".')}r.groupEnd()},o.addModule=function(t,e,n){var i=o.modules;if(i[t]&&!n)throw new Error('module "'+t+'" already registered');return(i[t]=e).__moduleName__=t,r.log('module "'+t+'" registered'),e},o.loadModule=function(t){var e=o.modules;if(e[t])return e[t]},o.assert=function(t,e){if(!t)throw new Error(e)}}(window.monet='object'==typeof window.monet?window.monet:{}),function(t){'use strict';var e,n;function i(){this.customControlActivated=null,this.modalContentActivated=null,this.skipAdEnabled=null,this.seekEnabled=null,this.volumeChanging=null,this.seeking=null,this.adControlActivated=null,this.currentVideo=null,this.profile=null,this.completionLoaded=null,this.allAdsCompleted=null,this.pausedBeforeSeek=null,this.isMenuOpened=null,this.startMuted=null,this.mutedBeforeSeek=null,this.ended=null,this.isCheckNextVideo=null,this.autoplay=null,this.hasRelated=null,this.continuousPlay=null,this.isPrerollEnded=null,this.isPostrollEnded=null,this.isNonLinearAdShown=null,this.hasStillVideo=null,this.playbackRate=null,this.needSetTrack=null,this.autoplayFail=null,this.dash=null,this.dashError=null}n=t.helpers.debug,i.prototype.init=function(){this.customControlActivated=!1,this.modalContentActivated=!1,this.skipAdEnabled=!1,this.seekEnabled=!0,this.volumeChanging=!1,this.seeking=!1,this.adControlActivated=!1,this.currentVideo=null,this.profile='MAIN',this.completionLoaded=!1,this.allAdsCompleted=!1,this.pausedBeforeSeek=!1,this.isMenuOpened=!1,this.startMuted=!1,this.mutedBeforeSeek=!1,this.ended=!1,this.isCheckNextVideo=!1,this.autoplay=!1,this.hasRelated=!1,this.continuousPlay=!1,this.isPrerollEnded=!1,this.isPostrollEnded=!1,this.isNonLinearAdShown=!1,this.hasStillVideo=!1,this.playbackRate=1,this.needSetTrack=!1,this.autoplayFail=!1,this.dash=!1,this.dashError=!1,n.info('[state] initialized')},e=i,t.addModule('controller.state',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(n,t){'use strict';function e(){this.videoElement=null}function i(e){o.forEach(function(t){!function(e,t){r.on(t,e,function(t){n.queue.emit('video:'+e,this,t)})}(t,e)})}var o,r;e.prototype=(o=['click','durationchange','ended','error','loadstart','loadeddata','loadedmetadata','canplay','canplaythrough','pause','play','playing','progress','seeked','seeking','timeupdate','volumechange','waiting'],r=t.event,{init:function(t){this.el=this.videoElement=t.videoElement,this.name='html5player',this.type=t.type,i(this.videoElement)},load:function(){this.el.load(),n.queue.emit('load:videosource')},play:function(){if(this.el.paused||this.el.ended)return this.el.play()},pause:function(){this.el.paused||this.el.pause()},stop:function(){this.pause(),this.reset()},reset:function(){this.el.removeAttribute('src')},setVolume:function(t){this.el.volume=t},getVolume:function(){return this.el.volume},setMute:function(t){this.el.muted=t},getMute:function(){return this.el.muted},setTime:function(t){this.el.setAttribute('data-current-time',t)},seekTo:function(t){isNaN(t)||(this.el.currentTime=t)},setVideoSource:function(t){this.el.src!==t&&(this.el.src=t,n.queue.emit('set:videosource'))},setPlaybackRate:function(t,e){return!t||isNaN(t)||e?(t<0&&.25<this.el.playbackRate||0<t&&this.el.playbackRate<2)&&(this.el.playbackRate+=t):this.el.playbackRate=t,this.el.playbackRate},getPlaybackRate:function(){return this.el.playbackRate},getDurationRound:function(){return Math.round(this.el.duration)},getCurrentTimeRound:function(){return Math.round(this.el.currentTime)},getCurrentTime:function(){return this.el.currentTime}}),n.addModule('player.html5',new e)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(n,i){'use strict';var a=n.loadModule('controller.state'),o=n.loadModule('player.html5'),s=n.constants,u=n.helpers,r=u.debug,l=n.ua,c=['adaptation','buffering','drmsessionupdate','emsg','expirationupdated','largegap','loading','streaming','texttrackvisibility','timelineregionadded','timelineregionenter','timelineregionexit','trackschanged','unloading'],d=[],h=s.STORAGE.ABR,p=s.STORAGE.PROFILE;function t(){this.player=null,this.castProxy=null,this.tracks=null,this.videoElement=null,this.key='',this.preDropFrames=0,this.prevProfile=''}function f(t){switch(r.info('%c%s','color: #20b408','[ShakaPlayer] onShakaEvent type = '+t.type,t),t.type){case'adaptation':n.queue.emit('change:stream');break;case'buffering':n.queue.emit('shaka:buffering',t.buffering)}}function m(){a.dash=!1,a.dashError=!0,n.queue.emit('loadAndPlay:videoById',a.currentVideo.id,s.PROFILE.BASE,0,null,Object.assign({},a)),n.queue.emit('shaka:error')}function v(t){var e=s.SHAKA.ERROR;switch(t.code||t.detail.code){case e.HTTP_ERROR.CODE:r.error('%c%s','color: #20b408','[ShakaPlayer] HTTP_ERROR',t);break;case e.MEDIA_FORMAT_ERROR.CODE:r.error('%c%s','color: #20b408','[ShakaPlayer] MEDIA_FORMAT_ERROR',t);break;case e.BAD_HTTP_STATUS.CODE:m();break;default:r.error('%c%s','color: #20b408','[ShakaPlayer] onError ',t),a.autoplayFail?(i.StopWatch.has('startPlay')&&i.StopWatch.stop('startPlay'),i.StopWatch.has('rebuffering')&&i.StopWatch.stop('rebuffering')):m()}}function g(t){var n=[];return t.sort(function(t,e){return t.bandwidth>e.bandwidth?1:t.bandwidth<e.bandwidth?-1:0}),n.push({profile:s.PROFILE.AUTO,label:'자동'}),t.forEach(function(t,e){n.push({profile:e,label:t.originalId?t.originalId:t.originalVideoId})}),n}t.prototype={init:function(t){var e=this;'LIVE'!==o.type&&(this.videoElement||(this.videoElement=t.videoElement),this.player||(this.player=new window.shaka.Player(this.videoElement),this.castProxy=new window.shaka.cast.CastProxy(this.videoElement,this.player,'app ID'),window.shaka.polyfill.installAll(),this.player.configure('pc'===l.platform?s.SHAKA.CONFIGURE.PC:s.SHAKA.CONFIGURE.MOBILE),this.player.addEventListener('error',v),c.forEach(function(t){e.player.addEventListener(t,f)}),n.shakaPlayer=this.player,n.shakaPlayer.castProxy=this.castProxy))},isBrowserSupported:function(){return window.shaka.Player.isBrowserSupported()},setManifestUri:function(t){this.src!==t&&(-1!==t.indexOf('?')&&(this.key=t.substring(t.indexOf('?'),t.length)),this.src=t)},load:function(t){var r=this,e=u.store.get(h),n=u.store.get(p);if(this.unload(),this.player.getNetworkingEngine().registerRequestFilter(function(t,o){t===window.shaka.net.NetworkingEngine.RequestType.SEGMENT&&o&&o.uris&&o.uris.forEach(function(t,e){if(-1===o.uris[e].indexOf('?')&&(o.uris[e]+=r.key),o.headers.Range){var n=o.headers.Range,i='';-1!==n.indexOf('bytes=')&&(i=n.substring(n.indexOf('=')+1,n.length),o.uris[e]+='&range='+i,delete o.headers.Range)}})}),this.player.getNetworkingEngine().registerResponseFilter(function(t,e){if(!e.fromCache&&t===window.shaka.net.NetworkingEngine.RequestType.SEGMENT){var n=8e3*e.data.byteLength/e.timeMs;d.push(n)}}),'false'===e&&'pc'!==l.platform){var i=s.DASH_PROFILE;for(var o in i)if(i.hasOwnProperty(o)&&n===i[o]){a.currentVideo.profile=o;break}a.needSetTrack=!0}this.player.load(this.src).then(function(){t()}).catch(v)},unload:function(){this.player.unload(!0),this.player.getNetworkingEngine().clearAllRequestFilters(),this.player.getNetworkingEngine().clearAllResponseFilters()},setTrack:function(t){var e,n;t===s.PROFILE.AUTO?(e={abr:{enabled:!0}},this.player.configure(e)):(e={abr:{enabled:!1}},n=this.tracks[t]?t:2,a.currentVideo.profile=n,this.player.configure(e),this.player.selectVariantTrack(this.tracks[n],!0),this.prevProfile=this.tracks[n].originalVideoId)},setConfig:function(t){this.player.configure(t)},setPrevProfile:function(t){this.prevProfile=t},getOutputs:function(t){var o=t;if(this.tracks=this.player.getVariantTracks(),0===this.tracks.length){var e=new window.shaka.dash.DashParser;e.configure({retryParameters:null,dash:{}});var n={networkingEngine:this.player.getNetworkingEngine(),filterAllPeriods:function(){},onError:v};e.start(this.src,n).then(function(t){for(var e=t.periods[0].variants,n=[],i=0;i<e.length;i++)n.push(e[i].video);o(g(n))}).catch(function(t){console.log(t)})}else o(g(this.tracks))},getCurrentProfile:function(){var e='',n=0;return this.player&&null!==this.tracks&&(n=this.player.getStats().height,this.tracks.forEach(function(t){t.height===n&&(e=t.originalVideoId?t.originalVideoId:'')})),e},getDropFrames:function(){var t=this.player.getStats(),e=0;return t&&t.droppedFrames&&(e=t.droppedFrames-this.preDropFrames,this.preDropFrames=t.droppedFrames),e},getBandwidth:function(){var t=0;0<d.length&&(t=d.reduce(function(t,e){return t+e})/d.length),d=[];var e=this.player.getStats().estimatedBandwidth.toFixed(0)/1e3;return isNaN(e)||r.tooltip('[shaka] EWMA Bandwidth = ',e.toFixed(0)+'Kbps'),parseInt(t.toFixed(0),10)},getPrevProfile:function(){return this.prevProfile}},n.addModule('player.shaka',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t){'use strict';var e,n,i,o,r=t.loadModule('controller.state');function a(){}n=t.helpers,i=t.constants,o=n.debug,a.prototype.init=function(){o.log('[pct:tracker] initialized')},a.prototype.create=function(t){this.url=t.url},a.prototype.track=function(t,e){var n={literal1:t||'',literal2:e||''};n=function(t){return t.protocol=r.dash?i.CONTENT_TYPE.DASH:i.CONTENT_TYPE.MP4,t}(n),void 0!==this.url&&(this.trackURLs(this.url,n),o.info('[pct:tracker] click event params',n))},a.prototype.trackURLs=function(t,e){return function(t){n.http.sendBeacon(t)}(t+'&'+n.string.jsonToQueryString(e))},e=a,t.addModule('pct.tracker',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(t,d){'use strict';var o,e,h,p,f,i,m=t.loadModule('player.html5'),n=t.loadModule('controller.state'),r=(o=t.helpers,e=t.constants,h=o.debug,p=o.webapi.network.getConnection(),f=null,i={},a.prototype.init=function(t,e){this.sandbox=e,h.log('[pvt:tracker] initialized')},a.prototype.clear=function(){for(var t in f&&f.stop(),i)i.hasOwnProperty(t)&&i[t]&&clearTimeout(i[t])},a.prototype.create=function(t){var e,n,i,o,r;if(this.startedTracking=!1,this.trackingEvents={},this.pvt=t,this.offsetTiles=[],this.runningTiles=[],this.assetDuration=-1,this.pvt.events){for(var a in n=this.pvt.events,i=m.getDurationRound(),n)n.hasOwnProperty(a)&&(e=n[a].name,r=n[a].type,o=n[a].time,'playing'===e&&('interval'===r?(this.interval=o,e+=':interval'):'offset'===r?(e+=':offset-'+o,this.offsetTiles[e]=o):'running_time'===r&&(e+=':running_time-'+o,this.runningTiles[e]=o)),this.trackingEvents[e]||(this.trackingEvents[e]=[]),this.trackingEvents[e].push(n[a].url));this.setDuration(i)}},a.prototype.setDuration=function(t){0<this.assetDuration||1<t&&(this.assetDuration=t)},a.prototype.setProgress=function(t){var e,n,i,o,r,a;if(this.pvt&&0<t){if((n=[]).push('start'),!this.startedTracking)for(var s in this.startedTracking=!0,e='playing:interval',(a=this.trackingEvents[e])&&function(r,a,t){'number'==typeof t&&(f=new d.Interval(function(){for(var t=[],e=m.getCurrentTimeRound(),n=p&&p.type||'unknown',i=0;i<r.length;i++){var o=r[i];o.includes('[[time]]')&&(o=o.replace('[[time]]',e)),o.includes('[[currentTime]]')&&(o=o.replace('[[currentTime]]',e)),o.includes('[[connectionType]]')&&(o=o.replace('[[connectionType]]',n)),t.push(o)}h.log('%c%s','color: #795548;','[pvt:tracker]',a,t),v(t)},1e3*t)).start()}(a,e,this.interval),r=this.runningTiles)e='playing:running_time-'+(o=r[s]),g(a=this.trackingEvents[e],e,o);for(var u in i=this.offsetTiles)i[u]===t&&n.push(u);for(var l=0,c=n.length;l<c;l++)e=n[l],this.track(e,!0)}},a.prototype.complete=function(){return this.clear(),this.track('complete')},a.prototype.track=function(t,e){var n,i;if(null==e&&(e=!1),i=this.trackingEvents&&this.trackingEvents[t],n=this.pvtEvents.indexOf(t),null!=i)for(this.emit(t,'');0<i.length;)h.log('%c%s','color: #795548;','[pvt:tracker]',t),this.trackURLs(i);!0===e&&(delete this.trackingEvents[t],-1<n&&this.pvtEvents.splice(n,1))},a.prototype.trackURLs=function(t,e){return null==e&&(e={}),v(t)},a.prototype.emit=function(t,e){this.sandbox.emit(t,e)},a.prototype.on=function(t,e){this.sandbox.on(t,e)},a.prototype.off=function(t,e){this.sandbox.off(t,e)},a.prototype.intervalStart=function(){f&&f.start()},a.prototype.intervalStop=function(){f&&f.stop()},a);function v(t){var e,n=[],i={};if(Array.isArray(t)){for(;0<t.length;)'undefined'!=typeof window&&null!==window&&(i=s(i),e=t.shift(),e+='&'+o.string.jsonToQueryString(i),n.push(o.http.sendBeacon(e)));return n}return i=s(i),e=t.shift(),e+='&'+o.string.jsonToQueryString(i),o.http.sendBeacon(e),t}function g(t,e,n){i[n]=setTimeout(function(){h.log('%c%s','color: #795548;','[pvt:tracker]',e,t),v(t),clearTimeout(i[n])},1e3*n)}function a(){this.pvtEvents=['impression','start','playing:interval','profile_change','complete']}function s(t){return t.protocol=n.dash?e.CONTENT_TYPE.DASH:e.CONTENT_TYPE.MP4,t}t.addModule('pvt.tracker',new r)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t,a){'use strict';var e,i,o,r,s,u,l,c,d,h,p=t.loadModule('player.shaka'),f=t.loadModule('player.html5'),m=t.loadModule('controller.state');function v(t,e){var n=e;r.info('[qoe:tracker] Qoe Tracking name = ',t,e),t===h.REBUFFERING?r.tooltip('[qoe:tracker] Qoe Tracking name = '+t,' data = '+(e.literal1||e.numeric1)):t===h.RESOLUTION_CHANGE&&r.tooltip('[qoe:tracker] Qoe Tracking name = '+t,' literal1 = '+e.literal1+', resolution = '+e.resolution),void 0!==u&&u&&(n.event=function(t){for(var e in l){if(l.hasOwnProperty(e)&&l[e].type===t)return l[e].name;if('interval'===l[e].type)return t}}(t),n=function(t,e){e===h.PLAYBACK_FAIL?t.protocol=o.CONTENT_TYPE.DASH:t.protocol=m.dash?o.CONTENT_TYPE.DASH:o.CONTENT_TYPE.MP4;return t}(n,t),i.http.ajax(u,{onSuccess:function(){r.info('qoeTracker::complete Call Log Success')},onError:function(){r.warn('qoeTracker::complete Call Log Error')}},{async:!0,type:o.HTTP.TYPE.JSON,method:o.HTTP.METHOD.POST,params:JSON.stringify(n),contentType:'text/plain;charset=UTF-8'}))}function n(){}function g(){var t=p.getBandwidth(),e=p.getCurrentProfile(),n=s&&s.type||'unknown';m.currentVideo&&m.currentVideo.profile&&(e='AUTO'===m.currentVideo.profile?e:'manual_'+e,(!f.el.paused||0<t)&&m.dash&&(t=0===t?null:t,v(h.BANDWIDTH,{numeric1:t,connectionType:n,resolution:e})))}function y(){var t=p.getDropFrames();0<parseInt(t,10)&&m.dash&&v(h.FRAME_DROP,{numeric1:t})}i=t.helpers,o=t.constants,r=i.debug,s=i.webapi.network.getConnection(),u='',l=[],c={},d={},h=o.QOE.EVENT,n.prototype.init=function(){r.log('[qoe:tracker] initialized'),l=[],d[h.FRAME_DROP]=y,d[h.BANDWIDTH]=g},n.prototype.create=function(t){var e,n,i,o;for(var r in l=t&&t.events,u=t&&t.url,l)l.hasOwnProperty(r)&&(e=l[r].name,'interval'===l[r].type&&(n=l[r].time,o=n,d[i=e]&&(c[i]=new a.Interval(d[i],1e3*o),c[i].start())))},n.prototype.track=function(t,e){v(t,e)},n.prototype.clear=function(){for(var t in c)c.hasOwnProperty(t)&&c[t].stop()},e=n,t.addModule('qoe.tracker',new e)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t){'use strict';var l=t.helpers,c=l.debug,e=t.constants,n={videoUrl:'',vastDuration:'',videoDuration:'',unTrackingEvents:[]};function i(t){if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++)'undefined'!=typeof window&&null!==window&&e.push(l.http.sendBeacon(t));return e}return l.http.sendBeacon(t),t}var d=(o.prototype.create=function(t){var e=t[0].text_ad;c.info('%c%s','color: #9c27b0;','[vast:extensionTracker] created'),c.table(t),e&&(this.impression=e.impression,this.clickTracking=e.click)},o.prototype.click=function(){this.clickTracking&&(i(this.clickTracking),c.info('%c%s','color: #9c27b0;','[vast:extensionTracker] click'))},o.prototype.load=function(){var t;if(t=this.impression)for(;0<t.length;)i(t.shift().value),c.info('%c%s','color: #9c27b0;','[vast:extensionTracker creativeView]')},o);function o(){}var r=(a.prototype.create=function(t){var e=t[0].mid_text_ad;c.info('%c%s','color: #9c27b0;','[vast:MidTextAdTracker] created'),c.table(e),e&&(this.impression=e.impression,this.clickTracking=e.click_tracking)},a.prototype.click=function(){this.clickTracking&&(i(this.clickTracking[0].value),c.info('%c%s','color: #9c27b0;','[vast:MidTextAdTracker] click'))},a.prototype.load=function(){var t;if(t=this.impression)for(;0<t.length;)i(t.shift().value),c.info('%c%s','color: #9c27b0;','[vast:MidTextAdTracker creativeView]')},a);function a(){}var s=(u.prototype.create=function(t){var e=t[0].remind_banner;c.info('%c%s','color: #9c27b0;','[vast:MidImageAdTracker] created'),c.table(e),e&&(this.impression=e.impression,this.clickTracking=e.click_tracking)},u.prototype.click=function(){this.clickTracking&&(i(this.clickTracking[0].value),c.info('%c%s','color: #9c27b0;','[vast:MidImageAdTracker] click'))},u.prototype.load=function(){var t;if(t=this.impression)for(;0<t.length;)i(t.shift().value),c.info('%c%s','color: #9c27b0;','[vast:MidImageAdTracker creativeView]')},u);function u(){}var h=(p.prototype.init=function(t,e){this.videoEl=t.videoElement,this.sandbox=e,c.log('[vast:tracker] initialized')},p.prototype.create=function(t,e){var n,i,o,r,a,s;if(this.trackingEvents={},this.muteOn=!1,this.impressed=!1,this.skipable=!1,this.assetDuration=-1,this.ad=t,this.impression=this.ad.in_line.impression,this.errorUrl=this.ad.in_line.error,e.linear){for(var u in this.creative=e.linear,this.extension=new d,i=this.creative.tracking_events.tracking,o=this.creative.video_clicks,r=this.creative.skipoffset,e.creative_extensions&&(s=e.creative_extensions.creative_extension)&&0<s.length&&this.extension.create(s),i)i.hasOwnProperty(u)&&('progress'===(n=i[u].event)&&(a=i[u].offset)&&(n='progress-'+l.date.hhmmssToDate(a).getSeconds()),this.trackingEvents[n]||(this.trackingEvents[n]=[]),this.trackingEvents[n].push(i[u].value));c.info('%c%s','color: #607d8b;','[vast:tracker] created'),c.table(this.trackingEvents),this.skipDelay=r,this.linear=!0,o&&(this.videoClickThrough=o.click_through&&o.click_through.value,this.videoClickTracking=o.click_tracking)}else this.skipDelay=-1,this.linear=!1},p.prototype.createForNonLinear=function(t){t&&(this.create_extensions=t,this.midTextAdExtension=new r,this.midImageAdExtension=new s,0<t.length&&(void 0!==t[0].mid_text_ad?this.midTextAdExtension.create(t):void 0!==t[0].remind_banner&&this.midImageAdExtension.create(t)))},p.prototype.emit=function(t,e){this.sandbox.emit(t,e)},p.prototype.on=function(t,e){this.sandbox.on(t,e)},p.prototype.off=function(t,e){this.sandbox.off(t,e)},p.prototype.setDuration=function(t){0<this.assetDuration||1<t&&(this.assetDuration=t,this.quartiles={firstQuartile:Math.ceil(.25*this.assetDuration),midpoint:Math.ceil(.5*this.assetDuration),thirdQuartile:Math.ceil(.75*this.assetDuration)})},p.prototype.setProgress=function(t){var e,n,i,o,r,a,s,u;if(-1===(o=this.skipDelay?this.skipDelay:this.skipDelayDefault)||this.skipable||(t<(o=l.date.hhmmssToDate(o).getSeconds())?c.info('%c%s','color: #607d8b;','[vast:tracker event] skip-countdown',o-t):this.skipable=!0),this.linear&&0<t){if(this.impressed||this.load(),(n=[]).push('start'),n.push('progress-'+Math.round(t)),0<this.assetDuration)for(i in u=this.quartiles)u.hasOwnProperty(i)&&(this.trackingEvents[i]&&(r=u[i]),r&&r<=t&&n.push(i));for(a=0,s=n.length;a<s;a++)e=n[a],this.track(e,!0)}},p.prototype.setMute=function(t){this.muteOn!==t&&this.track(t?'mute':'unmute'),this.muteOn=t},p.prototype.pause=function(t){this.paused!==t&&this.track(t?'pause':'resume'),this.paused=t},p.prototype.fullscreen=function(t){this.fullscreen!==t&&this.track(t?'fullscreen':'exitFullscreen'),this.fullscreen=t},p.prototype.expand=function(t){this.expanded!==t&&this.track(t?'expand':'collapse'),this.expanded=t},p.prototype.setSkipDelay=function(t){'number'==typeof t&&(this.skipDelay=t)},p.prototype.load=function(){if(this.impressed=!0,this.impression){for(c.group('%c%s','color: #607d8b;','[vast:tracker event]');0<this.impression.length;){var t=this.impression.shift();t.value&&''!==t.value&&this.trackURLs(t.value),c.info('%c%s','color: #607d8b;','[vast:tracker event] creativeView')}return c.groupEnd(),this.track('creativeView')}},p.prototype.error=function(){if(null!==this.errorUrl)return c.info('%c%s','color: #607d8b;','[vast:tracker event] error','\n',this.errorUrl),this.trackURLs(this.errorUrl)},p.prototype.complete=function(){if(this.trackingEvents.firstQuartile||this.trackingEvents.midpoint||this.trackingEvents.thirdQuartile){for(var t in n.videoUrl=this.videoEl.currentSrc,n.videoDuration=this.videoEl.duration,n.vastDuration=this.creative.duration,this.trackingEvents)this.trackingEvents.hasOwnProperty(t)&&n.unTrackingEvents.push(t);l.http.ajax(e.URL.KEMI_LOG_URL,{onSuccess:function(){c.info('vastTracker::complete Call Log Success')},onError:function(){c.warning('vastTracker::complete Call Log Error')}},{async:!0,type:e.HTTP.TYPE.JSON,method:e.HTTP.METHOD.POST,params:JSON.stringify(n),contentType:'application/json'}),c.info('%c%s','color: #607d8b;','VastTracker::complete Warning!! When call end event but, there is pre events')}else this.track('complete');this.clear()},p.prototype.clear=function(){this.trackingEvents={}},p.prototype.close=function(){return this.track(this.linear?'closeLinear':'close')},p.prototype.skip=function(){this.track('skip'),this.clear()},p.prototype.click=function(){var t,e;if((e=this.videoClickTracking)&&e.length){for(c.group('%c%s','color: #607d8b;','[vast:tracker event]');0<e.length;){var n=e.shift();this.trackURLs(n.value),c.info('%c%s','color: #607d8b;','[vast:tracker event] clickthrough')}c.groupEnd()}if(this.videoClickThrough)return t=this.videoClickThrough,this.emit('clickthrough',t)},p.prototype.track=function(t,e){var n,i;if(null==e&&(e=!1),'closeLinear'===t&&!this.trackingEvents[t]&&this.trackingEvents.close&&(t='close'),i=this.trackingEvents[t],n=this.vastEvents.indexOf(t),i){for(this.emit(t,''),c.group('%c%s','color: #607d8b;','[vast:tracker event]');0<i.length;){var o=i.shift();this.trackURLs(o),c.info('%c%s','color: #607d8b;','[vast:tracker event] '+t)}c.groupEnd()}else-1!==n&&this.emit(t,'');!0===e&&(delete this.trackingEvents[t],-1<n&&this.vastEvents.splice(n,1))},p.prototype.trackURLs=function(t,e){return null==e&&(e={}),i(t)},p);function p(){this.skipDelayDefault=-1,this.trackingEvents={},this.vastEvents=['creativeView','start','firstQuartile','midpoint','thirdQuartile','complete','resume','pause','rewind','skip','closeLinear','close']}t.addModule('vast.tracker',new h)}(window.monet=void 0===window.monet?{}:window.monet),function(t){'use strict';var e,r,i,n=t.helpers.debug;function o(t){n.log('%c[vmap:adsource] initialized',t),this.id=t.id,this.allowMultipleAds=t.allow_multiple_ads,this.followRedirects=t.follow_redirects,this.vastAdData=null,this.adTagURI={templateType:null,uri:null},this.customData=null,this.parse(t)}function a(t){n.log('%c%s','color:#d9a221','[vmap:adbreak] initialized',t),this.timeOffset=t.time_offset,this.breakType=t.break_type,this.breakId=t.break_id,this.repeatAfter=null,this.adSource=null,this.trackingEvents=[],this.extensions=[],this.parse(t)}function s(){}o.prototype.parse=function(t){var e,n;for(e in t)t.hasOwnProperty(e)&&(n=t[e],'ad_tag_uri'===e?(this.adTagURI.templateType=n.template_type,this.adTagURI.uri=n.uri):'vast_ad_data'===e?this.vastAdData=n:'custom_data'===e&&(this.customData=n))},i=o,a.prototype.parse=function(t){var e,n;for(e in t)t.hasOwnProperty(e)&&(n=t[e],'ad_source'===e?this.adSource=new i(n):'tracking_events'===e?this.trackingEvents=n:'extensions'===e&&(this.extensions=n))},r=a,s.prototype.init=function(){this.version='',this.adBreaks=[],this.extensions=[],n.log('[vmap:parser] initialized')},s.prototype.parse=function(t){var e,n,i,o;for(i in this.init(),this.version=t.version,t)if(t.hasOwnProperty(i))for(e=0,n=(o=t[i]).length;e<n;e++)'ad_break'===i?this.adBreaks.push(new r(o[e])):'extensions'===i&&this.extensions.push(o[e]);return this},e=s,t.addModule('parser.vmap',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(t){'use strict';var e,n,i,o,r,a=t.loadModule('pvt.tracker'),s=t.loadModule('vast.tracker'),u=t.loadModule('pct.tracker'),l=t.loadModule('qoe.tracker');function c(){}n=t.constants,i=t.helpers,o=i.debug,r={beacons:null,checkBeaconData:function(t){try{if(this.beacons&&0<this.beacons.length){var e=this.beacons[0];t.toFixed(6)>=e.ratio&&(i.http.sendBeacon(e.url),this.beacons.shift(),o.info('[extenal:tracker event] - ratio:',e.ratio))}}catch(t){o.error(t)}},sendLeftBeaconData:function(){if(this.beacons&&0<this.beacons.length)for(;0<this.beacons.length;){var t=this.beacons.shift();1===t.ratio&&(i.http.sendBeacon(t.url),o.info('[extenal:tracker event] - ratio:',t.ratio,', url:',t.url))}}},c.prototype.init=function(){o.log('[tracker] initialized')},c.prototype.setTracker=function(t){t.type===n.VIDEO_TYPE.AD?s.create(t.ad,t.creative):a.create(t.tracking.pvt)},c.prototype.setNonLinearTracker=function(t){s.createForNonLinear(t)},c.prototype.setPCTTracker=function(t){u.create(t)},c.prototype.setQOETracker=function(t){l.create(t)},c.prototype.setBeaconData=function(t){r.beacons=t},c.prototype.checkBeaconData=function(t){r.checkBeaconData(t)},c.prototype.sendLeftBeaconData=function(){r.sendLeftBeaconData()},e=c,t.addModule('etc.tracker',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(t,e){'use strict';var n,o,r=t.loadModule('player.html5'),a=t.loadModule('controller.state'),s={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,Z:90,COMMA:188,PERIOD:190,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36};function i(){}o=e.event,i.prototype.init=function(){},i.prototype.initWithConfig=function(n){var i=0;o.on(document.body,'keydown',function(t){for(var e in s)s.hasOwnProperty(e)&&s[e]===t.keyCode&&(t.preventDefault(),t.stopPropagation());switch(t.keyCode){case s.LEFT:n.callback.left(i);break;case s.RIGHT:n.callback.right(i);break;case s.UP:n.callback.up();break;case s.DOWN:n.callback.down();break;case s.SPACE:n.callback.space();break;case s.Z:n.callback.z();break;case s.COMMA:n.callback.comma();break;case s.PERIOD:n.callback.period();break;case s.PAGEUP:n.callback.pageUp(i);break;case s.PAGEDOWN:n.callback.pageDown(i);break;case s.END:n.callback.end();break;case s.HOME:n.callback.home()}i++}),o.on(document.body,'keyup',function(t){i=0,t.keyCode!==s.LEFT&&t.keyCode!==s.RIGHT&&t.keyCode!==s.PAGEUP&&t.keyCode!==s.PAGEDOWN||r.setMute(a.mutedBeforeSeek)})},n=i,t.addModule('addon.keyboard',new n)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t){'use strict';var e;function n(){}n.prototype.init=function(){this.isAutoPlay=!1,this.vidList=[]},n.prototype.getVidList=function(){return this.vidList},n.prototype.setVidList=function(t){this.vidList=t},n.prototype.getIndex=function(t){return this.vidList.indexOf(t)},n.prototype.getNext=function(t){return this.vidList[this.getIndex(t)+1]},n.prototype.getPrev=function(t){return this.vidList[this.getIndex(t)-1]},n.prototype.hasNext=function(t){return!!this.getNext(t)},e=n,t.addModule('playlist.playlist',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(t){'use strict';var e;function n(){this.init()}n.prototype.init=function(){this.playList=[],this.front=null,this.prerolls=[],this.contents=[],this.postrolls=[],this.overlayAds=[]},n.prototype.set=function(t){this.playList=t},n.prototype.get=function(){return this.playList},n.prototype.enqueue=function(t){this.front=t,this.playList.push(t)},n.prototype.dequeue=function(){return this.front=this.playList.shift(),this.front},n.prototype.dequeueCancel=function(t){this.front=t,this.playList.unshift(t)},n.prototype.size=function(){return this.playList.length},n.prototype.isEmpty=function(){return!(0<this.size())},n.prototype.peek=function(){return this.front},n.prototype.hasNextQueue=function(){return 0<this.prerolls.length||0<this.postrolls.length||0<this.contents.length},n.prototype.resetQueue=function(){this.playList=[]},e=n,t.addModule('playlist.queue',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(s,u){'use strict';function t(){}var r,l,c,d,e,n,h,p;t.prototype=(r=s.ua,l=s.helpers,c=s.constants,d=l.debug,e=s.ENV,n=c.PHASE[e.phase.toUpperCase()],h=c.ERROR.STATUS,p={CLIP_IMPRESSION:{URL:'/api/v2/ft/cliplinks/{CLIP_LINK_ID}/impress',PARAM:{player:'monet_html5',referer:e.referer?encodeURIComponent(e.referer):'',uuid:'',service:'',section:''},EXCLUDE_PARAM:'fields=clipLink,clip,channel,hasPlusFriend,user,userSkinData,-service,-tagList'},CLIP_RAW:{URL:'/api/v3/ft/cliplinks/{CLIP_LINK_ID}/raw',PARAM:{player:'monet_html5',referer:e.referer?encodeURIComponent(e.referer):'',uuid:'',service:'',section:'',fields:'seekUrl,abrVideoLocationList'}},CLIP_LOCATION:{URL:'/api/v1/ft/cliplinks/{CLIP_LINK_ID}/raw/videolocation',PARAM:{service:'',section:''}},LIVE_IMPRESSION:{URL:'/api/v5/ft/livelinks/impress',PARAM:{player:'monet_html5',referer:e.referer?encodeURIComponent(e.referer):'',uuid:'',service:'',section:'',dteType:'',profile:'MAIN',liveLinkId:'',withRaw:!0},EXCLUDE_PARAM:'fields=@html5live&brieflevels=channel,live,liveLink'},LIVE_RAW:{URL:'/api/v5/ft/livelinks/raw',PARAM:{player:'monet_html5',referer:e.referer?encodeURIComponent(e.referer):'',uuid:'',service:'',section:'',liveLinkId:''}},LIVE_STAT:{URL:'/api/v1/ft/livelinks/{LIVE_LINK_ID}/stat'},XYLOPHONE:{VAST:n===c.PHASE.SANDBOX?'//sandbox-vads-api.dev.daumkakao.io/xylophone/adrequest/json':'//vads-api.ad.daum.net/xylophone/adrequest/json',VMAP:n===c.PHASE.SANDBOX?'//sandbox-vads-api.dev.daumkakao.io/xylophone/adrequest/vmap/accept':n===c.PHASE.BETA?'//cbt-vads-api.dev.daumkakao.io/xylophone/adrequest/vmap/accept':'//vads-api.ad.daum.net/xylophone/adrequest/vmap/accept'},RELATED_CLIP:{URL:'/api/v1/ft/cliplinks/{CLIP_LINK_ID}/related/cliplinks',EXCLUDE_PARAM:'fields=-user,-clipChapterThumbnailList,-tagList,-channel&fulllevels=list'},RECOMMENDED_CLIP:{URL:'/api/v1/ft/livelinks/{LIVE_LINK_ID}/recommended/cliplinks',EXCLUDE_PARAM:'fields=-user,-clipChapterThumbnailList,-tagList,-channel,-feedBackData&fulllevels=list'},CLIP_INFO_MODIFY:{URL:'/api/v1/ft/clips/{CLIP_ID}'},CLIP_COVER_MODIFY:{URL:'/api/v1/ft/clips/{CLIP_ID}/chapterthumbnails/{THUMB_INDEX}'},OUTPUT_PROCESSING_INFO:{URL:'/api/v1/ft/clips/{CLIP_ID}/outputProcessingInfo'},AUTH_VERFICATION:{URL:n===c.PHASE.SANDBOX?'//sandbox-auth.kakao.com/ageauths/ageauth_status.json':'//auth.kakao.com/ageauths/ageauth_status.json',PARAM:{service:''}}},{init:function(){},getClipImpression:function(t,e,n){var i,o,r,a=p.CLIP_IMPRESSION.PARAM;u.extend(a,e,!0),o=p.CLIP_IMPRESSION.URL.replace('{CLIP_LINK_ID}',t),r=l.string.jsonToQueryString(a),i=c.HOST+o+'?'+r+'&'+p.CLIP_IMPRESSION.EXCLUDE_PARAM,l.http.ajax(i,{onSuccess:function(t){s.queue.emit('complete:impression',{status:'success',data:t,videoType:c.VIDEO_TYPE.VOD,callback:n})},onError:function(t){t.code&&s.queue.emit('show:error',{info:t})}},{async:!0,timeout:5e3,type:c.HTTP.TYPE.JSON})},getClipRaw:function(t,e,n){var i,o,r,a=p.CLIP_RAW.PARAM;u.extend(a,e,!0),o=p.CLIP_RAW.URL.replace('{CLIP_LINK_ID}',t),r=l.string.jsonToQueryString(a),i=c.HOST+o+'?'+r,l.http.ajax(i,{onSuccess:function(t){s.queue.emit('complete:raw',{status:'success',data:t,videoType:c.VIDEO_TYPE.VOD,callback:n})},onError:function(t){d.warn('error status :',t.code),t.code&&s.queue.emit('show:error',{info:t})}},{async:!0,type:c.HTTP.TYPE.JSON})},getClipLocation:function(i,t,o){var e,n,r,a=p.CLIP_LOCATION.PARAM;u.extend(a,t,!0),n=p.CLIP_LOCATION.URL.replace('{CLIP_LINK_ID}',i.id),r=l.string.jsonToQueryString(a),e=c.HOST+n+'?'+r,l.http.ajax(e,{onSuccess:function(t){var e=t.url,n=t.profile;i.videoUrl=e,i.profile=n,s.queue.emit('complete:location',{status:'success',callback:o})},onError:function(t){t.code&&(d.warn('failed to get clip location. caused by error:',t),s.queue.emit('show:error',{info:t}))}},{async:!1,type:c.HTTP.TYPE.JSON})},getLiveImpression:function(t,e,n){var i,o,r,a=p.LIVE_IMPRESSION.PARAM;u.extend(a,e,!0),o=p.LIVE_IMPRESSION.URL,r=l.string.jsonToQueryString(a),i=c.HOST+o+'?'+r+'&'+p.LIVE_IMPRESSION.EXCLUDE_PARAM,l.http.ajax(i,{onSuccess:function(t){s.queue.emit('complete:impression',{status:'success',data:t,callback:n,params:e})},onError:function(t){t.code&&s.queue.emit('show:error',{info:t})},onTimeout:function(t){var e=t||{};e.code=h.LIVE_SERVER_ERROR.NAME,s.queue.emit('show:error',{info:e})}},{async:!0,timeout:5e3,type:c.HTTP.TYPE.JSON})},getLiveRaw:function(t,e,n){var i,o,r,a=p.LIVE_RAW.PARAM;return u.extend(a,e,!0),o=p.LIVE_RAW.URL,r=l.string.jsonToQueryString(a),i=c.HOST+o+'?'+r,l.http.ajax(i,{onSuccess:function(t){s.queue.emit('complete:raw',{status:'success',data:t,videoType:c.VIDEO_TYPE.LIVE,callback:n})},onError:function(t){d.warn('error status :',t.code),t.code&&s.queue.emit('show:error',{info:t})}},{async:!0,type:c.HTTP.TYPE.JSON}),null},getLiveStat:function(t){var e=p.LIVE_STAT.URL.replace('{LIVE_LINK_ID}',t);l.http.ajax(e,{onSuccess:function(t){s.queue.emit('complete:stat',t)},onError:function(t){t.code&&d.warn('failed to get live stat. caused by error:',t)}},{async:!0,type:c.HTTP.TYPE.JSON})},fetchXylophoneVast:function(e,n){var t=e.adSource&&e.adSource.adTagURI;return t?t.uri&&''!==t.uri?void l.http.ajax(t.uri,{onSuccess:function(t){s.queue.emit('complete:xylophone:vast',{status:'success',req:e,res:t,callback:n})},onError:function(t){s.queue.emit('complete:xylophone:vast',{status:'error',callback:n,error:t})}},{async:!1,type:c.HTTP.TYPE.JSON,withCredentials:!0,method:c.HTTP.METHOD.GET,contentType:'application/json'}):(d.log('xylophone vast ad uri is empty!!'),!1):(d.log('xylophone vast adTagURI does not exist!!'),!1)},fetchXylophoneVmap:function(e,n){if(e){var t=JSON.stringify(e),i=function(){var t=new Date,e=t.getMonth()+1;e<10&&(e='0'+e);var n=t.getDate();n<10&&(n='0'+n);var i=t.getHours();i<10&&(i='0'+i);var o=t.getMinutes();return o<10&&(o='0'+o),t.getFullYear()+''+e+n+i+o+'00'}(),o=e.req_url;t=t.replace('#IMP_REQUEST__REPLAY#','0').replace('#IMP_REQUEST__PLAYER_TYPE#','0').replace('#IMP_REQUEST__CTRY#','').replace('#DEVICE__ORIENTATION#',90===window.orientation||-90===window.orientation?1:0).replace('#DEVICE__ID#',function(){var t=l.store.get(c.STORAGE.UUID);return null===t?'-1':t}()).replace('#DEVICE__OS#',''+r.os.name).replace('#DEVICE__GEO__LON#','').replace('#DEVICE__GEO__LAT#','').replace('#DEVICE__MCC#','').replace('#DEVICE__MNC#','').replace('#DEVICE__DEVICE_ID#','unknown').replace('#DEVICE__RESOLUTION__HEIGHT#',''+document.body.offsetWidth).replace('#DEVICE__RESOLUTION__WIDTH#',''+document.body.offsetHeight).replace('#DEVICE__DPI#','1').replace('#DEVICE__CONNECTION_TYPE#','unknown').replace('#DEVICE__VERSION#',''+r.os.version.info).replace('#DEVICE__LOCALE#','').replace('#DEVICE__MAKER#','').replace('#DEVICE__MODEL#','').replace('#USER__AD_USER_ID#','').replace('#INFO__REQ_TIME#',i),l.http.ajax(o,{onSuccess:function(t){s.queue.emit('complete:xylophone:vmap',{status:'success',req:e,res:t,callback:n})},onError:function(t){s.queue.emit('complete:xylophone:vmap',{status:'error',callback:n,error:t})}},{async:!0,type:c.HTTP.TYPE.JSON,withCredentials:!0,method:c.HTTP.METHOD.POST,params:t,contentType:'text/plain;charset=UTF-8'})}else d.log('xylophone vmap request has not pre property!!')},getRelatedClip:function(t,e){var n,i;i=p.RELATED_CLIP.URL.replace('{CLIP_LINK_ID}',t),n=c.HOST+i+'?'+p.RELATED_CLIP.EXCLUDE_PARAM+'&size='+e,l.http.ajax(n,{onSuccess:function(t){s.queue.emit('load:clip:related',{status:'success',data:t})},onError:function(t){s.queue.emit('load:clip:related',{status:'error',error:t})}},{async:!0,type:c.HTTP.TYPE.JSON})},getRecommendedClip:function(t,e){var n,i;i=p.RECOMMENDED_CLIP.URL.replace('{LIVE_LINK_ID}',t),n=c.HOST+i+'?'+p.RECOMMENDED_CLIP.EXCLUDE_PARAM,l.http.ajax(n,{onSuccess:function(t){s.queue.emit('load:clip:recommended',{status:'success',data:t,callback:e})},onError:function(t){s.queue.emit('load:clip:recommended',{status:'error',error:t})}},{async:!0,type:c.HTTP.TYPE.JSON})},updateClipInfo:function(t,e){var n=p.CLIP_INFO_MODIFY.URL.replace('{CLIP_ID}',t),i=JSON.stringify(e);l.http.ajax(n,{onSuccess:function(t){s.queue.emit('update:clipinfo',{status:'success',result:t})},onError:function(t){s.queue.emit('update:clipinfo',{status:'error',error:t})}},{async:!0,method:c.HTTP.METHOD.PUT,type:c.HTTP.TYPE.JSON,params:i,contentType:'application/json'})},updateClipCover:function(t,e,n){var i=p.CLIP_COVER_MODIFY.URL.replace('{CLIP_ID}',t).replace('{THUMB_INDEX}',n),o=JSON.stringify(e);l.http.ajax(i,{onSuccess:function(t){s.queue.emit('update:clipcover',{status:'success',result:t,index:n})},onError:function(t){s.queue.emit('update:clipcover',{status:'error',error:t})}},{async:!0,method:c.HTTP.METHOD.PUT,type:c.HTTP.TYPE.JSON,params:o,contentType:'application/json'})},getOutputProcessingInfo:function(t){var e=p.OUTPUT_PROCESSING_INFO.URL.replace('{CLIP_ID}',t);l.http.ajax(e,{onSuccess:function(t){s.queue.emit('output:processing',{status:'success',result:t})},onError:function(t){t.code&&d.warn('failed to get clip location. caused by error:',t),s.queue.emit('output:processing',{status:'error'})}},{async:!0,type:c.HTTP.TYPE.JSON})},checkAuthStatus:function(t,e){var n,i,o=p.AUTH_VERFICATION.PARAM;u.extend(o,e,!0),i=l.string.jsonToQueryString(o),n=c.HOST+t+'&'+i,l.http.ajax(n,{onSuccess:function(t){d.log('auth status',t),s.queue.emit('check:auth',{status:'success',result:t})},onError:function(t){s.queue.emit('check:auth',{status:'error',result:t})}},{async:!1,timeout:5e3,type:c.HTTP.TYPE.JSON})}}),s.addModule('playlist.dataloader',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(o,l){'use strict';function t(){}function r(t){var e={},n=t,i=p.ERROR.STATUS;switch(n){case i.AGE_19.NAME:e=i.AGE_19;break;case i.AGE_LIMITED_18.NAME:e=i.AGE_LIMITED_18;break;case i.AGE_LIMITED_19.NAME:e=i.AGE_LIMITED_19;break;case i.AGE_LIVE_19.NAME:e=i.AGE_LIVE_19;break;case i.AUDIO_COPYRIGHT.NAME:e=i.AUDIO_COPYRIGHT;break;case i.CARRIER.NAME:e=i.CARRIER;break;case i.CLEANCENTER_TEMPORARY_RIGHTVIOLATIONS.NAME:e=i.CLEANCENTER_TEMPORARY_RIGHTVIOLATIONS;break;case i.CODEC_NOT_INSTALLED.NAME:e=i.CODEC_NOT_INSTALLED;break;case i.ENCODING_NOT_COMPLETED.NAME:e=i.ENCODING_NOT_COMPLETED;break;case i.EXCEEDED_ALLOWANCE.NAME:e=i.EXCEEDED_ALLOWANCE;break;case i.FAILED_ENCODING.NAME:e=i.FAILED_ENCODING;break;case i.GEO_BLOCKED.NAME:e=i.GEO_BLOCKED;break;case i.LINEAR_LIVE.NAME:e=i.LINEAR_LIVE;break;case i.LAUNCH_APP.NAME:e=i.LAUNCH_APP;break;case i.LIVE_OFF.NAME:e=i.LIVE_OFF;break;case i.LIVE_EXCEPTION.NAME:e=i.LIVE_EXCEPTION;break;case i.LIVE_SERVER_ERROR.NAME:e=i.LIVE_SERVER_ERROR;break;case i.NEED_19_LOGIN.NAME:e=i.NEED_19_LOGIN;break;case i.NEED_AUTH.NAME:e=i.NEED_AUTH;break;case i.NEED_AUTH_18.NAME:e=i.NEED_AUTH_18;break;case i.NEED_AUTH_19.NAME:e=i.NEED_AUTH_19;break;case i.NEED_AUTH_LIVE_19.NAME:e=i.NEED_AUTH_LIVE_19;break;case i.NEED_CHANNEL.NAME:e=i.NEED_CHANNEL;break;case i.NEED_JOIN_AGREEMENT.NAME:e=i.NEED_JOIN_AGREEMENT;break;case i.NEED_LOGIN.NAME:e=i.NEED_LOGIN;break;case i.NEED_PASSWORD.NAME:e=i.NEED_PASSWORD;break;case i.NO_OWNERSHIP.NAME:e=i.NO_OWNERSHIP;break;case i.NOT_FOUND.NAME:e=i.NOT_FOUND;break;case i.NOT_OPEN.NAME:e=i.NOT_OPEN;break;case i.OPERATION_POLICY.NAME:e=i.OPERATION_POLICY;break;case i.RIGHT_VIOLATION.NAME:e=i.RIGHT_VIOLATION;break;case i.UNAVAILABLE.NAME:e=i.UNAVAILABLE;break;case i.VIOLATION.NAME:e=i.VIOLATION;break;case i.VIDEO_COPYRIGHT.NAME:e=i.VIDEO_COPYRIGHT;break;case i.LEGACY_PLAYER_NOTICE.NAME:e=i.LEGACY_PLAYER_NOTICE;break;case i.UNAVAILABLE_ADBLOCK.NAME:e=i.UNAVAILABLE_ADBLOCK;break;case i.NETWORK_OFFLINE.NAME:e=i.NETWORK_OFFLINE;break;default:e=i.UNAVAILABLE}return e}function a(t,e,n){o.queue.emit('hide:cover');var i=r(t);'process'===i.MESSAGE_TYPE&&'pc'===h.platform&&s.getOutputProcessingInfo(c.currentVideo.clipId),E.show(i,e,n),'confirm'!==i.MESSAGE_TYPE&&f.sdk.sendEventCallback(p.PLAYER_CALLBACK_NAME.onPlayError),m.info('show error type: ',i.MESSAGE_TYPE)}var c,s,e,u,d,h,n,p,f,m,v,g,i,y,E,b,T;t.prototype=(c=o.loadModule('controller.state'),s=o.loadModule('playlist.dataloader'),e=o.template,u=l.$,d=l.$$,h=o.ua,n=l.event,p=o.constants,f=o.helpers,m=f.debug,v=o.ENV,g=p.ERROR.STATUS,i={ERROR:u('errorView'),NOTICE_INFO:u('noticeInfo'),CONFIRM_INFO:u('confirmInfo'),PROCESS_INFO:u('processInfo'),COVER_IMAGE:u('coverImage2'),THUMBNAIL_CONTAINER:u('thumbnailImageContainer'),THUMBNAIL_IMAGE:u('thumbnailImage')},y={linkInfo:e.link_info},E={el:i.ERROR,infoEl:i.NOTICE_INFO,messageEl:null,callback:function(){},acceptCallback:function(){},cancelCallback:function(){},setOption:function(t){l.extend(this,t,!0)},nomalizeInfoType:function(t){E.hideBackground(),'notice'===t.MESSAGE_TYPE?this.infoEl=i.NOTICE_INFO:'confirm'===t.MESSAGE_TYPE?(this.infoEl=i.CONFIRM_INFO,E.showBackground()):'process'===t.MESSAGE_TYPE&&(this.infoEl=i.PROCESS_INFO),'pc'!==h.platform&&t.NAME===g.ENCODING_NOT_COMPLETED.NAME&&(this.infoEl=i.CONFIRM_INFO)},setTemplate:function(t,e){var n=d('p',this.infoEl)[0];if(('process'!==t.MESSAGE_TYPE||'pc'!==h.platform&&t.NAME===g.ENCODING_NOT_COMPLETED.NAME)&&(n.innerHTML=t.DESCRIPTION),t.NAME===g.LEGACY_PLAYER_NOTICE.NAME){var i={infoUrl:t.LINK_URL};n.innerHTML+=y.linkInfo.render(i)}var o=t.CLASS_NAME&&t.CLASS_NAME.split(' ');for(l.classList.has(this.infoEl.parentElement,p.ERROR.CLASS.BACKGROUND_ALPHA)&&l.classList.remove(this.infoEl.parentElement,p.ERROR.CLASS.BACKGROUND_ALPHA);0<o.length;){var r=o.pop();r===p.ERROR.CLASS.BACKGROUND_ALPHA?l.classList.add(this.infoEl.parentElement,r):r===p.ERROR.CLASS.THUMBNAIL_IMG?(c.currentVideo.coverThumbnailUrl&&E.setThumbnailImage(c.currentVideo.coverThumbnailUrl),E.showThumbnailImage()):l.classList.add(this.infoEl,r)}var a=t.LINK_TYPE;if(a){var s=null,u=d('.'+a,this.infoEl)[0];u&&(l.classList.remove(u,'hide'),'qna'===a?d('a',u)[0].href=t.LINK_URL||'http://www.kakao.com/policy/right':s=d('button',u)[0],s&&e.checkUrl&&s.setAttribute('data-url',e.checkUrl))}t.NAME!==g.LIVE_OFF.NAME&&t.NAME!==g.LIVE_EXCEPTION.NAME||l.classList.add(this.infoEl,'finished'),l.classList.remove(this.infoEl,'hide')},show:function(t,e,n){this.setOption(n),this.nomalizeInfoType(t),this.setTemplate(t,e),l.classList.add(this.el,'visible'),l.classList.remove(this.el,'hidden'),this.callback()},hide:function(){this.infoEl&&l.classList.add(this.infoEl,'hide'),l.classList.add(this.el,'hidden'),l.classList.remove(this.el,'visible')},showBackground:function(){i.COVER_IMAGE&&l.classList.remove(i.COVER_IMAGE,'hide')},hideBackground:function(){i.COVER_IMAGE&&l.classList.add(i.COVER_IMAGE,'hide')},showThumbnailImage:function(){i.THUMBNAIL_CONTAINER&&l.classList.remove(i.THUMBNAIL_CONTAINER,'hide')},setThumbnailImage:function(t){i.THUMBNAIL_IMAGE&&(i.THUMBNAIL_IMAGE.style.background='url('+t+')',i.THUMBNAIL_IMAGE.style['background-size']='100%')}},b=function(){n.delegate(i.CONFIRM_INFO,'.cancel','click',function(){m.log('cancel'),E.cancelCallback()}),n.delegate(i.CONFIRM_INFO,'.accept','click',function(){m.log('accept'),E.acceptCallback()}),n.delegate(i.ERROR,'.link_refresh','click',function(){location.reload()}),n.delegate(i.ERROR,'.app','click',function(){var t=p.PROFILE.HIGH,e=c.currentVideo.id;f.web2app.launchKakaoTV(h,e,t)}),n.delegate(i.ERROR,'.login button','click',function(t){'BUTTON'===t.target.tagName&&function(t){var e=function(){};'function'==typeof t&&(e=t),window.Kakao.Auth.getStatus(function(t){m.log('Auth status',t),void 0!==t&&void 0!==t.status&&('not_connected'===t.status?window.Kakao.Auth.login({persistAccessToken:!1,persistRefreshToken:!1,success:function(){e()},fail:function(){alert('로그인에 실패하였습니다. 다시 시도해 주세요.')}}):location.reload())})}(function(){t.target.innerHTML='인증완료'})}),n.delegate(i.ERROR,'.auth button','click',function(t){if('BUTTON'===t.target.tagName){if(l.classList.has(t.target,'check')){var e=t.target.getAttribute('data-url');m.log(e),function(t){s.checkAuthStatus(t,{service:'kakao_tv'})}(e)}l.classList.has(t.target,'complete')&&location.reload()}}),n.delegate(i.ERROR,'.link_redirect','click',function(t){t.preventDefault(),v.playerLegacy=!1,E.hide(),o.queue.emit('loadAndPlay:videoById',c.currentVideo.id,c.currentVideo.profile)})},T=function(t){var n=null,i=0;t.on('show:error',function(t){!function(t){var e=r(t.code);t.message&&(e.DESCRIPTION=t.message)}(t.info),a(t.info.code),m.info('show error')}),t.on('hide:error',function(){E.hide(),m.info('hide error')}),t.on('output:processing',function(t){var e;if('success'===t.status){if('PROCESSING'===(e=t.result.state))u('loadingNum').innerHTML=t.result.progress;else if('WAIT_FINISH'===e)u('loadingNum').innerHTML=99;else if('DONE'===e)return u('loadingNum').innerHTML=100,void location.reload()}else i++;5<i?alert('인코딩 진행정보를 받아오는데 실패하였습니다.\n잠시후에 다시 시도해주세요.'):n=setTimeout(function(){s.getOutputProcessingInfo(c.currentVideo.clipId),clearTimeout(n)},5e3)}),t.on('check:auth',function(t){var e=v.host+'/embed/player/playerpopupcallback',n='fullscreen=no, width=800, height=800, menubar=no, scrollbars=no, status=no, titlebar=no, resizable=yes',i=t.result.additionalInfo&&t.result.additionalInfo.url;'success'===t.status?(''!==i&&(i=i+'&service=kakao_tv&continue='+encodeURIComponent(e)),window.open(i,'_blank',n)):('NeedLogin'===t.result.code?(l.warn('로그인이 필요합니다.',t.result),''!==i&&(i=i+'?continue='+encodeURIComponent(e))):(l.warn('본인인증이 필요합니다.',t.result),''!==i&&(i=i+'&service=kakao_tv&continue='+encodeURIComponent(e))),window.open(i,'_blank',n))})},{init:function(t,e){b(),T(e)},showError:function(t,e,n){a(t,e,n)},hideError:function(){E.hide()},addStyle:function(t,e){'notice'===t?E.infoEl=i.NOTICE_INFO:'confirm'===t&&(E.infoEl=i.CONFIRM_INFO),l.classList.add(E.infoEl,e)},checkValidation:function(t){return!!t&&!t.playingInfo},getStatusByCode:r}),o.addModule('view.error',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(n,s){'use strict';var t,e,c,i,u,d,h,o,p,l,r,a,f,m,v,g,y,E,b,T,w,_,A,L,S,I,N,k,P,O,R,C,D,M,x,U,B,V,Y,H,F,G=n.loadModule('player.html5'),q=n.loadModule('player.shaka'),j=n.loadModule('playlist.queue'),K=n.loadModule('controller.state'),X=n.loadModule('vast.tracker'),W=n.loadModule('pct.tracker'),z=n.loadModule('playlist.dataloader'),$=n.loadModule('view.error'),Q=n.template;function J(t){if(t.height<1){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=100*t[n]);return e}return t}function Z(){var t,e,n=K.currentVideo;'VOD'===n.type?(e=n.id,t=d.VIDEO_TYPE.VOD):'LIVE'===n.type&&(e=n.id,t=d.VIDEO_TYPE.LIVE);!function(t,e,n,i){var o,r;o=-1<window.location.href.indexOf('kakao.com')?(r=t===d.VIDEO_TYPE.VOD?'type=clipLink&id='+e:'type=liveLink&id='+e,p.host+'/report?'+r):(r=(d.VIDEO_TYPE.VOD,'contentType='+t+'&articleId='+e),l===d.PHASE.REAL?'http://'+('pc'!==u.platform?'m.':'')+'spam119.daum.net/form?platformCode=KAKAOTV&serviceCode=70&'+r:'http://'+('pc'!==u.platform?'m.':'')+'spam119.dev.daum.net/form?platformCode=KAKAOTV&serviceCode=70&'+r);var a='fullscreen=no, width='+n+', height='+i+', menubar=no, scrollbars=no, status=no, titlebar=no, resizable=yes';h.window.openPopup(o,'reportWindow',a)}(t,e,440,620)}function tt(t){A.AD_PLAY_PAUSE_BUTTON_WRAP&&(s.classList.has(A.AD_PLAY_PAUSE_BUTTON_WRAP,'hidden')?k.ad.showButton():k.ad.hideButton(),et(t))}function et(t){var e=A.AD_PLAY,n=A.AD_PAUSE;t?(s.classList.remove(e,'hidden'),s.classList.add(n,'hidden')):(s.classList.add(e,'hidden'),s.classList.remove(n,'hidden'))}function nt(t,e){var n=j.front;if(t)if(n&&n.type===d.VIDEO_TYPE.AD){if('pc'!==u.platform)k.control.hide();else if('end'!==n.timeOffset)return void k.control.show(e);k.ad.show()}else k.control.show(e);else{if('mobile'===u.platform&&G.paused)return;k.control.hide(),k.control.hideSeekTime()}}function it(t,e){0<e&&(k.control.setCurrentTime(t,e),function(t,e){var n=100*t/e,i=j.front;i&&i.type===d.VIDEO_TYPE.AD?(k.ad.updatePlay(n),k.progress.updatePlay(n)):i&&i.type===d.VIDEO_TYPE.VOD&&k.progress.updatePlay(n)}(t,e))}function ot(){k.control.hide(),k.blind.show()}function rt(t,e){ot(),k.notification.show(t,e)}function at(){k.overlay.show(),k.spinner.start()}function st(){setTimeout(function(){k.overlay.hide(),k.spinner.end()},250)}function ut(){G.el.setAttribute('controls','true'),N.control.show()}function lt(){G.el.removeAttribute('controls'),N.control.hide()}function ct(t){var e=A.PROGRESSBAR.getBoundingClientRect();dt()&&(e=J(e));var n=t.changedTouches?t.changedTouches[0].pageX:t.pageX,i=Math.floor(e.left),o=n&&n-i,r=e.width,a=0;return r<o&&(a=100),0<=o&&o<=r&&(a=o/r*100),a}function dt(){return h.fullscreen.isFullScreen()}function ht(t){h.fullscreen.cancel(t)}function pt(){'LIVE'===K.currentVideo.type&&'pc'!==u.platform&&z.getLiveStat(K.currentVideo.id)}function ft(){var t=G.getCurrentTimeRound();o.info('%c%s','color: #2074c0;','[view.inline] onSeeked view handler',t),t>=G.getDurationRound()?K.ended=!0:(K.ended=!1,G.el.paused&&K.isMenuOpened&&n.queue.emit('close:menubox'),'pc'===u.platform&&(K.pausedBeforeSeek||G.play()))}function mt(){k.ad.hideLinearContainer()}function vt(){mt(),k.ad.showNonLinearContainer()}function gt(){k.ad.hideNonLinearContainer()}function yt(t,e){vt(),'text'===e?function(t){k.ad.hideNonLinearAdImage(),k.ad.hideNonLinearAdTextInfo(),k.ad.showNonLinearAdTextBox(),k.ad.show(),t&&(f=new s.Timer(bt,m)).start();X.midTextAdExtension.load()}(t):'image'===e&&function(t){k.ad.hideNonLinearAdText(),k.ad.showNonLinearAdImageBox(),k.ad.show(),t&&((f=new s.Timer(Tt,m)).start(),o.info('Nonlinear Image Ad - Start!',G.getCurrentTimeRound()));X.midImageAdExtension.load()}(t)}function Et(){f&&(f.stop(),f=null,o.info('Nonlinear Image Ad - Finish!!',G.getCurrentTimeRound())),K.isNonLinearAdShown&&k.ad.setNonLinearProgressPoint(0)}function bt(){Et(),k.ad.showNonLinearAdTextInfo(),k.ad.hideNonLinearAdText()}function Tt(){gt(),Et(),k.ad.hideNonLinearAdImage()}function wt(){f&&f.pause(),gt()}function _t(t){return t.replace(/[P|HD\s]/g,'')}function At(t){h.device.isSupportMutedControl(u)&&(k.control.toggleAdMute(t),k.control.toggleMute(t))}function Lt(t,e){var n=isNaN(t)||1<t||t<0?S:t;'pc'===u.platform&&G.setVolume(n),G.setMute(e)}function St(){return!0===h.store.get(v)||'true'===h.store.get(v)}function It(){var t=h.store.get(L);return t=t||S}function Nt(t){h.store.set(v,t),K.startMuted=t}function kt(t){var e=h.device.isTV(u);t&&''!==t&&!e&&k.stillVideo.set(t)}function Pt(){k.stillVideo.show()}function Ot(){k.stillVideo.hide()}function Rt(t,e,n){var i=t.closest(e);i&&n(i)}function Ct(){}e=s.$,c=s.$$,i=s.event,u=n.ua,d=n.constants,h=n.helpers,o=h.debug,p=n.ENV,l=d.PHASE[p.phase.toUpperCase()],r=d.ERROR.STATUS,a=new s.Orientation,f=null,m=0,v=d.STORAGE.MUTE,g='request',y='cancel',E='player_play',b='player_pause',T='player_replay',w='btn_setup',_='profile',A={PLAYER:e('player'),PLAYER_FRAME:e('playerFrame'),PLAYER_CONTAINER:e('playerContainer'),VIDEO_ELEMENMT:e(d.ID.VIDEO_ELEMENT),VIDEO_CONTAINER:e('videoContainer'),VIDEO_OVERLAY:e('videoOverlay'),AD_CONTROLLER:e('adController'),AD_COUNT:e('adCount'),AD_TIME:e('adTime'),AD_TEXT:e('adText'),AD_PLAY_PAUSE_BUTTON_WRAP:e('adPlayPauseBtnWrap'),AD_PLAY:e('adPlayBtn'),AD_PAUSE:e('adPauseBtn'),AD_LINK:e('adLinkBtn'),AD_SKIP:e('adSkipBtn'),AD_ADVERTISER:e('advertiser'),AD_PLAY_PROGRESS:e('adProgress'),AD_LINEAR_CONTAINER:e('linear'),AD_LINEAR_BANNER:e('linearBanner'),AD_LINEAR_BANNER_TEXT:c('#linearBanner .banner_text')[0],AD_NONLINEAR_CONTAINER:e('nonLinear'),AD_NONLINEAR_TEXT_BANNER_INFO:c('#nonLinear .link_adinfo')[0],AD_NONLINEAR_TEXT_BANNER_CLOSE:c('#nonLinear .close_textad')[0],AD_NONLINEAR_TEXT_BANNER_BOX:c('#nonLinear .text_adbox')[0],AD_NONLINEAR_TEXT_BANNER:c('#nonLinear .link_textad')[0],AD_NONLINEAR_TEXT_BANNER_TITLE:c('#nonLinear .link_textad strong')[0],AD_NONLINEAR_IMAGE_BANNER_BOX:c('#nonLinear .section_banner')[0],AD_NONLINEAR_IMAGE_BANNER_CLOSE:c('#nonLinear .close_imagead')[0],AD_NONLINEAR_IMAGE_BANNER:c('#nonLinear .link_imagead')[0],AD_NONLINEAR_IMAGE_BANNER_IMG:c('#nonLinear .thumb_img')[0],AD_NONLINEAR_POINT:e('nonLinearPoint'),AD_MUTE_BUTTON:c('#adController .btn_mute')[0],AD_UNMUTE_BUTTON:c('#adController .btn_muteoff')[0],MUTE_BUTTON:c('#controller .btn_mute')[0],UNMUTE_BUTTON:c('#controller .btn_muteoff')[0],PLAYER_CONTROLLER_CONTAINER:e('controllerContainer'),PLAYER_CONTROLLER:e('controller'),PLAYER_CONTROLLER_HEAD:c('#controller .player_head')[0],PLAYER_CONTROLLER_BODY:c('#controller .player_body')[0],PLAYER_CONTROLLER_FOOT:c('#controller .player_foot')[0],PLAYER_FUNCTION:c('.player_function')[0],PLAYER_TITLE:c('#controller .tit_player')[0],TITLE_LINK:c('#controller .link_title')[0],REPLAY:c('#controller .live_re')[0],AGE_LIMIT:c('#controller .ico_tough')[0],VIEWER_COUNT:e('viewerCount'),PLAYER_BLIND:e('playerBlind'),PLAYER_NOTIFICATION:e('notification'),PLAY_BUTTON:c('.'+E)[0],PAUSE_BUTTON:c('.'+b)[0],REPLAY_BUTTON:c('.'+T)[0],PLAY_PAUSE_BUTTON_WRAP:e('playPauseBtnWrap'),SOUND_CONTROL:c('.sound_control')[0],VOLUME_PANEL:c('.vol_panel')[0],SETTING_BUTTON:c('.btn_setup')[0],SETUP_BUTTON:c('.'+w)[0],TIME_SEEK:e('timeSeek'),FULLSCREEN_BUTTON:e('fullscreenBtn'),PROGRESSBAR:e('progress'),PROGRESS_POINT:e('pointProgress'),LOAD_PROGRESS:e('loadProgress'),PLAY_PROGRESS:e('playProgress'),TIME_POINT:c('.check_time')[0],DURATION:e('duration'),CURRENT_TIME:e('currentTime'),LOGO:c('.link_slogo')[0],SPINNER_CONTAINER:e('spinnerContainer'),ERROR_CONTAINER:e('errorView'),ERROR_MESSAGE:e('errorMessage'),PROFILE_BUTTON:c('.profile')[0],APPLINK_BUTTON:c('#controller .btn_liveHD')[0],STILL_CONTAINER:c('.thumb_section')[0],STILL_VIDEO:e('stillVideo'),STILL_VIDEO_TIME:c('.txt_time')[0],SEEK_BAR:c('.thumb_bar')[0],EXTENSTION_CONTAINER:c('#controller .extensions')[0],DIMMED_LAYER:c('#controller .dimmed_layer')[0]},L=d.STORAGE.VOLUME,S=.5,I={profile_text:Q.mobile_profile_text,supHD:Q.superscript_hd},N={control:{el:A.VIDEO_CONTAINER,show:function(){s.classList.remove(this.el,'hide_default_control'),s.classList.add(A.PLAYER_CONTROLLER_CONTAINER,'hide')},hide:function(){s.classList.add(this.el,'hide_default_control'),s.classList.remove(A.PLAYER_CONTROLLER_CONTAINER,'hide')}}},k={setSize:function(){var t=document.documentElement||document.body;A.PLAYER_CONTAINER.style.width=t.clientWidth+'px',A.PLAYER_CONTAINER.style.height=t.clientHeight+'px'},reSize:function(){var t=G.el.videoHeight,e=G.el.videoWidth/t,n=document.documentElement||document.body,i=n.clientWidth,o=n.clientHeight;i/o<1.77?o=9*i/16:i=16*o/9,e<=1?(A.PLAYER_CONTAINER.style.width='100%',A.PLAYER_CONTAINER.style.height='100%',A.PLAYER_CONTAINER.style.top='',A.PLAYER_CONTAINER.style.left=''):(A.PLAYER_CONTAINER.style.width=i+'px',A.PLAYER_CONTAINER.style.height=o+'px',this.relocate(i,o))},relocate:function(t,e){A.PLAYER_CONTAINER.style.top='calc(50% - '+e/2+'px)',A.PLAYER_CONTAINER.style.left='calc(50% - '+t/2+'px)'},blind:{el:A.PLAYER_BLIND,show:function(){s.classList.remove(this.el,'hide')},hide:function(){s.classList.add(this.el,'hide')}},notification:{el:A.PLAYER_NOTIFICATION,timer:null,show:function(t,e){var n=this;s.classList.remove(this.el,'hide'),this.el.innerHTML=t,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){n.hide(),n.timer=null,e&&'function'==typeof e&&e()},1500)},hide:function(){this.el.innerHTML='',s.classList.add(this.el,'hide')}},overlay:{el:A.VIDEO_OVERLAY,show:function(){s.classList.remove(this.el,'hidden'),s.classList.add(this.el,'visible')},hide:function(){s.classList.has(this.el,'visible')&&(s.classList.remove(this.el,'visible'),s.classList.add(this.el,'hidden'))}},spinner:{self:null,create:function(){var t=h.ui.createSpinner();A.VIDEO_OVERLAY.appendChild(t.el),this.self=t},start:function(){this.self.start()},end:function(){this.self.isStart||this.self.end()}},control:{el:A.PLAYER_CONTROLLER,controlTimer:null,showStatus:!1,clearTimer:function(){this.controlTimer&&clearTimeout(this.controlTimer)},show:function(t){var e=this;this.showStatus=!0,K.customControlActivated=!0,s.classList.has(this.el,'hide')&&s.classList.remove(this.el,'hide'),s.classList.remove(A.PLAYER,'hide-custom-control'),s.classList.add(A.PLAYER,'show-custom-control'),this.clearTimer(),t||(this.controlTimer=setTimeout(function(){K.isMenuOpened||(e.hide(),e.hideSeekTime()),e.controlTimer=null},1500))},hide:function(){this.showStatus=!1,K.customControlActivated=!1,s.classList.remove(A.PLAYER,'show-custom-control'),s.classList.add(A.PLAYER,'hide-custom-control'),n.queue.emit('hide:customUI')},toggleUI:function(){this.showStatus?this.hide():this.show(!0)},showPlayPause:function(){A.PLAY_PAUSE_BUTTON_WRAP&&s.classList.remove(A.PLAY_PAUSE_BUTTON_WRAP,'hide')},hidePlayPause:function(){A.PLAY_PAUSE_BUTTON_WRAP&&s.classList.add(A.PLAY_PAUSE_BUTTON_WRAP,'hide')},showSeekTime:function(){A.TIME_SEEK&&s.classList.remove(A.TIME_SEEK,'hide')},hideSeekTime:function(){A.TIME_SEEK&&s.classList.add(A.TIME_SEEK,'hide')},setDuration:function(t){A.DURATION&&(A.DURATION.innerHTML=h.string.timeToString(t))},setTitle:function(t,e){K.currentVideo.isLegacy?(A.TITLE_LINK.style.cursor='text',A.TITLE_LINK.style.textDecoration='none'):(A.TITLE_LINK.style.cursor='pointer',A.TITLE_LINK.style.textDecoration='initial'),A.TITLE_LINK.href=e,A.TITLE_LINK.innerHTML=h.string.escapeHtml(t)},showTitle:function(){A.PLAYER_TITLE&&s.classList.remove(A.PLAYER_TITLE,'hide')},hideTitle:function(){A.PLAYER_TITLE&&s.classList.add(A.PLAYER_TITLE,'hide')},showLogo:function(t){A.LOGO&&(A.LOGO.href=t,s.classList.remove(A.LOGO,'hide'))},showReplay:function(){A.REPLAY&&s.classList.remove(A.REPLAY,'hide')},setViewerCount:function(t){A.VIEWER_COUNT&&t&&(isNaN(t)?s.classList.add(A.VIEWER_COUNT,'hide'):s.classList.remove(A.VIEWER_COUNT,'hide'),A.VIEWER_COUNT.innerHTML=h.string.delimitNumbers(t))},setAgeLimit:function(t){19===t&&s.classList.remove(A.AGE_LIMIT,'hide')},setCurrentTime:function(t,e){var n=Math.floor(t/e*100);100<n||n<0||isNaN(t)||(A.CURRENT_TIME&&(A.CURRENT_TIME.innerHTML=h.string.timeToString(t)),A.TIME_SEEK&&(A.TIME_SEEK.innerHTML=h.string.timeToString(t)))},hideAppLinkButton:function(){A.APPLINK_BUTTON&&s.classList.add(A.APPLINK_BUTTON,'hide')},hideProfile:function(){A.PROFILE_BUTTON&&A.PROFILE_BUTTON.parentElement&&s.classList.add(A.PROFILE_BUTTON.parentElement,'hide')},toggleMute:function(t){var e=A.MUTE_BUTTON,n=A.UNMUTE_BUTTON;t?(s.classList.remove(e,'hide'),s.classList.add(n,'hide')):(s.classList.add(e,'hide'),s.classList.remove(n,'hide'))},toggleAdMute:function(t){var e=A.AD_MUTE_BUTTON,n=A.AD_UNMUTE_BUTTON;t?(s.classList.remove(e,'hide'),s.classList.add(n,'hide')):(s.classList.add(e,'hide'),s.classList.remove(n,'hide'))},showExtension:function(){A.EXTENSTION_CONTAINER&&s.classList.remove(A.EXTENSTION_CONTAINER,'hide')},hideExtension:function(){A.EXTENSTION_CONTAINER&&s.classList.add(A.EXTENSTION_CONTAINER,'hide')},showDimmedLayer:function(){A.DIMMED_LAYER&&s.classList.remove(A.DIMMED_LAYER,'hide')},hideDimmedLayer:function(){A.DIMMED_LAYER&&s.classList.add(A.DIMMED_LAYER,'hide')}},fullscreen:{el:A.FULLSCREEN_BUTTON,show:function(){s.classList.remove(A.FULLSCREEN_BUTTON,'hide')},hide:function(){s.classList.add(A.FULLSCREEN_BUTTON,'hide')},toggle:function(){var t=this.el.nextElementSibling;dt()?(s.classList.add(A.PLAYER,'fullscreen'),this.el.setAttribute('aria-label','기본화면'),t&&'box_tooltip'===t.className&&(t.innerHTML='기본화면')):(s.classList.remove(A.PLAYER,'fullscreen'),this.el.setAttribute('aria-label','전체화면'),t&&'box_tooltip'===t.className&&(t.innerHTML='전체화면'))}},progress:{el:A.PROGRESSBAR,show:function(){A.PROGRESSBAR&&s.classList.add(A.PROGRESSBAR,'on')},hide:function(){A.PROGRESSBAR&&s.classList.remove(A.PROGRESSBAR,'on')},updateLoad:function(t){var e=h.polyfill.getProps('transform'),n=0;A.LOAD_PROGRESS&&0<t&&(n=t.toFixed(3),A.LOAD_PROGRESS.style[e]='scaleX('+n+')')},updatePlay:function(t){100<t||A.PLAY_PROGRESS&&(A.PLAY_PROGRESS.style.width=t+'%')}},ad:{el:A.AD_CONTROLLER,timer:null,show:function(){s.classList.remove(this.el,'hide')},hide:function(){s.classList.add(this.el,'hide')},setup:function(){var t=j.front;if(A.AD_LINK&&(t.clickUrl?A.AD_LINK.href=t.clickUrl:this.hideLink()),'end'===t.timeOffset&&t.extension&&0<t.extension.length){var e=t.extension[0]&&t.extension[0].text_ad;this.setLinearBanner(e.click,e.title)}},setupMidTextAd:function(t,e){this.hideCount(),this.hideLink(),this.hideSkip(),this.setNonLinearTextBanner(t,e)},setupMidImageAd:function(t,e){this.setNonLinearImageBanner(t,e)},end:function(){this.hideCount(),this.hideSkip(),this.hideLinearBanner()},reset:function(){var t=j.front,e=G.getDurationRound(),n=t.skipOffset?parseInt(t.skipOffset):e,i=n-e!=0;this.updateTime(n,i),'end'!==t.timeOffset?(this.showCount(),this.showLink(),this.hideSkip(),this.hideLinearBanner()):(this.hideCount(),this.hideLink(),this.hideSkip(),t.extension&&0<t.extension.length&&this.showLinearBanner())},showSkip:function(){A.AD_SKIP&&s.classList.remove(A.AD_SKIP,'hide')},hideSkip:function(){A.AD_SKIP&&s.classList.add(A.AD_SKIP,'hide')},showLink:function(){A.AD_LINK&&s.classList.remove(A.AD_LINK,'hide')},hideLink:function(){A.AD_LINK&&s.classList.add(A.AD_LINK,'hide')},showCount:function(){A.AD_COUNT&&s.classList.remove(A.AD_COUNT,'hide')},hideCount:function(){A.AD_COUNT&&s.classList.add(A.AD_COUNT,'hide')},setLinearBanner:function(t,e){A.AD_LINEAR_BANNER&&(A.AD_LINEAR_BANNER.href=t),A.AD_LINEAR_BANNER_TEXT&&(A.AD_LINEAR_BANNER_TEXT.innerHTML=e)},showLinearBanner:function(){A.AD_LINEAR_BANNER&&s.classList.remove(A.AD_LINEAR_BANNER,'hide')},hideLinearBanner:function(){A.AD_LINEAR_BANNER&&s.classList.add(A.AD_LINEAR_BANNER,'hide')},showLinearContainer:function(){A.AD_LINEAR_CONTAINER&&s.classList.remove(A.AD_LINEAR_CONTAINER,'hide')},hideLinearContainer:function(){A.AD_LINEAR_CONTAINER&&s.classList.add(A.AD_LINEAR_CONTAINER,'hide')},showNonLinearContainer:function(){A.AD_NONLINEAR_CONTAINER&&s.classList.remove(A.AD_NONLINEAR_CONTAINER,'hide')},hideNonLinearContainer:function(){A.AD_NONLINEAR_CONTAINER&&s.classList.add(A.AD_NONLINEAR_CONTAINER,'hide')},setNonLinearContainerStyle:function(t){A.AD_NONLINEAR_CONTAINER&&(A.AD_NONLINEAR_CONTAINER.className=t)},setNonLinearTextBanner:function(t,e){this.setNonLinearContainerStyle('text'),A.AD_NONLINEAR_TEXT_BANNER&&''!==A.AD_NONLINEAR_TEXT_BANNER&&(A.AD_NONLINEAR_TEXT_BANNER.href=t),A.AD_NONLINEAR_TEXT_BANNER_TITLE&&(A.AD_NONLINEAR_TEXT_BANNER_TITLE.innerHTML=e)},setNonLinearImageBanner:function(t,e){this.setNonLinearContainerStyle('image'),A.AD_NONLINEAR_IMAGE_BANNER&&''!==A.AD_NONLINEAR_IMAGE_BANNER&&(A.AD_NONLINEAR_IMAGE_BANNER.href=t),A.AD_NONLINEAR_IMAGE_BANNER_IMG&&(A.AD_NONLINEAR_IMAGE_BANNER_IMG.src=e)},setNonLinearProgressPoint:function(t,e){if(p.debugMode){var n=100*(-1<t?t:5)/G.getDurationRound();A.AD_NONLINEAR_POINT&&(A.AD_NONLINEAR_POINT.style.width=n.toFixed(2)+'%',!isNaN(e)&&0<e&&(A.AD_NONLINEAR_POINT.style.left=e+'%'))}},showNonLinearAdTextBox:function(){A.AD_NONLINEAR_TEXT_BANNER_BOX&&s.classList.remove(A.AD_NONLINEAR_TEXT_BANNER_BOX,'hide')},hideNonLinearAdText:function(){A.AD_NONLINEAR_TEXT_BANNER_BOX&&s.classList.add(A.AD_NONLINEAR_TEXT_BANNER_BOX,'hide')},showNonLinearAdTextInfo:function(){A.AD_NONLINEAR_TEXT_BANNER_INFO&&s.classList.remove(A.AD_NONLINEAR_TEXT_BANNER_INFO,'hide')},hideNonLinearAdTextInfo:function(){A.AD_NONLINEAR_TEXT_BANNER_INFO&&s.classList.add(A.AD_NONLINEAR_TEXT_BANNER_INFO,'hide')},showNonLinearAdImageBox:function(){A.AD_NONLINEAR_IMAGE_BANNER_BOX&&s.classList.remove(A.AD_NONLINEAR_IMAGE_BANNER_BOX,'hide')},hideNonLinearAdImage:function(){A.AD_NONLINEAR_IMAGE_BANNER_BOX&&s.classList.add(A.AD_NONLINEAR_IMAGE_BANNER_BOX,'hide')},showButton:function(){s.classList.remove(A.AD_PLAY_PAUSE_BUTTON_WRAP,'hidden'),s.classList.add(A.AD_PLAY_PAUSE_BUTTON_WRAP,'visible'),this.timer&&clearTimeout(this.timer);var t=this;this.timer=setTimeout(function(){t.hideButton(),t.timer=null},1500)},hideButton:function(){s.classList.add(A.AD_PLAY_PAUSE_BUTTON_WRAP,'hidden'),s.classList.remove(A.AD_PLAY_PAUSE_BUTTON_WRAP,'visible')},updateTime:function(t,e){A.AD_TIME&&(A.AD_TIME.innerHTML=t,A.AD_TEXT.innerHTML=e?' 초 후 SKIP':' 초 후 재생')},updatePlay:function(t){100<t||A.AD_PLAY_PROGRESS&&(A.AD_PLAY_PROGRESS.style.width=t+'%')}},stillVideo:{videoElement:null,set:function(t){this.videoElement||this.create(),this.videoElement.src=t,this.load(),K.hasStillVideo=!0},create:function(){this.videoElement=document.createElement('video'),this.videoElement.id='stillVideo',this.videoElement.muted=!0,this.onLoadedData(),A.STILL_CONTAINER.appendChild(this.videoElement),o.info('%c%s','color: #2074c0;','[view.inline ] still video element created!!!')},onLoadedData:function(){i.on(this.videoElement,'loadeddata',function(){var t='pc'===u.platform?95:45,e='pc'===u.platform?156:200;.75<=this.videoHeight/this.videoWidth&&(e='pc'===u.platform?78:100),A.STILL_CONTAINER.style.width=e+'px',A.STILL_CONTAINER.style.marginLeft=-e/2+'px';var n=(e-this.videoWidth)/2;'pc'!==u.platform&&(A.STILL_CONTAINER.style.bottom=t+'px',n&&(this.style.paddingLeft=n+'px')),o.info('%c%s','color: #2074c0;','[still video event] loadeddata',this.videoHeight,this.videoWidth)})},load:function(){this.videoElement.load()},show:function(){s.classList.remove(A.STILL_CONTAINER,'hide')},hide:function(){s.classList.add(A.STILL_CONTAINER,'hide')},seekTo:function(t){isNaN(t)||(this.videoElement.currentTime=t)},move:function(t,e){var n=A.PROGRESSBAR.getBoundingClientRect();dt()&&(n=J(n));var i=Math.floor(n.left),o=t&&t-i,r=this.videoElement.clientWidth/2,a=r,s=n.width-r;0!=r&&(o<a?o=a:s<o&&(o=s),this.seekTo(e),A.STILL_CONTAINER.style.left=o+'px',A.TIME_POINT.style.left=o+'px')}}},P=function(t){var e=j.front,n=0;if(K.seekEnabled&&e.type!==d.VIDEO_TYPE.AD){K.pausedBeforeSeek=!K.ended&&G.el.paused,K.mutedBeforeSeek=G.getMute(),'pc'===u.platform&&G.pause();var i=ct(t);0<=i&&i<=100&&(n=G.getDurationRound()*i/100,K.hasStillVideo?(Pt(),A.TIME_POINT&&s.classList.remove(A.TIME_POINT,'hide'),'pc'!==u.platform&&(A.STILL_VIDEO_TIME.innerHTML=h.string.timeToString(n),k.stillVideo.seekTo(n),k.control.hideTitle(),k.control.hideExtension(),k.control.showDimmedLayer())):(G.seekTo(n),G.setMute(!0),k.control.setCurrentTime(n,G.getDurationRound()),k.control.showSeekTime()),k.progress.updatePlay(i)),k.progress.show(),k.control.hidePlayPause(),k.control.clearTimer(),K.seeking=!0,h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onTouchEventStart)}},O=function(t){var e=ct(t),n=0;if(s.StopWatch.has('rebuffering')&&s.StopWatch.stop('rebuffering'),s.StopWatch.start('seek'),K.seekEnabled){if(k.control.hideSeekTime(),k.control.showPlayPause(),k.progress.hide(),K.seeking=!1,G.setMute(K.mutedBeforeSeek),ft(),'pc'!==u.platform){var i=K.pausedBeforeSeek;k.control.show(i),K.hasStillVideo&&(Ot(),k.control.showExtension(),k.control.hideDimmedLayer(),!p.isInternal&&p.showInfo&&k.control.showTitle())}0<=e&&e<=100&&(n=G.getDurationRound()*e/100,G.seekTo(n)),W.track('progress',G.getCurrentTimeRound()),h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onTouchEventEnd)}A.TIME_POINT&&s.classList.add(A.TIME_POINT,'hide')},R=function(t){if(!K.seeking)return!1;var e=ct(t),n=0;k.progress.updatePlay(e),k.progress.show(),0<e&&e<=100&&(n=G.getDurationRound()*e/100,K.hasStillVideo?'pc'!==u.platform&&(A.STILL_VIDEO_TIME.innerHTML=h.string.timeToString(n),k.stillVideo.seekTo(n)):(k.control.setCurrentTime(n,G.getDurationRound()),G.seekTo(n)))},C=function(t){i.preventDefault(t),i.stopPropagation(t),k.control.hide(),n.queue.emit('show:modal',{target:'setting'})},D=function(t){i.preventDefault(t),i.stopPropagation(t),k.control.hide(),n.queue.emit('show:modal',{target:'profile'})},M=function(t){var e=t.message,n=t.callback;e&&'string'==typeof e?rt(e,n):o.log('message does not exsist')},x=function(){var t=j.front;if(h.device.isSupportCustomController(u))if(k.fullscreen.toggle(),dt()){if(n.queue.emit('request:fullscreen'),h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onFullScreenChange,[g,t&&t.id]),'pc'===u.platform)return;k.control.hide(),ut()}else n.queue.emit('cancel:fullscreen'),h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onFullScreenChange,[y,t&&t.id]),K.ended||G.el.paused||G.play(),lt(),st()},U=function(t){o.info('onOrientationChange',t),k.reSize()},B=function(e){var t=e.target;Rt(t,'.link_skip',function(){i.stopPropagation(e),K.skipAdEnabled&&(s.StopWatch.start('startPlay'),n.queue.emit('skip:ad'),X.skip(),W.track('linear_pre','skip'))}),Rt(t,'.link_more',function(t){i.stopPropagation(e),i.preventDefault(e),'pc'===u.platform&&k.control.show(!0),t.href&&h.window.openPopup(t.href,'adLinkWindow'),G.pause(),X.click(),W.track('linear_pre','link')}),Rt(t,'.link_smrad',function(t){i.stopPropagation(e),'#none'!==t.getAttribute('href')?(G.pause(),X.extension.click(),W.track('linear_post_text','link')):i.preventDefault(e)}),Rt(t,'.link_textad',function(t){i.stopPropagation(e),'#none'!==t.getAttribute('href')?(G.pause(),X.midTextAdExtension.click(),W.track('nonlinear_text','link')):i.preventDefault(e)}),Rt(t,'.close_textad',function(){i.stopPropagation(e),bt(),W.track('nonlinear_text','close')}),Rt(t,'.link_adinfo',function(){i.stopPropagation(e),yt(!1,'text'),W.track('nonlinear_text','info')}),Rt(t,'.link_imagead',function(t){i.stopPropagation(e),'#none'!==t.getAttribute('href')?(G.pause(),X.midImageAdExtension.click(),W.track('nonlinear_image','link')):i.preventDefault(e)}),Rt(t,'.close_imagead',function(){i.stopPropagation(e),Tt(),W.track('nonlinear_image','close')})},V=function(e){var t=e.target;Rt(t,'.btn_liveHD',function(){i.stopPropagation(e),n.queue.emit('click:play:live','HIGH'),W.track('liveapp','open')}),Rt(t,'.btn_mute',function(){i.stopPropagation(e),G.setMute(!1),Nt(!1),W.track('mute','false')}),Rt(t,'.btn_muteoff',function(){i.stopPropagation(e),G.setMute(!0),Nt(!0),W.track('mute','true')}),Rt(t,'.link_title',function(){i.stopPropagation(e),K.currentVideo.isLegacy&&i.preventDefault(e),G.pause(),W.track('title')}),Rt(t,'.player_play',function(){i.stopPropagation(e),G.play(),nt(!0),h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onClickEventStart,[d.PLAYER_CLICK_ACTION.PLAY,K.currentVideo.id]),W.track('play_pause')}),Rt(t,'.player_pause',function(){i.stopPropagation(e),G.pause(),nt(!0),h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onClickEventStart,[d.PLAYER_CLICK_ACTION.PAUSE,K.currentVideo.id]),W.track('play_pause')}),Rt(t,'.player_replay',function(){i.stopPropagation(e),nt(!1),at(),n.queue.emit('hide:completion');var t={autoplay:K.autoplay};K.dash&&q.unload(),n.queue.emit('loadAndPlay:videoById',K.currentVideo.id,K.currentVideo.profile,null,null,t),W.track('replay')}),Rt(t,'#fullscreenBtn',function(){i.stopPropagation(e),dt()?'pc'===u.platform&&ht(document):function(t){try{h.fullscreen.request(t)}catch(t){alert('현재 환경에서는 전체화면을 지원하지 않습니다')}}('pc'===u.platform?A.PLAYER_CONTAINER:G.el),W.track('fullscreen')}),Rt(t,'.link_slogo',function(){W.track('tv_logo')})},Y=function(){var t,e=h.polyfill.getProps('visibilitychange');i.on(A.AD_CONTROLLER,'click',B),i.on(A.PLAYER_CONTROLLER,'click',V),i.on(document,e,function(){'hidden'===document.visibilityState?(wt(),'mobile'===u.platform&&(G.pause(),K.pausedBeforeSeek=G.el.paused)):'visible'===document.visibilityState&&(K.pausedBeforeSeek&&G.pause(),setTimeout(function(){var t=j.front;t&&t.type===d.VIDEO_TYPE.VOD?k.control.show(G.el.paused):t&&t.type===d.VIDEO_TYPE.AD&&tt(G.el.paused)},300),K.hasStillVideo&&h.device.isPCWithSafari(u)&&k.stillVideo.load())}),i.on(A.PLAYER,'contextmenu',function(t){i.preventDefault(t)}),i.delegate(A.PLAYER,'.report','click',function(t){i.stopPropagation(t),i.preventDefault(t),Z(),W.track('report')}),['fullscreenchange','MSFullscreenChange','mozfullscreenchange','webkitfullscreenchange'].forEach(function(e){i.on(document,e,function(t){o.log('fullscreenchange event name',e),x(t)})}),['webkitbeginfullscreen','webkitendfullscreen'].forEach(function(e){i.on(G.el,e,function(t){o.log('fullscreenchange event name',e),x(t)})}),['fullscreenerror','MSFullscreenError','mozfullscreenerror','webkitfullscreenerror'].forEach(function(e){i.on(document,e,function(t){o.log('fullscreenerror event',e,t.target),alert('현재 환경에서는 전체화면을 지원하지 않습니다')})}),'pc'===u.platform?(a.onOrientationChange(function(t){U(t)}),i.on(A.PROGRESSBAR,'mousemove',function(t){var e=j.front;if(!(p.isAdType||!p.controls||e&&e.type===d.VIDEO_TYPE.AD)){var n=c('.time_play')[0],i=ct(t);if(0<i){var o=G.getDurationRound()*i/100;if(!isNaN(o)){var r=A.PROGRESSBAR.getBoundingClientRect();dt()&&(r=J(r));var a=t.pageX,s=Math.floor(r.left),u=a&&a-s,l=u/A.PROGRESSBAR.offsetWidth*100;A.SEEK_BAR.style.width=l+'%',n.innerHTML=h.string.timeToString(o),K.hasStillVideo?k.stillVideo.move(a,parseInt(o)):A.TIME_POINT.style.left=u+'px'}}}}),i.on(A.PROGRESSBAR,'mouseover',function(){!p.isAdType&&p.controls&&A.TIME_POINT&&s.classList.remove(A.TIME_POINT,'hide')}),i.on(document,'mouseout',function(t){var e=t.relatedTarget||t.toElement;if(!e||'HTML'===e.nodeName){if(!p.controls||K.ended)return;!(3<G.el.readyState)||K.ended||p.isAdType||K.seeking||G.el.paused||k.control.hide()}}),i.on(A.PLAYER_CONTROLLER_CONTAINER,'mousemove',function(){2<G.el.readyState&&!K.ended&&!p.isAdType&&k.control.show(G.el.paused),t&&clearTimeout(t),t=setTimeout(function(){!p.controls||K.seeking||K.ended||G.el.paused||K.isMenuOpened||k.control.hide()},1500)})):(i.on(A.PLAYER_CONTROLLER_CONTAINER,'click',function(){var t=j.front;if(!dt()&&4===G.el.readyState){if(t.type===d.VIDEO_TYPE.AD)return;G.el.paused?k.control.toggleUI():K.customControlActivated?nt(!1):(nt(!0),pt())}}),i.on(A.AD_CONTROLLER,'click',function(t){var e=j.front;if(e&&e.type===d.VIDEO_TYPE.AD){if(s.classList.has(t.target,'link_skip')||s.classList.has(t.target,'img_player')||s.classList.has(t.target,'link_play')||s.classList.has(t.target,'link_pause'))return void k.ad.showButton();tt(G.el.paused)}}),i.on(A.AD_PLAY,'click',function(){G.play(),W.track('play_pause')}),i.on(A.AD_PAUSE,'click',function(){G.pause(),W.track('play_pause')}),i.on(A.AD_MUTE_BUTTON,'click',function(){G.setMute(!1),Nt(!1),W.track('mute','false')}),i.on(A.AD_UNMUTE_BUTTON,'click',function(){G.setMute(!0),Nt(!0),W.track('mute','true')}),i.delegate(A.PLAYER_FUNCTION,'.'+w,'click',C),i.delegate(A.PLAYER,'.'+_,'click',D))},H=function(t){t.on('complete:impression',function(){(p.popup||!p.isInternal&&p.showInfo)&&k.control.showTitle(),p.controls||s.classList.add(A.PLAYER_CONTROLLER_FOOT,'hide'),p.menu&&A.SETTING_BUTTON&&s.classList.remove(A.SETTING_BUTTON,'hide')}),t.on('show:notification',function(t){M(t)}),t.on('complete:stat',function(t){!function(t){var e=K.currentVideo;e.title=t.displayTitle||'',e.ccuCount=t.ccuCount||'';var n='/channel/#{channelId}/livelink/#{liveLinkId}';n=h.string.format(n,{channelId:e.channelId,liveLinkId:e.id}),k.control.setTitle(e.title,n),p.popup||p.isInternal||e.isLegacy||!p.branding||k.control.showLogo(n),k.control.setAgeLimit(e.ageLimit),k.control.setViewerCount(t.ccuCount)}(t)})},F=function(){var t,e;A.PROGRESSBAR&&(t=window.gesture.GestureListener(A.PROGRESSBAR),e=window.gesture.GestureListener(document),t.onGestureStart(function(t){!p.isAdType&&p.controls&&P(t.targetEvent)}),t.onGestureMove(function(t){!p.isAdType&&p.controls&&R(t.targetEvent)}),t.onGestureEnd(function(t){!p.isAdType&&p.controls&&O(t.targetEvent)}),e.onGestureMove(function(t){R(t.targetEvent)}),e.onGestureEnd(function(t){K.seeking&&O(t.targetEvent)}))},Ct.prototype.init=function(t,e){h.device.isDaumAppForAllowInline(u)&&G.el.hasAttribute('poster')&&G.el.removeAttribute('poster');var n=h.device.isSupportCustomController(u),i=h.webapi.network.getConnection();o.tooltip('Support custom ui: ',n),o.tooltip('browser info : ',u.browser.name+' / '+u.browser.version.info),o.tooltip('ua platform : ',u.platform+', '+u.os.name),o.tooltip('network type : ',i&&i.type),o.log('[view:inline] initialized'),function(t){k.spinner.create(t)}(t),n?(p.fs||k.fullscreen.hide(),p.showProfile||k.control.hideProfile(),p.appLink||k.control.hideAppLinkButton(),lt(),Y()):ut(),h.device.isSupportMutedControl(u)||(s.classList.add(A.AD_MUTE_BUTTON,'hide'),s.classList.add(A.AD_UNMUTE_BUTTON,'hide'),s.classList.add(A.MUTE_BUTTON,'hide'),s.classList.add(A.UNMUTE_BUTTON,'hide')),H(e),F()},Ct.prototype.setSize=function(){k.setSize()},Ct.prototype.reSize=function(){k.reSize()},Ct.prototype.showBlind=function(){ot()},Ct.prototype.hideBlind=function(){k.blind.hide()},Ct.prototype.showNotification=function(t,e){rt(t,e)},Ct.prototype.startSpinner=function(){at()},Ct.prototype.endSpinner=function(){st()},Ct.prototype.showAd=function(){k.ad.show()},Ct.prototype.hideAd=function(){k.ad.hide()},Ct.prototype.setupAd=function(){K.skipAdEnabled=!1,k.ad.reset(),k.ad.setup()},Ct.prototype.setupVideoControl=function(){var t=K.currentVideo;t.wasLive&&k.control.showReplay();var e='/channel/#{channelId}/cliplink/#{clipLinkId}';e=h.string.format(e,{channelId:t.channelId,clipLinkId:t.id});var n=G.getDurationRound();s.classList.remove(A.PLAYER_CONTROLLER,'ad_type'),p.isAdType||p.miniProgress?s.classList.add(A.PLAYER_CONTROLLER,'mini_progress'):(k.control.setDuration(n),k.control.setCurrentTime(0,n),k.progress.updatePlay(0),K.allAdsCompleted&&(k.control.setCurrentTime(n,n),k.progress.updatePlay(100)),s.classList.remove(A.PLAYER_CONTROLLER,'mini_progress'),k.control.setTitle(t.title,e),p.popup||p.isInternal||t.isLegacy||!p.branding||k.control.showLogo(e))},Ct.prototype.setupAdControl=function(){var t=G.getDurationRound();k.control.setDuration(t),k.control.setCurrentTime(0,G.getDurationRound()),k.progress.updatePlay(0),s.classList.add(A.PLAYER_CONTROLLER,'ad_type'),'pc'!==u.platform&&k.control.hide()},Ct.prototype.setupLiveControl=function(){pt()},Ct.prototype.showControl=function(t){nt(!0,t)},Ct.prototype.hideControl=function(){nt(!1)},Ct.prototype.clearTimer=function(){k.control.clearTimer()},Ct.prototype.resizeControl=function(){K.ended?s.classList.add(A.PLAYER,'ended'):(s.classList.remove(A.PLAYER,'ended'),k.progress.hide())},Ct.prototype.showControlHead=function(){s.classList.remove(A.PLAYER_CONTROLLER_HEAD,'hide')},Ct.prototype.hideControlHead=function(){s.classList.add(A.PLAYER_CONTROLLER_HEAD,'hide')},Ct.prototype.showControlFooter=function(){p.controls&&s.classList.remove(A.PLAYER_CONTROLLER_FOOT,'hide')},Ct.prototype.onTimeUpdate=function(t,e){var n=j.front;K.seeking||(it(t,e),n&&n.type===d.VIDEO_TYPE.VOD?function(t,e){Math.round(e-t)<=5&&(K.autoplay||K.continuousPlay)&&(K.isCheckNextVideo||(h.sdk.sendEventCallback(d.PLAYER_CALLBACK_NAME.onCheckNextVideo,[K.currentVideo.id]),K.isCheckNextVideo=!0))}(t,e):n&&n.type===d.VIDEO_TYPE.AD&&'end'!==n.timeOffset&&function(){var t,e,n;if(K.adControlActivated){var i=G.getCurrentTimeRound(),o=G.getDurationRound(),r=j.front;if(0<o){if(K.skipAdEnabled)return;n=(t=r.skipOffset?parseInt(r.skipOffset):o)-o!=0,(e=t-i)<1&&n?(K.skipAdEnabled=!0,k.ad.hideCount(),k.ad.showSkip()):0<e&&k.ad.updateTime(e,n)}}}())},Ct.prototype.updateProgressTime=function(t,e){it(t,e)},Ct.prototype.onProgress=function(t){!function(t){k.progress.updateLoad(t)}(t)},Ct.prototype.onEndVideo=function(){var t=K.currentVideo;'pc'!==u.platform&&K.hasStillVideo&&(Ot(),k.control.showExtension(),k.control.hideDimmedLayer()),p.rel&&K.hasRelated?(n.queue.emit('show:completion'),n.queue.emit('hide:modal'),'LIVE'===t.type?$.showError(r.LIVE_OFF.NAME,{}):nt(!1)):n.queue.emit('load:videoById',0,!1)},Ct.prototype.onSeeked=function(){ft()},Ct.prototype.cancelFullscreen=function(t){ht(t)},Ct.prototype.togglePlayPause=function(t){t?K.ended?(s.classList.add(A.PAUSE_BUTTON,'hidden'),s.classList.remove(A.PLAY_BUTTON,'hidden')):(s.classList.remove(A.PLAY_BUTTON,'hidden'),s.classList.add(A.PAUSE_BUTTON,'hidden')):(s.classList.add(A.PLAY_BUTTON,'hidden'),s.classList.remove(A.PAUSE_BUTTON,'hidden'))},Ct.prototype.toggleAdPlayPause=function(t){et(t)},Ct.prototype.getClipLocation=function(t,e){!function(t,e){var n=K.currentVideo&&K.currentVideo.tid,i={service:p.service,section:p.section,tid:n,profile:t,dteType:h.device.getDteType(u)};z.getClipLocation(K.currentVideo,i,e)}(t,e)},Ct.prototype.setupNonLinearAd=function(t){!function(t){var e=0<t.display_per?t.display_per:1;m=1e3*(t.duration||5),t.title?k.ad.setupMidTextAd(t.click,t.title):t.banner_url&&k.ad.setupMidImageAd(t.click,t.banner_url),k.ad.setNonLinearProgressPoint(t.duration,e),o.info('setupNonLinearAd',t.duration,e)}(t)},Ct.prototype.showNonLinearAd=function(t,e){yt(t,e)},Ct.prototype.hideNonLinearAd=function(){bt(),Tt()},Ct.prototype.pauseNonLinearAd=function(){wt()},Ct.prototype.resumeNonLinearAd=function(){f&&f.resume(),vt()},Ct.prototype.showLinearAdContainer=function(){k.ad.showLinearContainer()},Ct.prototype.hideLinearAdContainer=function(){mt()},Ct.prototype.showNonLinearAdContainer=function(){vt()},Ct.prototype.hideNonLinearAdContainer=function(){gt()},Ct.prototype.setProfile=function(t){!function(t){var e=I.profile_text,n=K.currentVideo.outputList,i='',o='',r={profileAuto:t===d.PROFILE.AUTO,profile:'',profileHD:!1};if(K.dash)i=q.getCurrentProfile(),o=_t(q.getCurrentProfile());else for(var a in n)if(n.hasOwnProperty(a)&&n[a].profile===t){o=_t(i=n[a].label);break}r.profile=o,r.profileHD=0<i.indexOf('HD'),r.profileHD?s.classList.add(A.SETUP_BUTTON,'btn_hd'):s.classList.remove(A.SETUP_BUTTON,'btn_hd'),A.PROFILE_BUTTON.innerHTML=e.render(r)}(t)},Ct.prototype.setStillVideo=function(t){kt(t)},Ct.prototype.showStillVideo=function(){Pt()},Ct.prototype.hideStillVideo=function(){Ot()},Ct.prototype.onLoadStart=function(){!function(){var t=K.currentVideo.seekUrl;t&&kt(t)}()},Ct.prototype.toggleMuteUI=function(t){At(t)},Ct.prototype.getRecentMute=function(){return St()},Ct.prototype.getRecentVolume=function(){return It()},Ct.prototype.setRecentVolume=function(t){!function(t){isNaN(t)||h.store.set(L,t.toFixed(2))}(t)},Ct.prototype.saveRecentMute=function(t){Nt(t)},Ct.prototype.onCompleteImpression=function(){!function(){var t=St();Lt(t?0:It(),t=K.startMuted?K.startMuted:t),At(t)}()},Ct.prototype.setVolume=function(t,e){Lt(t,e)},Ct.prototype.hideDefaultControl=function(){lt()},t=Ct,n.addModule('view.inline',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(r,s){'use strict';var t,u,a,l,c,o,d,h,p,n,e,f,m,v,g,y,E,b,i,T,w,_,A,L,S,I,N,k,P,O,R,C,D,M,x,U,B,V;function Y(t,e){d.setVolume(t,e),F(t)}function H(t,e){!function(t){M.volume.mute(t)}(e),F(e?0:t)}function F(t){M.volume.update(t)}function G(t){var e=(t/100).toFixed(2),n=X(t);b.info('updateVolume',e,n),Y(e,n)}function q(){return d.getRecentVolume()}function j(t){d.setRecentVolume(t)}function K(t){var e=C.VOLUMEBAR_BG.getBoundingClientRect();E.fullscreen.isFullScreen()&&(e=function(t){if(t.height<1){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=100*t[n]);return e}return t}(e));var n=t.pageX,i=Math.floor(e.left),o=n&&n-i,r=e.width,a=0;return r<o&&(a=100),0<=o&&o<=r&&(a=o/r*100),a}function X(t){return t<10}function W(){x=setTimeout(function(){d.showControl(!0),d.resizeControl(),z()},300)}function z(){r.queue.emit('show:completion')}function $(){M.setting.show(),u.isMenuOpened=!0,s.classList.add(C.SETTING_BUTTON,'open')}function Q(){M.setting.hide(),M.speed.hideList(),u.isMenuOpened=!1,s.classList.remove(C.SETTING_BUTTON,'open')}function J(){M.profile.hideList(),Q()}function Z(){var t=l.el.paused;u.isMenuOpened?J():(t?l.play():l.pause(),tt(t),M.playback.show(),h.track('play_pause'))}function tt(t){t?u.ended?(s.classList.add(C.PLAY_BUTTON,'hidden'),s.classList.remove(C.REPLAY_BUTTON,'hidden')):(C.CONTROLLER_PLAY_BUTTON_TEXT.innerHTML='일시정지',s.classList.remove(C.CONTROLLER_PLAY_BUTTON,'link_play'),s.classList.add(C.CONTROLLER_PLAY_BUTTON,'link_pause'),s.classList.add(C.REPLAY_BUTTON,'hidden')):(C.CONTROLLER_PLAY_BUTTON_TEXT.innerHTML='재생하기',s.classList.add(C.CONTROLLER_PLAY_BUTTON,'link_play'),s.classList.remove(C.CONTROLLER_PLAY_BUTTON,'link_pause'),s.classList.add(C.REPLAY_BUTTON,'hidden'))}function et(){var t=u.currentVideo.thumbnailList;t&&0<t.length&&M.stillImage.create(t),M.stillImage.show()}function nt(t){d.setStillVideo(t),d.showStillVideo()}function it(){var t=u.currentVideo.seekUrl;t?(M.stillImage.hide(),nt(t)):(d.hideStillVideo(),et())}function ot(t){var e=C.SETTING_BUTTON.getBoundingClientRect(),n=C.PLAYER_CONTAINER.getBoundingClientRect(),i=t.getBoundingClientRect(),o=e.right-e.width/2;return n.width-15-o-i.width/2}function rt(){}u=r.loadModule('controller.state'),a=r.loadModule('playlist.dataloader'),l=r.loadModule('player.html5'),c=r.loadModule('player.shaka'),o=r.loadModule('playlist.queue'),d=r.loadModule('view.inline'),h=r.loadModule('pct.tracker'),p=r.loadModule('pvt.tracker'),n=r.loadModule('addon.keyboard'),e=r.template,f=s.$,m=s.$$,v=s.event,g=r.ua,y=r.constants,E=r.helpers,b=E.debug,i=r.ENV,T='clipInfoModify',w='clipInfoPanel',_='clipCoverImagePanel',A='ico_front5s',L='ico_back5s',S='ico_front60s',I='ico_back60s',N='ico_volumeno',k='ico_volumedown',P='ico_volumeup',O='ico_speeddown',R='ico_speedup',C={PLAYER_CONTAINER:f('playerContainer'),CONTROLLER:f('controller'),CONTROLLER_BODY:m('#controller .player_body')[0],CONTROLLER_PLAY_BUTTON:m('.player_body button')[0],CONTROLLER_PLAY_BUTTON_TEXT:m('.player_body .img_player')[0],PLAY_BUTTON:m('.player_play')[0],REPLAY_BUTTON:m('.player_replay')[0]||null,PROGRESSBAR:f('progress'),SOUND_CONTROL:m('.sound_control')[0],VOLUME:f('volume'),MUTE_BUTTON:f('volumeBtn'),VOLUMEBAR:f('volumeBar'),VOLUMEBAR_BG:f('volumeBarBg'),VOLUME_POINT:f('pointVolume'),SETTING_BUTTON:f('settingBtn'),WIDE_SCREEN_BUTTON:f('widescreebBtn'),POPUP_BUTTON:f('popupBtn'),SETUP_BOX:m('.box_setup')[0],SETTING_BOX:m('.box_setting')[0],MODIFY_BUTTON:m('.box_setting .clip_modify')[0],AUTOPLAY_CHECK:m('.box_setting .clip_autoplay')[0],STILL_IMAGE:f('stillImage'),AUTO_PLAY:f('autoPlay'),STILL_IMAGE_LIST:m('#stillImage .list_section')[0],PUBLIC_MODE:f('publicMode'),CLIP_INFO_MODIFY:f(T)||null,CLIP_INFO_PANEL:f(w)||null,CLIP_COVER_PANEL:f(_)||null,PLAYER_FUNCTION:m('.player_function')[0],AD_CONTROLLER:f('adController'),QUALITY_BOX:m('.box_quality')[0],QUALITY_BUTTON:m('.box_setting .btn_quality')[0],QUALITY_LIST:m('.list_quality')[0],QUALITY_TEXT:m('.txt_quality')[0],QUALITY_TITLE:m('.box_quality .tit_quality')[0],SPEED_BOX:m('.box_setup .box_playspeed')[0],SPEED_BUTTON:m('.box_setting .clip_speed')[0],SPEED_TITLE:m('.box_playspeed .tit_playspeed')[0],SPEED_LIST:m('.list_playspeed')[0],SPEED_TEXT:f('current_speed'),KEYBOARD_EFFECT:m('.player_body .ico_keyboard')[0]},D=y.STORAGE.PROFILE,M={control:{playback:{el:C.CONTROLLER_PLAY_BUTTON,timer:null,show:function(){var t=this;s.classList.remove(this.el,'hide'),this.timer=setTimeout(function(){t.hide(),t.timer=null},500)},hide:function(){s.classList.add(this.el,'hide')}},volume:{el:C.MUTE_BUTTON,timer:null,show:function(){s.classList.add(C.SOUND_CONTROL,'open')},hide:function(){s.classList.remove(C.SOUND_CONTROL,'open')},mute:function(t){t?(s.classList.remove(this.el,'btn_sound'),s.classList.add(this.el,'btn_soundoff'),this.el.setAttribute('aria-label','음소거 해제'),this.el.nextElementSibling.innerHTML='음소거 해제'):(s.classList.remove(this.el,'btn_soundoff'),s.classList.add(this.el,'btn_sound'),this.el.setAttribute('aria-label','음소거'),this.el.nextElementSibling.innerHTML='음소거')},update:function(t){var e=(100*t).toFixed(2)+'%';C.VOLUMEBAR.style.width=e,C.SOUND_CONTROL.setAttribute('aria-valuetext',e)}},profile:{el:C.QUALITY_LIST,timer:null,template:{profileList:e.pc_profile_list,supHD:e.superscript_hd,profileText:e.profile_text},create:function(t){for(var e,n,i=this.template.supHD,o={outputs:[]},r=t.length-1;0<=r;r--)e=t[r].profile.toString(),n=t[r].label,e===u.currentVideo.profile&&this.updateLabel(n),o.outputs.push({profileOn:e===u.currentVideo.profile?'on':'',profileName:e,profileLabel:this.removeText(n),supHD:0<=n.indexOf('HD')?i.render():''});var a=this.createTemplate(o);this.render(a)},createTemplate:function(t){return this.template.profileList.render(t)},render:function(t){C.QUALITY_LIST.innerHTML=t},showList:function(){s.classList.add(C.QUALITY_BOX,'open')},hideList:function(){s.classList.remove(C.QUALITY_BOX,'open')},removeText:function(t){return t.replace(/[P|HD\s]/g,'')},updateLabel:function(t){var e=u.currentVideo.profile===y.PROFILE.AUTO,n=e?this.removeText(c.getCurrentProfile()):this.removeText(t),i=e?-1!==c.getCurrentProfile().indexOf('HD'):-1!==t.indexOf('HD'),o={profileText:n,profileAuto:e,profileHD:i},r=this.template.profileText.render(o);i?s.classList.add(C.SETTING_BUTTON,'btn_hd'):s.classList.remove(C.SETTING_BUTTON,'btn_hd'),C.QUALITY_TEXT.innerHTML=r}},setting:{el:C.SETUP_BOX,show:function(){s.classList.add(this.el,'open')},hide:function(){s.classList.remove(this.el,'open')},showAutoPlay:function(){s.classList.remove(C.AUTOPLAY_CHECK,'hide')},hideAutoPlay:function(){s.classList.add(C.AUTOPLAY_CHECK,'hide')}},stillImage:{el:C.STILL_IMAGE,template:e.still_image,create:function(t){for(var e='',n=0,i=6<t.length?6:t.length,o={thumbnails:[]},r=0;r<i;r++)n=t[r].timeInSec,t[r].thumbnailUrl&&(e='//t1.daumcdn.net/thumb/C180x100/?fname='+encodeURIComponent(t[r].thumbnailUrl)),o.thumbnails.push({seconds:n,imageSrc:e,time:E.string.timeToString(n)});var a=this.createTemplate(o);this.render(a)},createTemplate:function(t){return this.template.render(t)},render:function(t){C.STILL_IMAGE_LIST.innerHTML=t},show:function(){s.classList.remove(this.el,'hide')},hide:function(){s.classList.add(this.el,'hide')},on:function(){s.classList.add(this.el,'on')},off:function(){s.classList.remove(this.el,'on')}},menu:{template:e.clip_cover_image,activateTab:m('#clipInfoModify .on a')[0]||null,showClipInfo:function(){s.classList.remove(C.CLIP_INFO_PANEL,'hide'),s.classList.add(C.CLIP_COVER_PANEL,'hide')},showClipCover:function(){s.classList.remove(C.CLIP_COVER_PANEL,'hide'),s.classList.add(C.CLIP_INFO_PANEL,'hide')},setClipInfo:function(){var t=f('lblName'),e=m('input[name="scrapAllow"]'),n=m('input[name="isOpen"]'),i=u.currentVideo;if(i.canScrap&&(e[0].checked=!0),i.isLegacy){s.classList.add(C.PUBLIC_MODE,'hide');for(var o=0,r=n.length;o<r;o++){var a=n[o];a.checked=!1,a.disabled=!0}}else s.classList.remove(C.PUBLIC_MODE,'hide'),i.isOpen&&(n[0].checked=!0);t.value=i.title},setClipCover:function(t){var e='',n=6<t.length?6:t.length;if(!(t.length<1)){for(var i={thumbnails:[]},o=0;o<n;o++)t[o].thumbnailUrl&&(e='//t1.daumcdn.net/thumb/C180x100/?fname='+encodeURIComponent(t[o].thumbnailUrl)),i.thumbnails.push({className:t[o].isDefault?'on':'',imageIndex:o,imageSrc:e});var r=m('.list_cover',C.CLIP_COVER_PANEL)[0],a=this.createTemplate(i);this.render(r,a)}},createTemplate:function(t){return this.template.render(t)},render:function(t,e){t.innerHTML=e},submitClipInfo:function(){var t=m('input[name="scrapAllow"]'),e=m('input[name="isOpen"]'),n=f('lblName').value,i=u.currentVideo.clipId,o=e[0].checked,r={title:n,id:i,canScrap:t[0].checked,isOpen:o};a.updateClipInfo(i,r)},submitClipCover:function(t){var e=u.currentVideo.clipId;a.updateClipCover(e,{isDefault:!0},t)},selectTab:function(t){if(t){s.classList.remove(this.activateTab.parentNode,'on');var e=m('a[href="#'+t+'"]')[0];s.classList.add(e.parentNode,'on'),this.activateTab=e}},togglePanel:function(t){f(t)===C.CLIP_INFO_PANEL&&this.showClipInfo(),f(t)===C.CLIP_COVER_PANEL&&this.showClipCover()}},screen:{showWide:function(){C.WIDE_SCREEN_BUTTON&&s.classList.remove(C.WIDE_SCREEN_BUTTON,'hide')},hideWide:function(){C.WIDE_SCREEN_BUTTON&&s.classList.add(C.WIDE_SCREEN_BUTTON,'hide')}},popup:{el:C.POPUP_BUTTON,show:function(){s.classList.remove(C.POPUP_BUTTON,'hide')},hide:function(){s.classList.add(C.POPUP_BUTTON,'hide')}},speed:{showList:function(){C.SPEED_BOX&&s.classList.add(C.SPEED_BOX,'open')},hideList:function(){C.SPEED_BOX&&s.classList.remove(C.SPEED_BOX,'open')},setSpeedText:function(t){C.SPEED_TEXT&&('1'===t&&(t='보통'),C.SPEED_TEXT.innerText=t)}},keyboard:{el:C.KEYBOARD_EFFECT,timer:null,type:null,template:e.speed_text,setup:function(t,e){s.classList.remove(this.el,this.type),s.classList.add(this.el,t),this.type=t,this.el.innerHTML=!e||t!==R&&t!==O?'':this.template.render({speedText:e})},show:function(){var t=this;this.timer||(s.classList.remove(this.el,'hide'),this.timer=setTimeout(function(){t.timer=null,t.hide()},500))},hide:function(){s.classList.add(this.el,'hide')}}}}.control,x=null,U=function(t){var n=t.videoElement,i=M.menu;'pc'===g.platform&&(v.on(C.CONTROLLER_BODY,'click',function(){Z()}),v.on(C.SOUND_CONTROL,'mouseover',function(){u.seeking||M.volume.show()}),v.on(C.SOUND_CONTROL,'mouseout',function(){u.volumeChanging||M.volume.hide()}),v.on(C.MUTE_BUTTON,'click',function(){var t=n.muted,e=t?q():0;t&&l.setVolume(e),H(e,!t),l.setMute(!t),d.saveRecentMute(!t),d.clearTimer(),h.track('mute',!t)}),v.delegate(C.QUALITY_LIST,'button','click',function(t){var e,n,i,o;M.profile.hideList(),n=(e='SUP'!==t.target.tagName?t.target:t.target.parentElement).getAttribute('data-profile'),o=m('.list_quality .on')[0],i=e.innerText,u.dash?(u.currentVideo.profile=n,c.setTrack(n),M.profile.updateLabel(i),u.ended&&l.seekTo(0)):(function(t){C.QUALITY_BUTTON.setAttribute('data-label-temp',t)}(i),u.ended?r.queue.emit('loadAndPlay:videoById',u.currentVideo.id,n):(d.pauseNonLinearAd(),d.getClipLocation(n))),n!==y.PROFILE.AUTO&&E.store.set(D,u.dash?y.DASH_PROFILE[n]:n),s.classList.remove(o,'on'),s.classList.add(e.parentElement,'on'),p.intervalStop(),h.track('profile',u.dash?y.DASH_PROFILE[n]:n)}),v.on(C.SETTING_BUTTON,'click',function(t){v.preventDefault(t),v.stopPropagation(t),function(){var t=(window.outerWidth-l.el.clientWidth)/2,e=ot(C.SETTING_BOX)+t,n=ot(C.QUALITY_BOX)+t,i=ot(C.SPEED_BOX)+t;e<0?(C.SETTING_BOX.style.marginLeft=-86+e+'px',C.QUALITY_BOX.style.marginLeft=-43+n+'px',C.SPEED_BOX.style.marginLeft=-43+i+'px'):(C.SETTING_BOX.style.marginLeft='-86px',C.QUALITY_BOX.style.marginLeft='-43px',C.SPEED_BOX.style.marginLeft='-43px')}(),s.classList.has(C.SETUP_BOX,'open')||s.classList.has(C.SPEED_BOX,'open')?Q():(M.profile.hideList(),$()),h.track('setting')}),v.on(C.WIDE_SCREEN_BUTTON,'click',function(){b.log('click wide screen button'),E.sdk.sendEventCallback(y.PLAYER_CALLBACK_NAME.onWideScreenChange),h.track('wide_screen')}),v.on(C.POPUP_BUTTON,'click',function(){var t=window.location.pathname,e=window.location.search;e=E.url.setParameter(e,'popup','1');var n=t+(e=E.url.setParameter(e,'autoplay','1'));E.window.openPopup(n,'popupModePlayerWindow','width=720, height=427, left=0, top=0,location=no, toolbar=no, menubar=no, scrollbars=no, status=no, resizable=yes'),l.pause(),h.track('popup_player')}),v.on(C.MODIFY_BUTTON,'click',function(){var t=null,e=!1;r.queue.emit('hide:completion'),t=u.ended?(e=!0,d.showControl(e),function(){z(),d.showControl(e)}):(d.hideControl(),function(){l.play()}),M.menu.setClipInfo(),M.menu.setClipCover(u.currentVideo.thumbnailList),r.queue.emit('show:modal',{target:'clipInfoModify',callback:t,forceStop:!0}),Q(),l.pause()}),v.on(C.QUALITY_BUTTON,'click',function(){M.setting.hide(),M.profile.showList(),h.track('profile')}),v.on(C.QUALITY_TITLE,'click',function(){M.profile.hideList(),$()}),v.on(C.SPEED_BUTTON,'click',function(){M.setting.hide(),M.speed.showList(),h.track('speed')}),v.on(C.SPEED_TITLE,'click',function(){M.speed.hideList(),$()}),v.delegate(C.SPEED_LIST,'button','click',function(t){var e=t.target,n=e.getAttribute('data-speed'),i=m('.list_playspeed .on')[0];u.playbackRate=l.setPlaybackRate(parseFloat(n)),M.speed.setSpeedText(n),s.classList.remove(i,'on'),s.classList.add(e.parentElement,'on'),M.speed.hideList(),$(),h.track('speed',n)}),v.on(C.STILL_IMAGE,'mouseover',function(){var t=o.front;u.ended||u.seeking||l.el.paused||u.hasStillVideo||t&&t.type!==y.VIDEO_TYPE.VOD||M.stillImage.on()}),v.on(C.STILL_IMAGE,'mouseout',function(){u.ended||M.stillImage.off()}),v.delegate(C.STILL_IMAGE,'.link_section','click',function(t){if(!u.ended){var e=t.target;if('A'===e.tagName||'IMG'===e.tagName||'SPAN'===e.tagName){v.preventDefault(t),v.stopPropagation(t),e.parentNode&&'A'===e.parentNode.tagName&&(e=e.parentNode);var n=e.getAttribute('data-time');l.seekTo(parseInt(n,10)),h.track('still_image')}M.stillImage.off()}}),v.delegate(C.CLIP_INFO_MODIFY,'.link_share','click',function(t){v.preventDefault(t),v.stopPropagation(t);var e=t.target.href.split('#')[1];i.selectTab(e),i.togglePanel(e)}),v.delegate(C.CLIP_INFO_MODIFY,'.link_cover','click',function(t){var e=t.target;'A'!==e.tagName&&'IMG'!==e.tagName||(v.preventDefault(t),v.stopPropagation(t),e.parentNode&&'A'===e.parentNode.tagName&&(e=e.parentNode),s.classListAll.remove(m('li',C.CLIP_COVER_PANEL),'on'),s.classList.add(e.parentNode,'on'),f('thumnailIndex').value=e.getAttribute('data-thumbnail-index'))}),v.delegate(C.CLIP_INFO_PANEL,'.btn_edit','click',function(){var t=f('lblName');return''===t.value?(alert('동영상 제목을 입력해 주세요.'),void t.focus()):30<=t.length?(alert('동영상 제목은 20자내에서 입력해 주세요.'),void t.focus()):void i.submitClipInfo()}),v.delegate(C.CLIP_COVER_PANEL,'.btn_edit','click',function(){var t=f('thumnailIndex').value;i.submitClipCover(t)}),v.on(C.AUTO_PLAY,'click',function(t){var e=t.target.checked;u.autoplay=e,E.sdk.sendEventCallback(y.PLAYER_CALLBACK_NAME.onChangeAutoPlayMode,[e])}))},B=function(t){t.on('hide:customUI',function(){Q(),M.profile.hideList(),M.stillImage.off(),M.volume.hide(),s.classList.remove(C.SETTING_BUTTON,'open')}),t.on('update:clipinfo',function(t){var e='';'success'===t.status?(e='동영상의 정보 수정이 완료되었습니다.',u.currentVideo.title=t.result.title,u.currentVideo.canScrap=t.result.canScrap,u.currentVideo.isOpen=t.result.isOpen):e='동영상의 정보 수정 중 오류가 발생하였습니다.',r.queue.emit('hide:modal',{callback:function(){d.showNotification(e,function(){d.hideBlind(),u.ended&&(z(),d.showControl(!0))})}})}),t.on('update:clipcover',function(t){var e='';if('success'===t.status){e='동영상의 대표이미지 수정이 완료되었습니다.';for(var n=t.index,i=u.currentVideo.thumbnailList,o=0;o<i.length;o++)i[o].isDefault=!1;i[n]=t.result,u.currentVideo.thumbnailList=i}else e='동영상의 대표이미지 수정 중 오류가 발생하였습니다.';r.queue.emit('hide:modal',{callback:function(){d.showNotification(e,function(){d.hideBlind(),u.ended&&(z(),d.showControl(!0))})}})}),t.on('close:menubox',function(){J()})},V=function(){var t=window.gesture.GestureListener(C.VOLUME);t.onGestureMove(function(t){!function(t){G(K(t)),u.volumeChanging=!0,d.clearTimer()}(t.targetEvent)}),t.onGestureEnd(function(t){!function(t){var e=K(t),n=X(e);G(e),j(l.getVolume()),d.saveRecentMute(n),u.volumeChanging=!1,h.track('volume',parseInt(e))}(t.targetEvent)})},rt.prototype.init=function(t,e){'pc'===g.platform&&(i.isInternal&&!i.popup||(M.setting.hideAutoPlay(),M.screen.hideWide()),i.popup&&(M.popup.hide(),M.screen.hideWide()),U(t),B(e),V(),n.initWithConfig({callback:{up:function(){u.seeking||(d.showControl(l.el.paused),M.volume.show());var t=parseFloat(q())+.1,e=1<t?1:t,n=X(100*e);G(100*e),j(e),d.saveRecentMute(n),M.keyboard.setup(P),M.keyboard.show(),h.track('keyboard','volume_up')},down:function(){u.seeking||(d.showControl(l.el.paused),M.volume.show());var t=parseFloat(q())-.1,e=t<0?0:t,n=X(100*e);G(100*e),j(e),d.saveRecentMute(n),M.keyboard.setup(0==e?N:k),M.keyboard.show(),h.track('keyboard','volume_down')},left:function(t){if(o.front.type===y.VIDEO_TYPE.VOD){u.pausedBeforeSeek=!u.ended&&l.el.paused,t<1&&(u.mutedBeforeSeek=l.getMute());var e=l.getCurrentTimeRound()-5;if(e<0)return;l.setMute(!0),l.seekTo(e),d.showControl(l.el.paused),d.onSeeked(),M.keyboard.setup(L),M.keyboard.show(),h.track('keyboard','prev')}},right:function(t){if(o.front.type===y.VIDEO_TYPE.VOD){u.pausedBeforeSeek=!u.ended&&l.el.paused,t<1&&(u.mutedBeforeSeek=l.getMute());var e=l.getCurrentTimeRound()+5;if(e>l.getDurationRound())return;l.setMute(!0),l.seekTo(e),d.showControl(l.el.paused),d.onSeeked(),M.keyboard.setup(A),M.keyboard.show(),h.track('keyboard','next')}},space:function(){Z(),h.track('keyboard',l.el.paused?'pause':'play')},z:function(){if(o.front.type===y.VIDEO_TYPE.VOD){var t=l.setPlaybackRate(1,!1);M.speed.setSpeedText(t.toString()),u.playbackRate=t,h.track('keyboard','z'),h.track('speed',t.toString())}},comma:function(){if(o.front.type===y.VIDEO_TYPE.VOD){var t=l.setPlaybackRate(-.25,!0);M.speed.setSpeedText(t.toString()),u.playbackRate=t,d.showControl(l.el.paused),M.keyboard.setup(R,t.toString()),M.keyboard.show(),h.track('keyboard','<'),h.track('speed',t.toString())}},period:function(){if(o.front.type===y.VIDEO_TYPE.VOD){var t=l.setPlaybackRate(.25,!0);M.speed.setSpeedText(t.toString()),u.playbackRate=t,d.showControl(l.el.paused),M.keyboard.setup(O,t.toString()),M.keyboard.show(),h.track('keyboard','>'),h.track('speed',t.toString())}},pageUp:function(t){if(o.front.type===y.VIDEO_TYPE.VOD&&o.front.type===y.VIDEO_TYPE.VOD){u.pausedBeforeSeek=!u.ended&&l.el.paused,t<1&&(u.mutedBeforeSeek=l.getMute());var e=l.getCurrentTimeRound()+60;e>l.getDurationRound()&&(e=l.getDurationRound(),u.ended=!0),l.setMute(!0),l.seekTo(e),d.showControl(l.el.paused),d.onSeeked(),M.keyboard.setup(S),M.keyboard.show(),h.track('keyboard','pageUp')}},pageDown:function(t){if(o.front.type===y.VIDEO_TYPE.VOD&&o.front.type===y.VIDEO_TYPE.VOD){u.pausedBeforeSeek=!u.ended&&l.el.paused,t<1&&(u.mutedBeforeSeek=l.getMute());var e=l.getCurrentTimeRound()-60;e<0&&(e=0),l.setMute(!0),l.seekTo(e),d.showControl(l.el.paused),d.onSeeked(),M.keyboard.setup(I),M.keyboard.show(),h.track('keyboard','pageDown')}},end:function(){if(o.front.type===y.VIDEO_TYPE.VOD){var t=l.getDurationRound();u.ended=!0,l.seekTo(t),d.showControl(l.el.paused),d.onSeeked(),h.track('keyboard','end')}},home:function(){o.front.type===y.VIDEO_TYPE.VOD&&(u.pausedBeforeSeek=!u.ended&&l.el.paused,l.seekTo(0),d.showControl(l.el.paused),d.onSeeked(),h.track('keyboard','home'))}}}))},rt.prototype.togglePlayPause=function(t){d.togglePlayPause(t),tt(t)},rt.prototype.toggleMuteUI=function(t,e){H(t,e)},rt.prototype.onEndVideo=function(){var t=o.front;if(t&&t.type===y.VIDEO_TYPE.AD){if('start'===t.timeOffset)return;o.enqueue(u.currentVideo),r.queue.emit('load:videoUrl',u.currentVideo,function(){W()})}else'daum_ad_brand_search'===i.service?r.queue.emit('load:videoById',0,!1):W();M.stillImage.off()},rt.prototype.changeProfileLabel=function(){var t=C.QUALITY_BUTTON.getAttribute('data-label-temp');M.profile.updateLabel(t)},rt.prototype.setAutoPlay=function(t){u.autoplay=t,C.AUTO_PLAY.checked=t},rt.prototype.setWideScreen=function(t){C.WIDE_SCREEN_BUTTON&&(t?(s.classList.remove(C.WIDE_SCREEN_BUTTON,'btn_cinema'),s.classList.add(C.WIDE_SCREEN_BUTTON,'btn_basic'),C.WIDE_SCREEN_BUTTON.setAttribute('aria-label','기본 모드'),C.WIDE_SCREEN_BUTTON.nextElementSibling.innerHTML='기본 모드'):(s.classList.remove(C.WIDE_SCREEN_BUTTON,'btn_basic'),s.classList.add(C.WIDE_SCREEN_BUTTON,'btn_cinema'),C.WIDE_SCREEN_BUTTON.setAttribute('aria-label','시네마 모드'),C.WIDE_SCREEN_BUTTON.nextElementSibling.innerHTML='시네마 모드'))},rt.prototype.setRecentVolume=function(t){0<t&&j(t)},rt.prototype.updateVolumePanel=function(t){G(100*t),0<t&&j(t)},rt.prototype.showAutoPlay=function(){M.setting.showAutoPlay()},rt.prototype.hideAutoPlay=function(){M.setting.hideAutoPlay()},rt.prototype.showWide=function(){M.screen.showWide()},rt.prototype.hideWide=function(){M.screen.hideWide()},rt.prototype.hideProfileList=function(){M.profile.hideList()},rt.prototype.closeMenuBox=function(){J()},rt.prototype.onCompleteImpression=function(){!function(){var t=d.getRecentMute();Y(t?0:q(),t=u.startMuted?u.startMuted:t)}(),u.currentVideo.owner?s.classList.remove(C.MODIFY_BUTTON,'hide'):s.classList.add(C.MODIFY_BUTTON,'hide')},rt.prototype.onLoadStart=function(){!function(){var t=u.currentVideo.thumbnailList;t&&0<t.length&&M.menu.setClipCover(t),M.menu.setClipInfo()}(),function(){var t=u.currentVideo.outputList;t&&0<t.length&&M.profile.create(t)}(),it()},rt.prototype.clearRelatedTimer=function(){null!==x&&clearTimeout(x)},t=rt,r.addModule('view.inline.pc',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(h,p){'use strict';var t,T=h.loadModule('controller.state'),f=h.loadModule('pct.tracker'),m=h.template;t=function(){var t=p.$,e=p.$$,s=p.event,u=h.ENV,l=h.ua,g=h.constants,y=h.helpers,E=g.STORAGE.PROFILE,b=g.STORAGE.ABR,n=g.PHASE[u.phase.toUpperCase()],i='//'+location.host;n!==g.PHASE.LOCAL&&(i='//'+g.SUB_DOMAIN.KAKAO[n]+'.'+g.DOMAIN.KAKAO);var o={COVER:t('customCover'),COVER_THUMB:t('coverImage'),COVER_TIME:e('.custom_cover .time_player em')[0],PLAYER_TITLE:e('.custom_cover .tit_player')[0],COVER_TITLE:e('.custom_cover .link_title')[0],SHARE_BUTTON:e('.custom_cover .btn_share')[0],PLAY_BUTTON:e('.custom_cover .link_play')[0],LOGO:e('.custom_cover .tit_kakaotv a')[0],QUALITY_CONTAINER:e('.cover_quality')[0],APPLINK_BUTTON:e('.custom_cover .btn_liveHD')[0]},r={el:o.COVER,show:function(){p.classList.remove(this.el,'hidden'),p.classList.add(this.el,'visible')},hide:function(){p.classList.add(this.el,'hidden'),p.classList.remove(this.el,'visible')},setThumbnail:function(t){t&&o.COVER_THUMB&&(o.COVER_THUMB.style.backgroundImage='url("'+t+'")')},setTime:function(t){o.COVER_TIME.innerHTML=y.string.timeToString(t)},setTitle:function(t,e){T.currentVideo.isLegacy?(o.COVER_TITLE.style.cursor='text',o.COVER_TITLE.style.textDecoration='none'):(o.COVER_TITLE.style.cursor='pointer',o.COVER_TITLE.style.textDecoration='initial'),o.COVER_TITLE.href=i+t,o.COVER_TITLE.innerHTML=y.string.escapeHtml(e)},showTitle:function(){o.PLAYER_TITLE&&p.classList.remove(o.PLAYER_TITLE,'hide')},setLogo:function(t){o.LOGO&&(o.LOGO.href=i+t)},showLogo:function(){o.LOGO&&p.classList.remove(o.LOGO,'hide')},showShareButton:function(){o.SHARE_BUTTON&&p.classList.remove(o.SHARE_BUTTON,'hide')},hideShareButton:function(){o.SHARE_BUTTON&&p.classList.add(o.SHARE_BUTTON,'hide')},hideAppLinkButton:function(){o.APPLINK_BUTTON&&p.classList.add(o.APPLINK_BUTTON,'hide')},profile:{el:o.QUALITY_CONTAINER,template:{profileList:m.cover_profile_list,supHD:m.superscript_hd},create:function(t){var e,n,i,o,r,a,s,u,l,c=y.store.get(b),d=y.store.get(E),h=this.template.supHD,p={outputs:[]},f=t.filter(function(t){return T.dash?g.DASH_PROFILE[t.profile]===d:t.profile===d});for(var m in t)t.hasOwnProperty(m)&&(i=t,o=m,void 0,r=y.store.get(E),a=T.dash?i.length<=5:i.length<=4,s=T.dash?'LOW'!==r&&0!==i[o].profile:'LOW'!==r&&'LOW'!==i[o].profile,u=T.dash?'LOW'===r&&4!==i[o].profile:'LOW'===r&&'HIGH4'!==i[o].profile,l=i[o].profile!==g.PROFILE.AUTO,(a||s||u)&&l)&&(e=t[m].profile,n=t[m].label,p.outputs.push({profileName:e,profileLabel:this.removeText(n),supHD:0<=n.indexOf('HD')?h.render():'',profileOn:function(){if(d&&0<f.length){if(t[m].profile===d||g.DASH_PROFILE[t[m].profile]===d&&'false'===c)return'on'}else if(t[m].profile===T.currentVideo.profile||2===t[m].profile&&'false'===c)return'on';return''}()}));var v=this.createTemplate(p);this.render(v)},createTemplate:function(t){return this.template.profileList.render(t)},render:function(t){o.QUALITY_CONTAINER.innerHTML=t},show:function(){this.el&&p.classList.remove(this.el,'hide')},hide:function(){this.el&&p.classList.add(this.el,'hide')},removeText:function(t){return t.replace(/[P|HD\s]/g,'')}}};function c(t,e){'VOD'===t?h.queue.emit('click:play:vod',e):'LIVE'===t&&h.queue.emit('click:play:live',e),y.sdk.sendEventCallback(g.PLAYER_CALLBACK_NAME.onClickEventStart,[g.PLAYER_CLICK_ACTION.PLAY,T.currentVideo.id])}function a(){u.extensions?'pc'===l.platform?T.currentVideo.isLegacy?T.currentVideo.canScrap?r.showShareButton():r.hideShareButton():r.showShareButton():T.currentVideo.isLegacy?r.hideShareButton():r.showShareButton():r.hideShareButton()}function d(){}return d.prototype.init=function(t,e){u.coverProfile||r.profile.hide(),u.appLink||r.hideAppLinkButton(),function(a){s.on(o.PLAY_BUTTON,'click',function(t){y.ui.preventDoubleClick(this);var e=y.store.get(b),n=y.store.get(E),i=T.currentVideo.outputList,o=null,r=null;'LIVE'===a.type?r=u.profile||g.PROFILE.MAIN:(o=i.filter(function(t){return T.dash?g.DASH_PROFILE[t.profile]===n:t.profile===n}),r=n&&0<o.length?n:T.currentVideo.profile,!T.dash||'pc'!==l.platform&&'false'===e||(r=g.PROFILE.AUTO)),c(a.type,r),s.preventDefault(t),s.stopPropagation(t),f.track('play')}),s.delegate(o.COVER,'.btn_quality','click',function(t){var e=t.target.getAttribute('data-profile');y.feature.supportsVideoProfile(e)||T.dash||(e=g.PROFILE.BASE),e!==g.PROFILE.AUTO?(y.store.set(E,T.dash?g.DASH_PROFILE[e]:e),y.store.set(b,!1)):y.store.set(b,!0),c(a.type,e),s.preventDefault(t),s.stopPropagation(t),f.track('cover_profile',e)}),s.delegate(o.COVER,'.btn_liveHD','click',function(t){c(a.type,'HIGH'),s.preventDefault(t),s.stopPropagation(t),f.track('liveapp','open')}),s.on(o.COVER,'click',function(t){t.target===o.SHARE_BUTTON&&(s.preventDefault(t),s.stopPropagation(t),h.queue.emit('show:modal',{target:'socialShare',callback:function(){r.showShareButton()}}),r.hideShareButton(),f.track('share'))}),s.on(o.COVER_TITLE,'click',function(t){T.currentVideo.isLegacy&&(s.preventDefault(t),s.stopPropagation(t))}),s.delegate(o.COVER,'.link_title','click',function(){f.track('title')}),s.on(o.LOGO,'click',function(){f.track('tv_logo')})}(t)},d.prototype.setThumbnail=function(t){r.setThumbnail(t)},d.prototype.setTime=function(t){r.setTime(t)},d.prototype.setTitle=function(t,e){r.setTitle(t,e)},d.prototype.setLogo=function(t){r.setLogo(t)},d.prototype.showCover=function(){u.showCover&&r.show()},d.prototype.hideCover=function(){r.hide()},d.prototype.onCompleteImpression=function(){(u.popup||!u.isInternal&&u.showInfo)&&r.showTitle(),a(),u.popup||u.isInternal||T.currentVideo.isLegacy||!u.branding||r.showLogo()},d.prototype.createProfileList=function(t){r.profile.create(t)},d}(),h.addModule('view.cover',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(n,o){'use strict';function t(){}function i(){var t=p.currentVideo;return t?'VOD'===t.type?w.string.format(S,{channelId:t.channelId,clipLinkId:t.id}):w.string.format(I,{channelId:t.channelId,liveLinkId:t.id}):T.HOST}function r(t){var e='';'pc'===b.platform&&(e='width=500, height=500, toolbar=0, menubar=no'),window.open(t,'_blank',e)}function a(t){t.focus(),t.select()}function e(){V.SHARE_BUTTON&&o.classList.remove(V.SHARE_BUTTON,'hide')}function s(){V.SHARE_BUTTON&&o.classList.add(V.SHARE_BUTTON,'hide')}function u(t){h.hideBlind(),function(t){G.modal.hide(),t&&'function'==typeof t.callback&&(G.modal.callback=t.callback),'function'==typeof G.modal.callback&&(G.modal.callback(),G.modal.callback=null),G.modal.isForceStop||''!==c.el.src&&0<c.getCurrentTimeRound()&&!p.ended&&c.play()}(t)}function l(t){var e=y('[data-profile="'+t+'"]',V.PROFILE_LIST_CONTAINER)[0],n=y('.on',V.PROFILE_LIST_CONTAINER)[0];e&&(void 0!==n&&o.classList.remove(n,'on'),o.classList.add(e.parentElement,'on'))}var c,d,h,p,f,m,v,g,y,E,b,T,w,_,A,L,S,I,N,k,P,O,R,C,D,M,x,U,B,V,Y,H,F,G,q,j;t.prototype=(c=n.loadModule('player.html5'),d=n.loadModule('player.shaka'),h=n.loadModule('view.inline'),p=n.loadModule('controller.state'),f=n.loadModule('pct.tracker'),m=n.loadModule('pvt.tracker'),v=n.template,g=o.$,y=o.$$,E=o.event,b=n.ua,T=n.constants,w=n.helpers,_=w.debug,A=n.ENV,L='https://'+location.host,S=L+'/v/#{clipLinkId}',I=L+'/l/#{liveLinkId}',N='http://scrap.cafe.daum.net/_dss_/scrap_tvpot?',k=T.STORAGE.PROFILE,P=T.STORAGE.ABR,O='socialShare',R='sharePanelUrl',C='sharePanelEmbed',D='.btn_close',M=2516,x=2517,U=2518,B=2519,V={PLAYER:g('player'),PLAYER_CONTROLLER:g('controller'),PLAYER_MODAL:g('playerModal'),MODAL_CONTENTS:y('#playerModal .modal_content'),MODAL_CLOSE_BUTTON:y(D),SHARE_BUTTON:g('socialShareBtn'),RELATED_BUTTON:g('relatedClipBtn'),ADD_PLAYLIST_BUTTON:y('#controller .btn_plus')[0],SOCIAL_SHARE_KAKAOSTORY:y('.kakaostory')[0],SOCIAL_SHARE_FACEBOOK:y('.facebook')[0],SOCIAL_SHARE_URLCOPY:y('.urlcopy')[0],SHARE_URL:g('shareUrl'),COPYURL_BOX:g('copyUrlBox'),EMBED_URL:g('iframeUrl'),EXTENSION_LAYER:g('extension'),SOCIAL_SHARE:g(O)||null,SHARE_PANEL_URL:g(R)||null,SHARE_PANEL_EMBED:g(C)||null,EMBED_SIZE_LIST:y('#'+C+' .opt_comm')[0]||null,DEFAULT_SETTING:g('defaultSetting')||null,DETAIL_SETTING:g('detailSetting')||null,SIZE_SELECT_BUTTON:y('#'+C+' .link_selected')[0]||null,PROFILE_LIST_CONTAINER:y('.list_quality')[0],MENU_LIST_CONTAINER:y('.list_menu')[0],KAKAOTALK_SHARE_BUTTON:g('kakaotalkBtn'),AUTOPLAY_CHECKBOX:g('autoplayCheckbox')},Y={profileList:v.extension_profile_list,supHD:v.superscript_hd},H=w.webapi.clipboard,F=H.isSupportQueryCommand(),G={modal:{el:V.PLAYER_MODAL,isForceStop:!1,callback:null,show:function(){p.modalContentActivated=!0,o.classList.remove(this.el,'hide')},hide:function(){p.modalContentActivated=!1,o.classList.add(this.el,'hide')},clearContent:function(){o.classListAll.add(V.MODAL_CONTENTS,'hide')},selectContent:function(t){o.classList.remove(t,'hide')}},share:{kakaotalk:function(){var t=p.currentVideo,e=function(t){var e,n=p.currentVideo.isVertical;return t&&''!==t?(e=n?'S480x640':'S640x360',window.location.protocol+'//t1.daumcdn.net/thumb/'+e+'/?fname='+encodeURIComponent(t)+'&scode=kakaotv'):''}(t.coverUrl),n=p.currentVideo.type,i=function(){var t=p.currentVideo.isVertical;return p.currentVideo.type===T.VIDEO_TYPE.VOD?t?x:M:t?B:U}(),o=null;o=n===T.VIDEO_TYPE.VOD?{title:t.title,duration:t.duration,playCount:t.playCount,clipLinkId:t.id,thumbnailUrl:e,channelName:t.channelName,channelId:t.channelId}:{title:t.title,liveLinkId:t.id,thumbnailUrl:e,channelName:t.channelName,channelId:t.channelId},t.profileImageUrl&&(o.channelProfileImageUrl=t.profileImageUrl),window.Kakao.Link.createCustomButton({container:'#kakaotalkBtn',templateId:i,templateArgs:o,installTalk:!0})},kakaostory:function(){var t=p.currentVideo,e=i(),n=t.title;window.Kakao.Story.share({url:e,text:n})},facebook:function(){var t=i();r('https://m.facebook.com/sharer.php?u='+encodeURIComponent(t))},twitter:function(){var t=i(),e=p.currentVideo.title;r('https://twitter.com/intent/tweet?url='+encodeURIComponent(t)+'&text='+encodeURIComponent(e))},cafe:function(){var t={folder_id:0,location_id:p.currentVideo.channelId,data_id:p.currentVideo.id,source_location_code:8,target_location_code:1},e=w.string.jsonToQueryString(t);r(N+e)},blog:function(){var t={folder_id:0,location_id:p.currentVideo.channelId,data_id:p.currentVideo.id,source_location_code:8,target_location_code:4},e=w.string.jsonToQueryString(t);r(N+e)},urlcopy:function(){var t=i();if(this.el=V.PLAYER_MODAL,F){H.copyText.call(this,t),G.modal.hide();var e={message:['URL을 복사했습니다.','pc'!==b.platform?'<br />':' ','원하는 곳에 붙여넣기 하세요.'].join(''),callback:function(){h.hideBlind(),G.modal.show(),a(V.SHARE_URL),p.ended&&(h.showControl(!0),n.queue.emit('show:completion'))}};n.queue.emit('show:notification',e)}else'pc'!==b.platform&&(o.classList.remove(V.COPYURL_BOX,'hide'),this.setShareUrl(),n.queue.emit('show:modal',{target:'copyUrlBox'}))},setShareUrl:function(){V.SHARE_URL.value=i()},embed:{activateTab:y('#socialShare .on a')[0]||null,setEmbedUrl:function(t,e,n,i){var o=p.currentVideo,r=e||640,a=n||360,s='';'VOD'===o.type?(s=T.SHARE_DOMAIN+'/embed/player/cliplink/'+o.id+'?service='+A.service,0<t&&(s+='&start='+t),i&&(s+='&autoplay=1')):'LIVE'===o.type&&(s=T.SHARE_DOMAIN+'/embed/player/livelink?liveLinkId='+o.id+'&service='+A.service);var u='<iframe title="##TITLE##" width="##WIDTH##" height="##HEIGHT##" src="##IFRAME_URL##" allowfullscreen frameborder="0" scrolling="no" allow="autoplay"></iframe>'.replace('##TITLE##',p.currentVideo.title);u=(u=(u=u.replace('##IFRAME_URL##',s)).replace('##WIDTH##',r)).replace('##HEIGHT##',a),V.EMBED_URL.innerHTML=w.string.escapeHtml(u)},setOption:function(){var t=this.getSelectedSize(),e=this.getStartTime(),n=this.getAutoPlay(),i=t.split('x')[0],o=t.split('x')[1];this.setEmbedUrl(e,i,o,n)},selectSize:function(t){V.SIZE_SELECT_BUTTON.setAttribute('data-selected',t),V.SIZE_SELECT_BUTTON.innerHTML=t},getSelectedSize:function(){return V.SIZE_SELECT_BUTTON.getAttribute('data-selected')},getAutoPlay:function(){return V.AUTOPLAY_CHECKBOX.checked},validateStartTime:function(){var t=g('minute').value,e=g('second').value;return isNaN(t)?(alert('시작시간은 숫자로 입력해주세요.'),g('minute').value='',g('minute').focus(),!1):!isNaN(e)||(alert('시작시간은 숫자로 입력해주세요.'),g('minute').value='',g('second').focus(),!1)},getStartTime:function(){var t=y('input[name="playType"]:checked'),e=0;if(0!==t.length){if(o.classList.has(t[0],'current')&&0<c.getCurrentTimeRound()&&(e=c.getCurrentTimeRound()),o.classList.has(t[0],'point')&&this.validateStartTime()){var n=g('minute').value||0,i=g('second').value||0;e=60*parseInt(n,10)+parseInt(i,10)}return e}},showSizeList:function(){o.classList.add(V.EMBED_SIZE_LIST,'opt_open')},hideSizeList:function(){o.classList.remove(V.EMBED_SIZE_LIST,'opt_open')},toggleSizeList:function(){o.classList.has(V.EMBED_SIZE_LIST,'opt_open')?this.hideSizeList():this.showSizeList()},resetPanel:function(){o.classList.remove(V.SHARE_PANEL_URL,'hide'),o.classList.add(V.SHARE_PANEL_EMBED,'hide'),this.selectTab(R),this.setEmbedUrl()},showDefaultSetting:function(){o.classList.remove(V.DEFAULT_SETTING,'hide'),o.classList.add(V.DETAIL_SETTING,'hide')},hideDefaultSetting:function(){o.classList.add(V.DEFAULT_SETTING,'hide'),o.classList.remove(V.DETAIL_SETTING,'hide')},selectTab:function(t){if(t){o.classList.remove(this.activateTab.parentNode,'on');var e=y('a[href="#'+t+'"]')[0];o.classList.remove(e.parentNode,'hide'),o.classList.add(e.parentNode,'on'),this.activateTab=e}},showTab:function(t){if(t){var e=y('a[href="#'+t+'"]')[0];o.classList.remove(e.parentNode,'hide')}},hideTab:function(t){if(t){var e=y('a[href="#'+t+'"]')[0];o.classList.add(e.parentNode,'hide')}},togglePanel:function(t){g(t)===V.SHARE_PANEL_URL&&(o.classList.remove(V.SHARE_PANEL_URL,'hide'),o.classList.add(V.SHARE_PANEL_EMBED,'hide')),g(t)===V.SHARE_PANEL_EMBED&&(o.classList.remove(V.SHARE_PANEL_EMBED,'hide'),o.classList.add(V.SHARE_PANEL_URL,'hide'),this.showDefaultSetting())}}}},q=function(){var i=G.share;E.on(V.PLAYER_CONTROLLER,'click',function(t){t.target===V.SHARE_BUTTON&&(E.preventDefault(t),E.stopPropagation(t),h.hideControl(),'pc'===b.platform&&i.embed.resetPanel(),n.queue.emit('show:modal',{target:'socialShare'})),t.target===V.ADD_PLAYLIST_BUTTON&&('pc'===b.platform&&w.fullscreen.isFullScreen()&&h.cancelFullscreen(document),n.queue.emit('hide:nonelinear'),w.sdk.sendEventCallback(T.PLAYER_CALLBACK_NAME.onAddPlaylist,[p.currentVideo.clipId]),f.track('keep')),t.target===V.RELATED_BUTTON&&(E.preventDefault(t),E.stopPropagation(t),h.hideControl(),n.queue.emit('show:completion'),f.track('related'))}),E.delegate(V.PLAYER_MODAL,'.kakaostory','click',function(){i.kakaostory(),f.track('share','story')}),E.delegate(V.PLAYER_MODAL,'.facebook','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.facebook(),f.track('share','facebook')}),E.delegate(V.PLAYER_MODAL,'.twitter','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.twitter(),f.track('share','twitter')}),E.delegate(V.PLAYER_MODAL,'.cafe','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.cafe()}),E.delegate(V.PLAYER_MODAL,'.blog','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.blog()}),E.delegate(V.PLAYER_MODAL,'.urlcopy','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.urlcopy(),f.track('share','url_copy')}),E.delegate(V.PLAYER_MODAL,D,'click',function(){n.queue.emit('hide:modal'),f.track('quit_layer')}),E.on(V.SHARE_URL,'click',function(){a(this)}),'pc'===b.platform?(E.delegate(V.SHARE_PANEL_EMBED,'.link_selected','click',function(t){E.preventDefault(t),E.stopPropagation(t),i.embed.toggleSizeList()}),E.delegate(V.SHARE_PANEL_EMBED,'.link_select','click',function(t){E.preventDefault(t),E.stopPropagation(t);var e=t.target.getAttribute('data-size');i.embed.selectSize(e),i.embed.hideSizeList()}),E.delegate(V.SHARE_PANEL_EMBED,'.link_option','click',function(){i.embed.hideDefaultSetting()}),E.delegate(V.SHARE_PANEL_EMBED,'.inp_autoplay','click',function(){var t=i.embed.getAutoPlay();i.embed.setOption(),f.track('get_source',t?'autoplay_check':'autoplay_uncheck')}),E.delegate(V.DETAIL_SETTING,'.btn_function','click',function(t){var e='playpoint_first';if(o.classList.has(t.target,'btn_finish')){i.embed.setOption();var n=y('input[name="playType"]:checked');o.classList.has(n[0],'current')?e='playpoint_now':o.classList.has(n[0],'point')&&(e='playpoint_custom'),f.track('get_source',e),f.track('get_source','size_'+i.embed.getSelectedSize())}i.embed.showDefaultSetting()}),E.delegate(V.SOCIAL_SHARE,'.link_share','click',function(t){E.preventDefault(t),E.stopPropagation(t);var e=t.target.href.split('#')[1];i.embed.selectTab(e),i.embed.togglePanel(e),f.track('url_copy')}),E.on(V.EMBED_URL,'click',function(){a(this)})):(E.on(V.KAKAOTALK_SHARE_BUTTON,'click',function(){f.track('share','talk')}),E.on(V.PLAYER_MODAL,'click',function(t){'A'!==t.target.tagName&&'SPAN'!==t.target.tagName&&n.queue.emit('hide:modal')}),V.PROFILE_LIST_CONTAINER&&E.delegate(V.PROFILE_LIST_CONTAINER,'.link_quality','click',function(t){var e=t.target.getAttribute('data-profile');w.feature.supportsVideoProfile(e)||p.dash||(e=T.PROFILE.BASE),p.dash?(p.currentVideo.profile=e,d.setTrack(e)):h.getClipLocation(e),e!==T.PROFILE.AUTO?(w.store.set(k,p.dash?T.DASH_PROFILE[e]:e),w.store.set(P,!1)):w.store.set(P,!0),h.setProfile(e),l(e),n.queue.emit('hide:modal'),m.intervalStop(),f.track('profile',p.dash?T.DASH_PROFILE[e]:e)}))},j=function(t){t.on('show:modal',function(t){!function(t){var e=t.target,n=!1;if(e&&'string'==typeof e){t&&('function'==typeof t.callback&&(G.modal.callback=t.callback),'boolean'==typeof t.forceStop&&t.forceStop&&(n=!0)),G.modal.isForceStop=n;var i=g(e);i&&(G.modal.clearContent(),G.modal.selectContent(i),G.modal.show(),h.hideControl(),f.track(e))}else _.log('target does not exsist')}(t)}),t.on('hide:modal',function(t){u(t)})},{init:function(t,e){this.videoElement=t.videoElement,q(t.videoElement),j(e)},hideModal:u,showRelatedButton:function(){V.RELATED_BUTTON&&o.classList.remove(V.RELATED_BUTTON,'hide')},hideRelatedButton:function(){V.RELATED_BUTTON&&o.classList.add(V.RELATED_BUTTON,'hide')},onCompleteImpression:function(){'pc'===b.platform?(G.share.setShareUrl(),G.share.embed.setEmbedUrl(),p.currentVideo.isLegacy?p.currentVideo.canScrap&&(G.share.embed.selectTab('sharePanelEmbed'),G.share.embed.hideTab('sharePanelUrl'),G.share.embed.togglePanel('sharePanelEmbed')):p.currentVideo.canScrap&&(G.share.embed.showTab('sharePanelEmbed'),G.share.embed.selectTab('sharePanelUrl'),G.share.embed.togglePanel('sharePanelUrl')),p.currentVideo.canScrap||(G.share.embed.hideTab('sharePanelEmbed'),G.share.embed.togglePanel('sharePanelUrl')),F?o.classList.remove(V.SOCIAL_SHARE_URLCOPY,'hide'):o.classList.add(V.SOCIAL_SHARE_URLCOPY,'hide')):G.share.kakaotalk(),A.isInternal&&!A.popup&&V.ADD_PLAYLIST_BUTTON&&o.classList.remove(V.ADD_PLAYLIST_BUTTON,'hide'),A.extensions?'pc'===b.platform?p.currentVideo.isLegacy?p.currentVideo.canScrap?e():s():e():p.currentVideo.isLegacy?s():e():s()},createProfileList:function(t){var e,n,i,o=Y.supHD,r={outputs:[]};for(var a in t)t.hasOwnProperty(a)&&(e=t[a].profile,n=t[a].label,r.outputs.push({profileName:e,profileLabel:(i=n,i.replace(/[P|HD\s]/g,'')),supHD:0<=n.indexOf('HD')?o.render():'',profileOn:'MAIN'===e?'on':''}));!function(t){V.PROFILE_LIST_CONTAINER.innerHTML=t}(function(t){return Y.profileList.render(t)}(r))},setProfile:l}),n.addModule('view.extension',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(a,o){'use strict';var t,e,n,r,s,c,u,d,l,h,i,p,f,m,v,g,y,E,b,T,w=a.loadModule('view.inline'),_=a.loadModule('view.inline.pc'),A=a.loadModule('player.html5'),L=a.loadModule('view.error'),S=a.loadModule('playlist.dataloader'),I=a.loadModule('controller.state'),N=a.loadModule('view.extension'),k=a.loadModule('pct.tracker');function P(t){'landscape'===d.orientation.getOrientation()&&480<=window.innerWidth||(t<0?g.hideMoreInfo():g.showMoreInfo())}function O(){var t=d.orientation.getOrientation(),e=document.getElementsByClassName('list_item')[0],n=9;if(0<e.childElementCount){var i=document.getElementsByClassName('player_function')[0].clientHeight+document.getElementsByClassName('progress_bar')[0].clientHeight,o=window.getComputedStyle(e,null).transformOrigin.split(' ')[1].replace('px',''),r=parseInt(o,10),a=e.childNodes[0].clientHeight/2;return 1024<=window.innerWidth?n=3*a<r-i?9:2*a<r-i?6:3:850<=window.innerWidth&&window.innerWidth<1024?n=2*a<r-i?6:3:640<=window.innerWidth&&window.innerWidth<850?n=2*a<r-i?4:2:560<=window.innerWidth&&window.innerWidth<640?n=2:window.innerWidth<560&&(n=2,'portrait'===t&&(n=1)),n}return n}function R(t){I.completionLoaded||g.init(I.currentVideo.id,t),'pc'!==c.platform?((e=new window.IScroll('#scrollWrap',{probeType:1,scrollX:!0,snap:!0,click:!0,momentum:!0,resizePolling:30,disablePointer:!1,disableTouch:!1,disableMouse:!1})).on('scroll',function(){P(this.x)}),e.on('scrollEnd',function(){P(this.x)}),p.onPortrait(function(){P(e.x)}),p.onLandscape(function(){g.showMoreInfo()}),l.log('attached:iscroll')):(s.on(window,'resize',function(){var t=g.maxLength;g.maxLength=O(),t!==g.maxLength&&g.resize()}),s.on(f.PREV_BTN,'click',function(){g.showPrev()}),s.on(f.NEXT_BTN,'click',function(){g.showNext()}))}function C(){g.clipList&&0<g.clipList.length&&(g.create(g.clipList),g.resize())}function D(){if(l.log('showCompletion',I.hasRelated),I.hasRelated)'pc'!==c.platform?setTimeout(function(){e.refresh()},100):(g.showItem(),g.hideReplay(),I.ended?(h.extensions?!I.currentVideo.canScrap&&I.currentVideo.isLegacy?g.hideShareButton():g.showShareButton():g.hideShareButton(),g.hideCloseButton()):(g.hideShareButton(),g.showCloseButton()));else{if(!I.ended)return;g.hideItem(),g.showReplay(),g.hideCloseButton(),g.showShareButton()}g.show(),C()}function M(){g.hide()}function x(){}n=o.$,r=o.$$,s=o.event,c=a.ua,u=a.constants,d=a.helpers,l=d.debug,h=a.ENV,i=a.template,p=new o.Orientation,f={COMPLETION_CONTAINER:n('completionContainer'),WAITING_CONTAINER:n('waitingContainer'),COMPLETION:n('completion'),WAITING:n('waiting'),NEXT_VIDEO_TITLE:n('nextVideoTitle'),COMPLETION_MORE_INFO:r('#completion .more_info')[0],PLUS_FRIEND:r('#completion .link_phome')[0],SCROLLER:n('scroller'),LIST:r('#completionContainer ul')[0],SHARE_BUTTON:r('#completion .btn_share')[0],CLOSE_BUTTON:r('#completion .btn_close')[0],NEXT_BTN:r('#completion .btn_next')[0],PREV_BTN:r('#completion .btn_prev')[0],REPLAY_BTN:r('#completion .link_replay')[0],ITEM_OTHER:r('#completion .item_other')[0]},m=function(t,e){S.getRelatedClip(t,e)},v=function(t,e){S.getRecommendedClip(t,e)},g={el:f.COMPLETION,template:{clipList:'pc'===c.platform?i.pc_clip_list:i.m_clip_list,noData:i.list_no_data},clipList:null,maxLength:null,totalItem:null,totalPageNum:null,nextItemCount:null,currentPage:1,init:function(t,e){if(I.currentVideo.hasPlusFriend&&f.PLUS_FRIEND&&o.classList.remove(f.PLUS_FRIEND,'hide'),'VOD'===A.type){var n='mobile'===c.platform?10:36;m(t,n)}else'LIVE'===A.type&&v(t,e);I.completionLoaded=!0},create:function(n){var t,e,i=this.maxLength,o='',r={noData:this.template.noData},a={clipList:[],noDataList:function(){var t=0;if(n.length<i)for(var e=i-n.length;t<e;)t++;return new Array(t)}},s='C600x320';'mobile'===c.platform&&(s='C140x80',a.noDataList=[],this.maxLength=10);for(var u=0;u<n.length;u++)this.maxLength>u&&((t=n[u].clip.thumbnailUrl)&&(e=d.string.getThumbnailFarmUrl(t,s)),o=d.string.timeToString(n[u].clip.duration),a.clipList.push({linkUrl:'/embed/player/cliplink/'+n[u].id,clipLinkID:n[u].id,clipID:n[u].clip.id,channelID:n[u].channelId,feedbackID:n[u].fbId||'',imageUrl:e||'',title:n[u].clip.title||'',viewCount:n[u].clip.playCount||'',duration:o}));var l=this.createTemplate(a,r);this.render(l)},createTemplate:function(t,e){return this.template.clipList.render(t,e)},render:function(t){var e=this.template.noData;f.LIST.innerHTML=t;var n=r('.thumb_item',f.LIST);if(n&&0<n.length)for(var i=0;i<n.length;i++)n[i].onerror=function(){this.parentElement.parentElement.innerHTML=e.render()}},resizeScroll:function(){f.SCROLLER.style.width=189*this.clipList.length+30+'px'},resize:function(){'pc'===c.platform?(this.currentPage=1,this.maxLength=O(),this.calculate(this.currentPage)):this.resizeScroll()},calculate:function(t){var e=this.maxLength*t,n=e-this.maxLength;if(this.clipList&&!(this.clipList.length<1)){var i=this.clipList.slice(n,e);e<this.totalItem?this.nextItemCount=this.totalItem-e:this.nextItemCount=0,0<this.nextItemCount?(o.classList.remove(f.NEXT_BTN,'hide'),e>this.totalItem&&o.classList.add(f.NEXT_BTN,'hide')):o.classList.add(f.NEXT_BTN,'hide'),1<t?(o.classList.remove(f.PREV_BTN,'hide'),this.currentPage=t):(this.currentPage=1,o.classList.add(f.PREV_BTN,'hide'),0<this.nextItemCount&&o.classList.remove(f.NEXT_BTN,'hide')),g.create(i)}},showPrev:function(){1<this.currentPage&&(this.currentPage=this.currentPage-1),l.log('show prev',this.currentPage),this.calculate(this.currentPage)},showNext:function(){0<this.nextItemCount&&(this.currentPage=this.currentPage+1),this.calculate(this.currentPage)},show:function(){I.modalContentActivated=!0,o.classList.remove(f.COMPLETION_CONTAINER,'hide')},hide:function(){I.modalContentActivated=!1,o.classList.add(f.COMPLETION_CONTAINER,'hide')},showReplay:function(){f.REPLAY_BTN&&o.classList.remove(f.REPLAY_BTN,'hidden')},hideReplay:function(){f.REPLAY_BTN&&o.classList.add(f.REPLAY_BTN,'hidden')},showItem:function(){f.ITEM_OTHER&&o.classList.remove(f.ITEM_OTHER,'hidden')},hideItem:function(){f.ITEM_OTHER&&o.classList.add(f.ITEM_OTHER,'hidden')},showMoreInfo:function(){f.COMPLETION_MORE_INFO&&(o.classList.add(f.COMPLETION_MORE_INFO,'visible'),o.classList.remove(f.COMPLETION_MORE_INFO,'hidden'))},hideMoreInfo:function(){f.COMPLETION_MORE_INFO&&(o.classList.remove(f.COMPLETION_MORE_INFO,'visible'),o.classList.add(f.COMPLETION_MORE_INFO,'hidden'))},showShareButton:function(){f.SHARE_BUTTON&&o.classList.remove(f.SHARE_BUTTON,'hide')},hideShareButton:function(){f.SHARE_BUTTON&&o.classList.add(f.SHARE_BUTTON,'hide')},hideCloseButton:function(){f.CLOSE_BUTTON&&o.classList.add(f.CLOSE_BUTTON,'hide')},showCloseButton:function(){f.CLOSE_BUTTON&&o.classList.remove(f.CLOSE_BUTTON,'hide')}},y={el:f.WAITING,autoPlayTimer:null,progressBar:null,clearTimer:function(){this.autoPlayTimer&&clearTimeout(this.autoPlayTimer)},show:function(t){var e=this;this.el&&(o.classList.remove(f.WAITING_CONTAINER,'hide'),o.classList.remove(this.el,'hidden'),o.classList.add(this.el,'visible'),this.clearTimer(),this.progress(),this.autoPlayTimer=setTimeout(function(){t&&'function'==typeof t&&t(),e.autoPlayTimer=null},5e3))},hide:function(){this.el&&(o.classList.remove(this.el,'visible'),o.classList.add(this.el,'hidden'),o.classList.add(f.WAITING_CONTAINER,'hide'))},progress:function(){this.progressBar||(this.progressBar=new window.ProgressBar.Circle('#loaderCircle',{strokeWidth:6,easing:'linear',duration:5e3,color:'#FAE100'})),this.progressBar.set(0),this.progressBar.animate(1)}},E=function(t){t.on('load:clip:related',function(t){'success'===t.status&&(g.clipList=t.data.list,g.totalItem=g.clipList.length,0<g.clipList.length?(I.hasRelated=!0,N.showRelatedButton(),C()):(I.hasRelated=!1,N.hideRelatedButton()))}),t.on('load:clip:recommended',function(t){l.log('load:clip:recommended',t),'success'===t.status&&(g.clipList=t.data.list,0<g.clipList.length?(I.hasRelated=!0,C()):(I.hasRelated=!1,L.addStyle('notice','no_data'),l.warn('recommended clip is empty')),t.callback&&'function'==typeof t.callback&&t.callback(t))})},b=function(){d.device.isSupportCustomController(c)&&(s.delegate(f.COMPLETION_CONTAINER,'.btn_share','click',function(t){s.preventDefault(t),s.stopPropagation(t),a.queue.emit('hide:completion');if(a.queue.emit('show:modal',{target:'socialShare',callback:function(){a.queue.emit('show:completion')}}),'pc'===c.platform){w.showControl(!0)}}),s.delegate(f.COMPLETION_CONTAINER,'.btn_plus','click',function(t){s.preventDefault(t),s.stopPropagation(t),d.sdk.sendEventCallback(u.PLAYER_CALLBACK_NAME.onAddPlaylist,[I.currentVideo.clipId])}),s.delegate(f.COMPLETION_CONTAINER,'.link_replay','click',function(t){s.preventDefault(t),s.stopPropagation(t),a.queue.emit('hide:completion'),a.queue.emit('loadAndPlay:videoById',I.currentVideo.id,I.currentVideo.profile),k.track('replay')}),s.delegate(f.COMPLETION_CONTAINER,'.btn_close','click',function(t){s.preventDefault(t),s.stopPropagation(t),a.queue.emit('hide:completion'),I.ended||A.play()}),s.delegate(f.COMPLETION_CONTAINER,'.link_phome','click',function(t){s.preventDefault(t),s.stopPropagation(t);var e=I.currentVideo.plusFriendProfile.uuid;d.web2app.launchPlusFriend(c,e),k.track('click_talkplus_home')}),s.delegate(f.COMPLETION_CONTAINER,'.link_item','click',function(t){var e=t.target;if('A'===e.tagName||'IMG'===e.tagName||'EM'===e.tagName||'STRONG'===e.tagName||'SPAN'===e.tagName){s.preventDefault(t),s.stopPropagation(t),a.queue.emit('hide:completion'),a.queue.emit('hide:error'),e.parentNode&&'A'===e.parentNode.tagName&&(e=e.parentNode);var n=e.getAttribute('data-cliplink-id'),i=e.getAttribute('data-channel-id'),o=e.getAttribute('data-feedback-id'),r='/channel/'+i+'/cliplink/'+n;o&&''!==o&&(r+='?fbId='+o),l.info('channelViewLink',r),l.info('channelViewLink',r),h.isInternal&&!h.popup?top.location.href=r:A.type===u.VIDEO_TYPE.LIVE?location.href=h.host+'/embed/player/cliplink/'+n+'?service='+h.service:a.queue.emit('loadAndPlay:videoById',n,I.currentVideo.profile,null,o),k.track('relate_clip',n)}}),'pc'===c.platform&&(s.delegate(f.WAITING_CONTAINER,'.link_waiting','click',function(t){s.preventDefault(t),s.stopPropagation(t),l.info('link_waiting',t.target),d.sdk.sendEventCallback(u.PLAYER_CALLBACK_NAME.onEndAutoPlayTimer)}),s.delegate(f.WAITING_CONTAINER,'.link_next','click',function(t){s.preventDefault(t),s.stopPropagation(t),d.sdk.sendEventCallback(u.PLAYER_CALLBACK_NAME.onEndAutoPlayTimer)}),s.delegate(f.WAITING_CONTAINER,'.link_cancel','click',function(t){s.preventDefault(t),s.stopPropagation(t),y.clearTimer(),y.hide(),_.onEndVideo()})))},T=function(t,e){e.on('show:completion',function(){D()}),e.on('hide:completion',function(){M()})},x.prototype.init=function(t,e){E(e),b(),T(t,e)},x.prototype.createCompletion=function(t){R(t)},x.prototype.showCompletion=function(){D()},x.prototype.hideCompletion=function(){M()},x.prototype.setNextVideo=function(t){f.NEXT_VIDEO_TITLE&&(f.NEXT_VIDEO_TITLE.innerHTML=t)},x.prototype.hasNextVideo=function(){return''!==f.NEXT_VIDEO_TITLE.innerHTML},x.prototype.showWaiting=function(){(function(t){y.show(t)}).apply(this,arguments)},x.prototype.hideWaiting=function(){y.hide()},t=x,a.addModule('view.completion',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t){'use strict';var e,a,s,i,u,n,o;function r(){s.seekEnabled=!0,s.adControlActivated=!1,a.hideAd()}function l(){for(var t,e=i.overlayAds,n=0;n<e.length;n++)if(t=e[n].mid_text_ad||e[n].remind_banner,e)return t}function c(){}a=t.loadModule('view.inline'),s=t.loadModule('controller.state'),i=t.loadModule('playlist.queue'),u=t.helpers.debug,n=t.ua,o=function(t){t.on('skip:ad',function(){r()}),t.on('show:modal',function(){a.hideNonLinearAdContainer()}),t.on('hide:modal',function(){a.showNonLinearAdContainer()}),t.on('show:completion',function(){a.hideNonLinearAdContainer()}),t.on('hide:completion',function(){a.showNonLinearAdContainer()}),t.on('show:nonelinear',function(){a.showNonLinearAdContainer()}),t.on('hide:nonelinear',function(){a.hideNonLinearAdContainer()})},c.prototype.init=function(t,e){o(e)},c.prototype.setupAdControl=function(){a.setupAdControl(),a.setupAd()},c.prototype.activateAdControl=function(){s.seekEnabled=!1,s.adControlActivated=!0,a.showAd(),'end'!==i.front.timeOffset&&a.showControl(!1),'pc'===n.platform&&a.hideControlHead()},c.prototype.inactivateAdControl=function(){r()},c.prototype.showLinearAdContainer=function(){a.showLinearAdContainer()},c.prototype.hideLinearAdContainer=function(){a.hideLinearAdContainer()},c.prototype.showNonLinearAd=function(){a.showNonLinearAd()},c.prototype.hideNonLinearAd=function(){a.hideNonLinearAd()},c.prototype.checkNonLinearAd=function(t,e){!function(t,e){var n,i=l(),o=0<i.display_per?i.display_per:1,r=parseInt(e*o/100);u.info('Check NonLinear Ad - time(sec): '+r+'/'+t+'(display/current)'),!i||s.isNonLinearAdShown||s.modalContentActivated||t===r&&(i.title?n='text':i.banner_url&&(n='image'),s.isNonLinearAdShown=!0,a.showNonLinearAd(!0,n))}(t,e)},c.prototype.setupNonLinearAd=function(){!function(){var t=l();t&&a.setupNonLinearAd(t)}()},c.prototype.pauseNonLinearAd=function(){s.isNonLinearAdShown&&a.pauseNonLinearAd()},c.prototype.resumeNonLinearAd=function(){s.isNonLinearAdShown&&a.resumeNonLinearAd()},e=c,t.addModule('controller.ad',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(t,r){'use strict';var e,n,o,i,a,s,u,l,c,d,h,p,f,m,v,g,y,E,b,T,w=t.loadModule('player.html5'),_=t.loadModule('controller.state'),A=t.loadModule('view.inline'),L=t.loadModule('view.completion');function S(t){h.error('Ad event: Error',t.getError()),o&&o.destroy(),'function'==typeof a&&a()}function I(t){var e,n,i,o=w.type.toLowerCase();return e=function(){var t,e,n=_.currentVideo,i=y.PARAM;return w.type===c.VIDEO_TYPE.VOD?t=n.clipId:w.type===c.VIDEO_TYPE.LIVE&&(t=n.liveId),e={tid:n.tid,cpId:n.userId,channelId:n.channelId,contentId:t,dteType:d.device.getDteType(l),appService:p.service,appSection:p.section},r.extend(i,e,!0),i}(),n=d.string.jsonToQueryString(e),i=y.PATH+'/'+o+'/'+t,(f===c.PHASE.REAL?y.URL.REAL:y.URL.ETC)+i+'?'+n}function N(t){var e=I(t);d.http.sendBeacon(e),h.info('pat event',t,e)}function k(){v=!0,n.contentComplete(),'function'==typeof a&&a()}function P(){h.info('Ad event: CONTENT_PAUSE_REQUESTED'),s.pause(),s.removeEventListener('ended',k)}function O(){h.info('Ad event: CONTENT_RESUME_REQUESTED'),s.addEventListener('ended',k),v||s.play()}function R(t){var e=new g.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!1,o=t.getAdsManager(s,e);var n=g.AdEvent.Type,i=g.AdErrorEvent.Type;o.addEventListener(i.AD_ERROR,S),o.addEventListener(n.STARTED,function(){h.info('gdn event - started'),A.hideBlind(),A.endSpinner(),L.hideCompletion(),N(y.EVENT.START)}),o.addEventListener(n.SKIPPED,function(){h.info('gdn event - skipped'),N(y.EVENT.SKIP)}),o.addEventListener(n.CLICK,function(){h.info('gdn event - click'),N(y.EVENT.CLICK)}),o.addEventListener(n.COMPLETE,function(){h.info('gdn event - complete'),N(y.EVENT.COMPLETE)}),o.addEventListener(n.FIRST_QUARTILE,function(){h.info('gdn event - first quartile'),N(y.EVENT.FIRST_QUARTILE)}),o.addEventListener(n.MIDPOINT,function(){h.info('gdn event - midpoint'),N(y.EVENT.MID_POINT)}),o.addEventListener(n.THIRD_QUARTILE,function(){h.info('gdn event - third quartile'),N(y.EVENT.THIRD_QUARTILE)}),o.addEventListener(n.CONTENT_PAUSE_REQUESTED,P),o.addEventListener(n.CONTENT_RESUME_REQUESTED,O),o.addEventListener(n.LOADED,function(){T.show()}),o.addEventListener(n.ALL_ADS_COMPLETED,function(){h.info('gdn event - all ads complete'),o.destroy(),'function'==typeof a&&a()}),o.init('100%','100%',g.ViewMode.NORMAL),o.start(),T.show()}function C(){}u=r.$,l=t.ua,c=t.constants,d=t.helpers,h=d.debug,p=t.ENV,f=c.PHASE[p.phase.toUpperCase()],v=m=!1,g=window.google&&window.google.ima,y={URL:{REAL:location.protocol+'//logging-tv.kakao.com',ETC:location.protocol+'//sandbox-logging.pollock.devel.kakao.com'},PATH:'/v1/pat/gdn',PARAM:{tid:'',cpId:'',channelId:'',contentId:'',adType:'pre',dteType:'',appService:'',appSection:'',appPlayer:'monet_html5'},EVENT:{START:'start',SKIP:'skip',CLICK:'click',COMPLETE:'complete',FIRST_QUARTILE:'firstQuartile',MID_POINT:'midpoint',THIRD_QUARTILE:'thirdQuartile'}},E='https://googleads.g.doubleclick.net/pagead/ads?client=ca-video-pub-3302927352513848&slotname=9888066795&ad_type=skippablevideo&description_url=https%3A%2F%2Ftv.kakao.com&videoad_start_delay=0',b={AD_CONTAINER:u('adContainer')},T={el:b.AD_CONTAINER,show:function(){r.classList.remove(this.el,'hidden'),r.classList.add(this.el,'visible')},hide:function(){r.classList.remove(this.el,'visible'),r.classList.add(this.el,'hidden')}},C.prototype.init=function(){s=w.el},C.prototype.setup=function(t){a=t,g&&!m&&(h.info('initialImaAds'),g.settings.setLocale('ko'),l.os.ios&&10<=l.os.version.major&&'mobile'===l.platform&&g.settings.setDisableCustomPlaybackForIOS10Plus(!0),i=new g.AdDisplayContainer(b.AD_CONTAINER,s),(n=new g.AdsLoader(i)).addEventListener(g.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,R,!1),n.addEventListener(g.AdErrorEvent.Type.AD_ERROR,S,!1),i.initialize(),s.load(),m=!0)},C.prototype.destroy=function(){g&&o&&(o.destroy(),this.hide())},C.prototype.requestAds=function(){if(g){this.destroy();var t=new g.AdsRequest;t.adTagUrl=E,n.requestAds(t)}},C.prototype.hide=function(){g&&T.hide()},e=C,t.addModule('controller.ima',new e)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t,o){'use strict';var e,a,s,P,O,r,n,i,u,l=t.loadModule('view.cover'),c=t.loadModule('view.error'),d=t.loadModule('playlist.queue'),h=t.loadModule('etc.tracker'),R=t.loadModule('controller.state'),C=t.loadModule('player.html5'),p=t.loadModule('player.shaka'),f=t.loadModule('playlist.dataloader'),m=t.loadModule('controller.ima'),v=t.loadModule('view.inline'),g=t.loadModule('view.inline.pc'),y=t.loadModule('view.extension'),E=t.loadModule('view.completion'),b=t.loadModule('pvt.tracker'),T=t.loadModule('pct.tracker'),w=t.loadModule('controller.ad');function _(){var t=O.store.get(P.STORAGE.UUID);return null===t?'-1':t}function A(t){if(t.uuid){var e=_();t.uuid&&t.uuid!==e&&(e=t.uuid),O.store.set(P.STORAGE.UUID,e)}}function L(){var t=O.feature.supportsH264();return!('pc'===a.platform&&a.os.windows&&!t)}function S(t,e){var n=t.code;c.getStatusByCode(n).NAME===u.UNAVAILABLE.NAME&&(n=u.UNAVAILABLE),v.endSpinner(),c.showError(n,t,e)}function I(t){var e=P.STORAGE.ALERT_MSG,n=!0,i={status:{},accept:function(){},cancel:function(){}};return o.extend(i,t,!0),i.status.NAME===u.CARRIER.NAME&&(n='1'!==O.store.get(e)),n?s.isInternal?void c.showError(i.status.NAME,{},{acceptCallback:function(){return O.store.set(e,'1',2),i.accept()},cancelCallback:function(){return i.cancel()}}):confirm(i.status.DESCRIPTION.replace('<br />',''))?(O.store.set(e,'1',2),i.accept()):i.cancel():i.accept()}function N(t,e){var n=O.webapi.network.isWifi();if('pc'!==a.platform&&!O.device.isFacebookWebview()&&!n&&s.showConfirm)return I({status:t,accept:function(){c.hideError(),e()},cancel:function(){l.showCover(),c.hideError(),O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onPlayCancel)}});c.hideError(),e()}function k(t,e){r.info('%c%s','color: #FF5722; font-weight: bold;','------- load video resource -------',t.videoUrl);var n=t.videoUrl,i=d.overlayAds;R.ended=R.allAdsCompleted,R.isCheckNextVideo=!1,R.dash&&'AD'!==t.type?p.load(function(){p.getOutputs(function(t){R.currentVideo.outputList=t,'pc'===a.platform?g.onLoadStart():(y.createProfileList(R.currentVideo.outputList),y.setProfile(R.currentVideo.profile),v.setProfile(R.currentVideo.profile),v.onLoadStart())})}):(C.setVideoSource(n),C.load()),function(t){var e=setInterval(function(){0<C.el.readyState&&('function'==typeof t&&t(),clearInterval(e))},50)}(function(){R.allAdsCompleted||h.setTracker(t),i&&h.setNonLinearTracker(i),'function'==typeof e&&e()})}function D(t){r.info('%c%s','color: #20b408','7. [controller] fetch xylophone:vast',t);var e=[];if(!O.device.isSupportAd(a))return d.playList;try{f.fetchXylophoneVast(t),'start'===t.timeOffset?e=d.prerolls.concat(d.playList):'end'===t.timeOffset&&(e=d.postrolls,0===d.postrolls.length&&(R.isPostrollEnded=!0))}catch(t){}return e}function M(){d.front.type!==P.VIDEO_TYPE.AD&&'AGE_19'===R.currentVideo.ageLimit&&(c.showError(u.AGE_19.NAME,{}),C.pause(),setTimeout(function(){c.hideError(),C.play()},2e3))}function x(){setTimeout(function(){U(),t.queue.emit('show:error',{info:{code:u.UNAVAILABLE_ADBLOCK.NAME}}),T.track('linear_pre','block')},100)}function U(){try{m.destroy(),w.inactivateAdControl()}catch(t){r.error(t)}C.stop(),C.load(),t.queue.emit('load:videoById',0,!1)}function B(){function t(){var t=C.play();void 0!==t?t.then(function(){l.hideCover(),M()}).catch(function(t){r.tooltip('현재 브라우저의 환경에서는 자동재생 기능을 지원하지 않습니다. Play버튼을 클릭하면 재생할 수 있습니다.'+t),R.autoplayFail=!0,U()}):M()}var e=R.currentVideo;if(window.blockAdBlock){if(e.skipOnErrorOfAdApi||e.skipOnErrorOfAdContents)return void t();window.blockAdBlock.on(!0,x).onNotDetected(t),window.blockAdBlock.check(!0)}}function V(t){var e,n=!1;if(!R.isPrerollEnded||!R.isPostrollEnded)if(0<d.playList.length)!function(t){r.info('%c%s','color: #20b408','9. [controller] startVideo',t.type,t.timeOffset),v.startSpinner(),m.destroy(),t&&t.videoUrl&&(t.type!==P.VIDEO_TYPE.AD&&!c.checkValidation(t)||k(t,function(){B(),O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onPlayStart,[R.currentVideo.vid,t&&t.type,R.currentVideo.id]),O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onPlayInlineStart)}))}(d.dequeue());else{if(0<d.contents.length){e=d.contents.shift();var i=O.device.isIMASupportedBrowser(a);if(d.enqueue(e),e.vmapReq&&e.prerollReq&&!R.isPrerollEnded)try{if(d.playList=D(e.prerollReq),e.prerollReq.extensions&&e.prerollReq.extensions.extension&&0<e.prerollReq.extensions.extension.length&&(n=e.prerollReq.extensions.extension[0].use_gdn),0===d.prerolls.length&&i&&n)return m.setup(function(){m.hide(),V(),o.StopWatch.start('startPlay')}),l.hideCover(),v.startSpinner(),void m.requestAds()}catch(t){r.error(t)}R.isPrerollEnded&&!R.isPostrollEnded&&(d.playList=D(e.postrollReq),0===d.playList.length&&(R.isPostrollEnded=!0,R.allAdsCompleted=!0,t&&'function'==typeof t&&t())),V()}r.info('startNextQueue - state.allAdsCompleted:',R.allAdsCompleted,', state.ended:',R.ended)}}function Y(t){var e=O.sdk.getDefaultCallbackParams(R.currentVideo);O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onStartLoadVideo,e),d.contents.push(t),V(),d.front&&d.front.type!==P.VIDEO_TYPE.AD&&o.StopWatch.start('startPlay'),r.info('%c%s','color: #20b408','6. [controller] load video',t)}function H(t){R.currentVideo&&N(u.CARRIER,function(){l.hideCover(),v.startSpinner(),'pc'===a.platform?Y(R.currentVideo):(R.currentVideo.profile===t?Y(R.currentVideo):R.dash?(R.currentVideo.profile=t,Y(R.currentVideo),R.needSetTrack=!0):v.getClipLocation(t,function(){Y(R.currentVideo)}),y.setProfile(t),v.setProfile(t))})}function F(t){var e=t||(''!==s.start?s.start:0);isNaN(e)||0<(e=parseInt(e,10))&&C.setTime(e)}function G(){s.mute&&(R.startMuted=!0)}function q(){r.info('isSupportedCodecWindows',L()),L()?(G(),function(){if(s.showCover){var t=R.currentVideo,e='/channel/#{channelId}/cliplink/#{clipLinkId}';e=O.string.format(e,{channelId:t.channelId,clipLinkId:t.id});var n='pc'===a.platform?'C640x360':'C480x270',i=O.string.getThumbnailFarmUrl(t.coverUrl,n);''!==s.coverUrl&&(i=s.coverUrl),l.setThumbnail(i),l.setTime(t.duration),l.setTitle(e,t.title),l.setLogo(e)}}(),b.clear()):c.showError(u.CODEC_NOT_INSTALLED.NAME,{})}function j(t,e,n){var i=R.currentVideo.tid,o=_(),r={service:s.service,section:s.section,tid:i,uuid:o,profile:e||s.profile,dteType:O.device.getDteType(a),continuousPlay:R.continuousPlay,contentType:R.dash?'DASH':''};s.ptoken&&(r.ptoken=s.ptoken),f.getClipRaw(t,r,n)}function K(t,e,n){var i=_(),o={service:s.service,section:s.section,uuid:i,dteType:O.device.getDteType(a),playerLegacy:s.playerLegacy};s.ptoken&&(o.ptoken=s.ptoken),n&&(o.fbId=n),f.getClipImpression(t,o,e),O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onStartImpression,[t])}function X(t,e){l.createProfileList(t),y.createProfileList(t),y.setProfile(e),v.setProfile(e)}function W(t){var e=t.data,n=e.videoLocation,i=R.currentVideo;e.abrVideoLocationList&&0<e.abrVideoLocationList.length&&p.isBrowserSupported()&&!R.dashError&&s.dash?(r.tooltip('Dash Support : ','true'),e.abrVideoLocationList.forEach(function(t){t.type!==P.CONTENT_TYPE.DASH||i.videoUrl||(i.videoUrl=t.url+'?'+t.param,i.profile=P.PROFILE.AUTO,p.setManifestUri(i.videoUrl),R.dash=!0)})):(r.tooltip('Dash Support :','false'),i.videoUrl=n&&n.url,i.profile=n&&n.profile,R.dash=!1),i.vmapReq=e.vmapReq,i.tracking.pvt=e.pvt,i.tracking.pct=e.pct,i.outputList=e.outputList,i.skipOnErrorOfAdApi=e.skipOnErrorOfAdApi,i.skipOnErrorOfAdContents=e.skipOnErrorOfAdContents,i.seekUrl=e.seekUrl,i.abrVideoLocationList=e.abrVideoLocationList,'pc'!==a.platform&&(R.dash?p.getOutputs(function(t){i.outputList=t,X(i.outputList,i.profile)}):X(i.outputList,i.profile));try{i.dsp=e.vmapReq.pre.imp_request.dsp_id}catch(t){}}function z(t,e){var n=function(t){var e=!!s.autoplay;return'boolean'==typeof t&&(e=t),e}(e),i=O.sdk.getDefaultCallbackParams(R.currentVideo);O.sdk.sendEventCallback(P.PLAYER_CALLBACK_NAME.onReadyVideo,i),n?Y(t):l.showCover()}function $(){c.hideError(),l.hideCover(),y.hideModal(),E.hideCompletion(),'pc'===a.platform&&(v.showControlHead(),v.showControlFooter(),v.resizeControl(),E.hideWaiting())}function Q(){v.startSpinner(),R.init(),w.hideLinearAdContainer(),w.hideNonLinearAd(),$()}function J(t){var e=t.clipLink.id,n=t.clipLink.channelId,i=t.clipLink.clip,o=i.id,r=i.userId,a=t.clipLink.channel,s=t.playingInfo,u=i.vid,l=i.status,c=i.thumbnailUrl,d=O.env.isSandbox()?[{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/0.png',timeInSec:27,isDefault:!0},{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/1.png',timeInSec:55,isDefault:!1},{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/2.png',timeInSec:83,isDefault:!1},{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/3.png',timeInSec:110,isDefault:!1},{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/4.png',timeInSec:138,isDefault:!1},{thumbnailUrl:'http://t1.daumcdn.net/tvpot/thumb/s4da871AGx0iAmGCCmGimk1/5.png',timeInSec:166,isDefault:!1}]:i.clipChapterThumbnailList,h=i.duration,p=i.title,f=i.canScrap,m=i.shouldGeoBlock,v=i.isOpen,g=i.isVertical,y=i.ageLimit,E=i.wasLive,b=a.hasPlusFriend||!1,T=a.plusFriendProfile||{},w=a.isLegacy,_=t.tid,A=t.login,L=t.owner,S=C.profile,I=i.playCount,N=a.name,k=((a.user||{}).userSkinData||{}).profileImageUrl;R.currentVideo=O.model.clipBean(u,n,e,o,r,l,S,P.VIDEO_TYPE.VOD,c,d,h,p,f,m,b,T,w,v,g,y,_,E,s,A,L,I,N,k)}function Z(t){return isNaN(t)?t:parseInt(t,10)}function tt(){}a=t.ua,s=t.ENV,P=t.constants,O=t.helpers,r=O.debug,n=P.PHASE[s.phase.toUpperCase()],i=P.APP_KEY[n],u=P.ERROR.STATUS,tt.prototype.init=function(){v&&v.startSpinner(),window.registerApiMessenger(s.usePostMessage),void 0!==window.Kakao&&void 0===window.Kakao.Auth&&window.Kakao.init(i),O.device.isSupportCustomController(a)},tt.prototype.changeVideoResource=function(){!function(){var t=R.currentVideo,e=C.getCurrentTimeRound();C.setVideoSource(t.videoUrl),C.load(),C.setTime(e)}()},tt.prototype.loadVideo=function(t){Y(t)},tt.prototype.load=function(t,e,n,i){C.stop(),C.load(),F(n),v.hideControl(),(void 0===i||i||R.isPrerollEnded&&R.isPostrollEnded)&&d.init(),function(n,i,o){if(!(void 0===o||o||R.isPrerollEnded&&R.isPostrollEnded))return d.dequeueCancel(d.front),l.showCover();Q(),K(n,function(t){var e;if('success'===t.status){if(J(e=t.data),A(e),e.playingInfo)return void S(e.playingInfo);q()}j(n,i,function(t){W(t),t.data&&t.data.pct&&h.setPCTTracker(t.data.pct),t.data&&t.data.qoe&&h.setQOETracker(t.data.qoe),v.endSpinner();var e=R.currentVideo;O.device.isSupportAd(a)&&e.vmapReq?f.fetchXylophoneVmap(e.vmapReq,function(){z(e,o)}):z(e,o)})})}(Z(t),e,i)},tt.prototype.loadAndPlay=function(t,e,n,i,o){C.stop(),C.load(),F(n),v.hideControl(),d.init(),function(n,i,t,e){if(Q(),e)for(var o in e)e.hasOwnProperty(o)&&void 0!==R[o]&&(R[o]=e[o]);K(n,function(t){var e;if('success'===t.status){if(J(e=t.data),A(e),e.playingInfo)return void S(e.playingInfo);q()}j(n,i,function(t){W(t);var e=R.currentVideo;O.device.isSupportAd(a)&&e.vmapReq?f.fetchXylophoneVmap(e.vmapReq,function(){z(e,!0)}):z(e,!0)})},t)}(Z(t),e,i,o)},tt.prototype.normalizeVideoId=function(t){Z(t)},tt.prototype.startNextQueue=function(t){V(t)},tt.prototype.preStartVideo=function(t){H(t)},tt.prototype.play=function(t){''===C.el.src?H(t=t||R.currentVideo.profile):B()},tt.prototype.pause=function(){C.pause()},tt.prototype.stop=function(){U()},tt.prototype.seekTo=function(t){!function(t){try{R.pausedBeforeSeek=!R.ended&&C.el.paused,C.seekTo(t)}catch(t){r.error('video content might not be loaded')}}(t)},tt.prototype.getDuration=function(){return C.getDurationRound()},tt.prototype.setVolume=function(t){!function(t){g.updateVolumePanel(t)}(t)},tt.prototype.setMute=function(t){!function(t){C.setMute(t)}(t)},tt.prototype.setAutoPlayMode=function(t){!function(t){var e='true'===t||!0===t;g.setAutoPlay(e)}(t)},tt.prototype.setWideScreenMode=function(t){!function(t){var e='true'===t||!0===t;g.setWideScreen(e)}(t)},tt.prototype.setNextVideo=function(t){t&&''!==t&&(r.info('setNextVideo',decodeURIComponent(t)),E.setNextVideo(decodeURIComponent(t)))},tt.prototype.setAutoplayVisible=function(t){!0===t?g.showAutoPlay():g.hideAutoPlay()},tt.prototype.setContinuousPlay=function(t){'boolean'==typeof t&&(R.continuousPlay=t)},tt.prototype.setBeaconData=function(t){h.setBeaconData(t)},tt.prototype.setPlaybackRate=function(t){!function(t){C.setPlaybackRate(t)}(t)},tt.prototype.setupControl=function(){'VOD'===C.type?v.setupVideoControl():'LIVE'===C.type&&v.setupLiveControl()},tt.prototype.resetCustomUI=function(t){$()},tt.prototype.resetForLoad=function(){Q()},tt.prototype.showError=function(t,e){S(t,e)},tt.prototype.showConfirm=function(t){I(t)},tt.prototype.alert3G4G=function(t,e){N(t,e)},tt.prototype.setUUID=function(t){A(t)},tt.prototype.setLiveBean=function(t){!function(t){var e=t.liveLink.channel,n=t.liveLink.id,i=t.liveLink.channelId,o=t.liveLink.live,r=o.id,a=o.userId,s=t.playingInfo,u=o.thumbnailUri,l=o.status,c=o.duration,d=o.title,h=o.liveType,p=o.canScrap,f=e.hasPlusFriend,m=o.shouldGeoBlock,v=o.isOpen,g=o.ageLimit,y=o.needPassword,E=o.ccuCount,b=t.login,T=t.owner,w=t.tid,_=t.raw&&t.raw.videoLocation.profile,A=e.name,L=((e.user||{}).userSkinData||{}).profileImageUrl,S=o.coverThumbnailUrl;R.currentVideo=O.model.liveBean(i,n,r,a,l,_,P.VIDEO_TYPE.LIVE,u,c,d,h,p,m,f,v,g,y,E,w,s,b,T,A,L,S)}(t)},tt.prototype.readyVideo=function(t,e){z(t,e)},tt.prototype.loadVideoResource=function(t){k(t)},tt.prototype.setDefaultOptions=function(){G()},tt.prototype.cancelFullScreen=function(){v.cancelFullscreen(document)},e=tt,t.addModule('controller.video',new e)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(t){'use strict';var e,r,o,n,i,a,s,u,l,c,d,h,p,f,m,v,g,y,E,b,T;function w(){f.os.android?s.currentVideo.contentType=b?m.CONTENT_TYPE.HLS:m.CONTENT_TYPE.RTSP:s.currentVideo.contentType=m.CONTENT_TYPE.HLS}function _(t){var e=s.currentVideo;if(e)if(y.showHDConfirm&&t===m.PROFILE.HIGH)T.filterHDAlert(t);else{var n=s.currentVideo.videoUrl,i=T.isSupportHLS();g.tooltip('isSupportHLS',i),T.filter3G4GAlert(n,function(){o.hideCover(),i?l.loadVideo(e):(window.open(n,'_top'),o.showCover(),g.tooltip('현재 브라우저의 환경에서는 HLS를 지원하지 않습니다.',''))})}}function A(){var t=v.store.get(m.STORAGE.UUID);return null===t?'-1':t}function L(t){var e=t.videoLocation,n=s.currentVideo;n.videoUrl=e&&e.url,n.profile=e&&e.profile,n.vmapReq=t.vmapReq,n.tracking.pvt=t.pvt,n.tracking.pct=t.pct,n.outputList=t.outputList,n.skipOnErrorOfAdApi=t.skipOnErrorOfAdApi,n.skipOnErrorOfAdContents=t.skipOnErrorOfAdContents;try{n.dsp=t.vmapReq.pre.imp_request.dsp_id}catch(t){}}function S(t,e,n){y.showHDConfirm&&y.autoplay&&e===m.PROFILE.HIGH?T.filterHDAlert(e):l.readyVideo(t,n)}function I(t,e,n){L(t),r.endSpinner();var i=s.currentVideo;v.device.isSupportAd(f)&&i.vmapReq?c.fetchXylophoneVmap(i.vmapReq,function(){S(i,e,n)}):S(i,e,n)}function N(t,e,n){var i=s.currentVideo,o=i.tid,r=A(),a={service:y.service,section:y.section,tid:o,uuid:r,profile:e,dteType:v.device.getDteType(f),contentType:i.contentType,liveLinkId:t};c.getLiveRaw(t,a,function(t){I(t.data,e,n)})}function k(){h.clear(),l.setDefaultOptions(),w(),function(){if(y.showCover){var t=s.currentVideo,e='/channel/#{channelId}/livelink/#{liveLinkId}';e=v.string.format(e,{channelId:t.channelId,liveLinkId:t.id});var n=v.string.getThumbnailFarmUrl(t.coverUrl,'C640x360');''!==y.coverUrl&&(n=y.coverUrl),o.setThumbnail(n),o.setTitle(e,t.title),o.setLogo(e)}}(),r.endSpinner(),t.queue.emit('create:kakaotalkLink')}function P(){}r=t.loadModule('view.inline'),o=t.loadModule('view.cover'),n=t.loadModule('view.error'),i=t.loadModule('playlist.queue'),a=t.loadModule('etc.tracker'),s=t.loadModule('controller.state'),u=t.loadModule('player.html5'),l=t.loadModule('controller.video'),c=t.loadModule('playlist.dataloader'),d=t.loadModule('view.completion'),h=t.loadModule('pvt.tracker'),p=t.loadModule('pct.tracker'),f=t.ua,m=t.constants,v=t.helpers,g=v.debug,y=t.ENV,E=m.ERROR.STATUS,b=v.feature.supportsHLSAndroid(),T={filter3G4GAlert:function(t,e){l.alert3G4G(E.CARRIER,e)},filterHDAlert:function(t){return l.showConfirm({status:E.LAUNCH_APP,accept:function(){''===u.el.src&&o.showCover(),n.hideError(),T.goApp(t),p.track('liveapp','ok')},cancel:function(){''===u.el.src?o.showCover():r.showControl(),n.hideError(),v.sdk.sendEventCallback(m.PLAYER_CALLBACK_NAME.onPlayCancel)}})},filterLinear:function(t){return l.showConfirm({status:E.LINEAR_LIVE,accept:function(){o.showCover(),n.hideError(),T.goApp(t)},cancel:function(){o.showCover(),n.hideError(),v.sdk.sendEventCallback(m.PLAYER_CALLBACK_NAME.onPlayCancel)}})},goApp:function(t){var e=s.currentVideo.id;v.web2app.launchKakaoTV(f,e,t)},isSupportHLS:function(){return!(!f.os.android||!b)||!(!f.os.ios||!v.feature.supportsHLS())}},P.prototype.init=function(){},P.prototype.load=function(t,e,n){!function(n,i,o){var t=A(),e={service:y.service,section:y.section,uuid:t,dteType:v.device.getDteType(f),profile:i,liveLinkId:n};s.init(),r.startSpinner(),c.getLiveImpression(n,e,function(t){var e;if('success'===t.status){if((e=t.data)&&e.pct&&a.setPCTTracker(e.pct),e&&e.pit&&v.http.sendBeacon(e.pit.url),l.setLiveBean(e),l.setUUID(e),e.playingInfo)return t.params.liveType&&'list'===t.params.liveType?void alert(e.playingInfo.message):void l.showError(e.playingInfo,{callback:function(){e.playingInfo.code===E.LIVE_OFF.NAME&&y.rel&&d.createCompletion(function(){d.showCompletion()})}});if(e.liveLink.live.liveType===m.CONTENT_TYPE.LINEAR)return T.filterLinear(i),void r.endSpinner();k(),e.raw?I(e.raw,i,o):N(n,i,o)}})}(function(t){if(u.type===m.VIDEO_TYPE.LIVE){if(''!==t&&!isNaN(t))return parseInt(t,10);g.error('LIVE 플레이어 사용을 위해서는 liveLinkId 값을 설정해야합니다.')}}(t),e,n)},P.prototype.playLiveForList=function(t,e){!function(t,n){var e=A(),i={service:y.service,section:y.section,uuid:e,dteType:v.device.getDteType(f),profile:n,liveType:'list'};s.init(),c.getLiveImpression(t,i,function(t){var e;if('success'===t.status){if(e=t.data,l.setLiveBean(e),l.setUUID(e),e.playingInfo&&t.params.liveType&&'list'===t.params.liveType)return void alert(e.playingInfo.message);h.clear(),w()}N(n,function(t){if(L(t),n===m.PROFILE.HIGH){if(!confirm(E.LAUNCH_APP.DESCRIPTION.replace('<br />','')))return;T.goApp(n)}else{var e=s.currentVideo.videoUrl;if(!confirm(E.CARRIER.DESCRIPTION.replace('<br />','')))return;h.setProgress(1),window.open(e,'_top')}v.sdk.sendEventCallback(m.PLAYER_CALLBACK_NAME.onReadyVideo)})})}(t,e)},P.prototype.play=function(t){if(''!==u.el.src)return i.front.type!==m.VIDEO_TYPE.AD&&r.hideControl(),o.hideCover(),void u.play();_(t=t||s.currentVideo.profile)},P.prototype.preStartVideo=function(t){_(t)},e=P,t.addModule('controller.live',new e)}(window.monet=void 0===window.monet?{}:window.monet),function(i,o){'use strict';var t,e,r,a,s,u,n,l,c,d,h,p,f,m,v,g,y,E=i.loadModule('view.error'),b=i.loadModule('playlist.queue'),T=i.loadModule('etc.tracker'),w=i.loadModule('vast.tracker'),_=i.loadModule('pvt.tracker'),A=i.loadModule('qoe.tracker'),L=i.loadModule('controller.state'),S=i.loadModule('player.html5'),I=i.loadModule('view.inline'),N=i.loadModule('view.inline.pc'),k=i.loadModule('controller.ad'),P=i.loadModule('controller.video'),O=i.loadModule('view.completion');function R(t){var e=b.front;'pc'===r.platform?N.togglePlayPause(t):e&&e.type===a.VIDEO_TYPE.AD?I.toggleAdPlayPause(t):I.togglePlayPause(t)}function C(){return s.fullscreen.isFullScreen()}function D(){var t=b.front;u.info('%c%s','color: #2074c0;','[video event] durationchange - ',t&&t.type),t&&t.type===a.VIDEO_TYPE.AD?(k.setupAdControl(),k.showLinearAdContainer()):(P.setupControl(),L.isNonLinearAdShown||k.setupNonLinearAd(),n.rel&&O.createCompletion(),n.isAdType&&I.showControl(!0)),function(){var t=document.body.clientWidth,e=t/S.el.videoWidth,n=S.el.videoHeight*e,i=b.front;s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onMeasureHeight,[n,t,i.id])}()}function M(){var t=b.front;d=c=0,u.info('%c%s','color: #2074c0;','[video event] canplay - ',t&&t.type,L.ended),t&&t.type===a.VIDEO_TYPE.AD&&k.activateAdControl()}function x(){var e=b.front,t=!S.el.paused&&!L.seeking&&b.overlayAds&&0<b.overlayAds.length;S.el.seeking||(h=S.getCurrentTime()),S.getCurrentTimeRound()>=S.getDurationRound()&&(L.ended=!0),c=S.getCurrentTimeRound(),d<c&&(u.log('%c%s','color: #2074c0;','[video event] timeupdate - currentTime',c),I.onTimeUpdate(c,S.getDurationRound()),e&&e.type===a.VIDEO_TYPE.AD?(w.setDuration(S.getDurationRound()),w.setProgress(c)):(_.setDuration(S.getDurationRound()),_.setProgress(c),1<S.getDurationRound()&&T.checkBeaconData(c/S.getDurationRound()),t&&k.checkNonLinearAd(c,S.getDurationRound())),e.type===a.VIDEO_TYPE.LIVE&&r.os.android&&(v&&(clearTimeout(v),v=null),v=setTimeout(function(){if(!S.el.paused){var t={code:'LiveException',message:'라이브가 종료되었거나, 재생이 원활하지 않습니다.',needCheck:!1};L.ended=!0,E.showError(t.code,t,null),s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onVideoStateChange,[a.PLAYER_VIDEO_STATE.ENDED,L.currentVideo.id,S.getCurrentTimeRound(),e&&e.type])}},1e4))),d=c}function U(){var t=b.front;if(u.info('%c%s','color: #2074c0;','[video event] seeking'),S.getCurrentTimeRound()<S.getDurationRound()&&O.hideCompletion(),t&&t.type===a.VIDEO_TYPE.AD){var e=S.getCurrentTime()-h;.01<Math.abs(e)&&(S.el.currentTime=h)}}function B(){o.StopWatch.has('seek')&&A.track(m.SEEK,{numeric1:o.StopWatch.stop('seek')});var t=b.front;u.info('%c%s','color: #2074c0;','[video event] seeked -',t&&t.type,this.currentTime),I.endSpinner(),I.onSeeked(),t&&t.type!==a.VIDEO_TYPE.AD&&p&&(L.ended||R(this.paused))}function V(){var t=this.buffered.length,e=this.buffered;if(0<S.getDurationRound()&&0<t){var n=t-1,i=e.end(n);I.onProgress(i/this.duration)}}function Y(){var t=b.front;t&&t.type!==a.VIDEO_TYPE.LIVE&&V.apply(this)}function H(){var t=b.front,e='AGE_19'===t.ageLimit;u.info('%c%s','color: #2074c0;','[video event] play - ',t&&t.type),P.resetCustomUI(e),R(this.paused),t&&t.type===a.VIDEO_TYPE.AD?w.pause(!1):(L.ended=!1,k.resumeNonLinearAd(),_.intervalStart()),s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onVideoStateChange,[a.PLAYER_VIDEO_STATE.PLAY,L.currentVideo.id,S.getCurrentTimeRound(),t&&t.type]),'pc'===r.platform&&N.clearRelatedTimer(),f=window.requestAnimationFrame(tt),v&&clearTimeout(v)}function F(){var t=b.front;if(u.info('%c%s','color: #2074c0;','[video event] playing'),P.resetCustomUI(),s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onVideoStateChange,[a.PLAYER_VIDEO_STATE.PLAYING,L.currentVideo.id,S.getCurrentTimeRound(),t&&t.type]),'pc'===r.platform||!C()){I.hideBlind();var e=this,n=setInterval(function(){0<e.currentTime&&(I.endSpinner(),o.StopWatch.has('startPlay')&&A.track(m.INITIAL_DELAY,{numeric1:o.StopWatch.stop('startPlay')}),o.StopWatch.has('rebuffering')&&A.track(m.REBUFFERING,{numeric1:o.StopWatch.stop('rebuffering')}),clearInterval(n)),t&&t.type!==a.VIDEO_TYPE.AD&&L.playbackRate!==S.getPlaybackRate()&&S.setPlaybackRate(L.playbackRate,!1)},150)}}function G(){var t=b.front;u.info('%c%s','color: #2074c0;','[video event] pause - ',t&&t.type,this.ended),R(this.paused),t&&t.type===a.VIDEO_TYPE.AD?w.pause(!0):(L.seeking||k.pauseNonLinearAd(),_.intervalStop()),s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onVideoStateChange,[a.PLAYER_VIDEO_STATE.PAUSE,L.currentVideo.id,S.getCurrentTimeRound(),t&&t.type]),'pc'===r.platform&&t&&t.type===a.VIDEO_TYPE.VOD&&this.ended&&L.isMenuOpened&&N.closeMenuBox(),L.modalContentActivated||t.type===a.VIDEO_TYPE.AD||I.showControl(!0),cancelAnimationFrame(f)}function q(){var t=b.front;t&&t.type!==a.VIDEO_TYPE.LIVE&&(L.seeking||(I.startSpinner(),o.StopWatch.has('seek')||o.StopWatch.has('startPlay')||o.StopWatch.start('rebuffering')))}function j(){u.info('%c%s','color: #2074c0;','[video event] volumechange -','mute:',this.muted,'volume:',this.volume);var t=b.front,e=this.muted,n=this.volume;t&&t.type===a.VIDEO_TYPE.AD&&w.setMute(e),'pc'===r.platform?N.toggleMuteUI(n,e):I.toggleMuteUI(e)}function K(){R(L.ended=!0),'pc'===r.platform?L.autoplay&&O.hasNextVideo()?(I.hideControl(),O.showWaiting(function(){s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onEndAutoPlayTimer)})):L.continuousPlay&&O.hasNextVideo()?I.hideControl():N.onEndVideo():(v&&clearTimeout(v),I.onEndVideo()),T.sendLeftBeaconData(),s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onPlayEnd),A.clear()}function X(t){var e=b.front,n=e.type===a.VIDEO_TYPE.AD;h=0,i.queue.emit('hide:customUI'),u.info('%c%s','color: #2074c0;','[video event] ended',e&&e.type,L.ended),g.checkAdsComplete(e,n,t),g.resolveCustomUI(e),g.complete(t)}function W(){X(!1)}function z(){var t=b.front,e=s.sdk.getDefaultCallbackParams(L.currentVideo);if(u.info('%c%s','color: #2074c0;','[video event] loadeddata -',t&&t.type,L.ended),L.ended||I.updateProgressTime(S.getCurrentTimeRound(),S.getDurationRound()),t&&t.type!==a.VIDEO_TYPE.LIVE&&V.apply(this),t&&t.type!==a.VIDEO_TYPE.AD){s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onLoadedContentVideo,e);var n=this.getAttribute('data-current-time');n&&(P.seekTo(n),this.removeAttribute('data-current-time'),this.play())}t&&t.type===a.VIDEO_TYPE.AD&&(w.load(),'end'===t.timeOffset&&w.extension.load())}function $(){'pc'===r.platform&&(I.setSize(),I.reSize()),u.info('%c%s','color: #2074c0;','[video event] loadedmetadata -',this.videoWidth,this.videoHeight)}function Q(){var t=b.front,e=this.error;if(u.info('%c%s','color: #2074c0;','[video event] error - ',t&&t.type,e),I.endSpinner(),e)switch(e.code){case MediaError.MEDIA_ERR_ABORTED:case MediaError.MEDIA_ERR_DECODE:case MediaError.MEDIA_ERR_NETWORK:i.queue.emit('show:error',{info:{code:l.UNAVAILABLE.NAME}});break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:var n=L.currentVideo;n.skipOnErrorOfAdApi||n.skipOnErrorOfAdContents?X(!0):i.queue.emit('show:error',{info:{code:l.UNAVAILABLE.NAME}})}else window.navigator.onLine?i.queue.emit('show:error',{info:{code:l.UNAVAILABLE.NAME}}):i.queue.emit('show:error',{info:{code:l.NETWORK_OFFLINE.NAME}});b.front&&'AD'===b.front.type&&w.error()}function J(){var t=b.front;t&&(t.type===a.VIDEO_TYPE.AD?k.hideNonLinearAd():(k.hideLinearAdContainer(),'pc'===r.platform?N.onLoadStart():I.onLoadStart()),u.info('%c%s','color: #2074c0;','[video event] loadstart'))}function Z(){u.info('%c%s','color: #2074c0;','[video event] suspend')}function tt(){I.onTimeUpdate(S.getCurrentTime(),S.getDurationRound()),f=window.requestAnimationFrame(tt)}function et(){}e=o.event,r=i.ua,a=i.constants,s=i.helpers,u=s.debug,n=i.ENV,l=a.ERROR.STATUS,h=d=c=0,p=s.device.isSupportCustomController(r),f=null,m=a.QOE.EVENT,v=null,g={checkAdsComplete:function(t,e,n){e?('start'===t.timeOffset?(L.isPrerollEnded=!0,o.StopWatch.start('startPlay')):'end'===t.timeOffset&&(L.isPostrollEnded=!0),k.inactivateAdControl(),n||w.complete()):(L.isPrerollEnded=!0,_.complete())},loadPostroll:function(t){L.isPrerollEnded&&!L.isPostrollEnded?(b.contents.push(L.currentVideo),P.startNextQueue(function(){K()}),t&&(L.isPostrollEnded=!0)):(L.allAdsCompleted=!0,K())},resolveCustomUI:function(t){'pc'!==r.platform&&C()&&(I.hideDefaultControl(),I.cancelFullscreen(S.el)),t&&t.type===a.VIDEO_TYPE.AD?k.hideLinearAdContainer():t&&t.type===a.VIDEO_TYPE.VOD&&k.hideNonLinearAd()},complete:function(t){var e=b.front;s.sdk.sendEventCallback(a.PLAYER_CALLBACK_NAME.onVideoStateChange,[a.PLAYER_VIDEO_STATE.ENDED,L.currentVideo.id,S.getCurrentTimeRound(),e&&e.type]),p?g.loadPostroll(t):K()}},y=function(t){e.on(t,'loadstart',J),e.on(t,'suspend',Z),e.on(t,'durationchange',D),e.on(t,'canplay',M),e.on(t,'timeupdate',x),e.on(t,'seeking',U),e.on(t,'seeked',B),e.on(t,'progress',Y),e.on(t,'play',H),e.on(t,'pause',G),e.on(t,'waiting',q),e.on(t,'playing',F),e.on(t,'volumechange',j),e.on(t,'ended',W),e.on(t,'loadeddata',z),e.on(t,'loadedmetadata',$),e.on(t,'error',Q),e.on(window,'beforeunload',function(){b.front&&'AD'===b.front.type&&w.close()})},et.prototype.init=function(t,e){this.videoEl=t.videoElement,y(this.videoEl,e)},t=et,i.addModule('event.video',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(n,e){'use strict';var t,g,y,s,i,o,r,a,E=n.loadModule('playlist.queue'),u=n.loadModule('parser.vmap'),l=n.loadModule('controller.state'),c=n.loadModule('qoe.tracker'),d=n.loadModule('player.shaka'),h=n.loadModule('player.html5'),p=n.loadModule('view.inline.pc'),f=n.loadModule('view.inline'),m=n.loadModule('view.cover'),v=n.loadModule('view.extension'),b=n.loadModule('controller.video'),T=n.loadModule('controller.live'),w=n.loadModule('controller.ad');function _(t){t.on('skip:ad',function(){'AD'===E.front.type&&'start'===E.front.timeOffset&&(l.isPrerollEnded=!0),b.startNextQueue()}),t.on('click:play:live',function(t){T.preStartVideo(t),s.log('click:play:live',t)}),t.on('click:play:vod',function(t){b.preStartVideo(t),s.log('click:play:vod',t)}),t.on('load:videoUrl',function(t,e){b.loadVideoResource(t),e&&'function'==typeof e&&e(),s.log('load:videoUrl',t)}),t.on('load:videoById',function(t,e){var n=l.currentVideo.id,i=l.currentVideo.profile;'VOD'===h.type?b.load(n,i,t,e):'LIVE'===h.type&&T.load(n,i,e),y.debug.tooltip('load:videoById',n,i,t,e)}),t.on('loadAndPlay:videoById',function(t,e,n,i,o){b.loadAndPlay(t,e,n,i,o),y.debug.tooltip('loadAndPlay:videoById',t,e,n,i,o)}),t.on('complete:impression',function(t){'success'===t.status&&(t.callback&&'function'==typeof t.callback&&t.callback(t),m&&m.onCompleteImpression(),v&&v.onCompleteImpression(),'pc'===o.platform?p.onCompleteImpression():f.onCompleteImpression(),s.info('%c%s','color: #20b408','2. [custom event] complete clip:impression',t))}),t.on('complete:raw',function(t){var e;s.info('%c%s','color: #20b408','3. [custom event] complete clip:raw',t),'success'!==t.status||(e=t.data.videoLocation)&&e.url?t.callback&&'function'==typeof t.callback&&t.callback(t):n.queue.emit('show:error',{info:{code:r.UNAVAILABLE.NAME}})}),t.on('complete:xylophone:vmap',function(t){var e,n,i,o,r=t.res,a=l.currentVideo;if(s.info('%c%s','color: #20b408','4. [custom event] complete:xylophone:vmap',t),'success'===t.status){if(r)for(n=0,o=(e=u.parse(r).adBreaks).length;n<o;n++)'start'===(i=e[n]).timeOffset?a.prerollReq=i:'end'===i.timeOffset&&(a.postrollReq=i);s.info('%c%s','color: #20b408','5. [custom event] complete:parse:vmap',a)}t.callback&&'function'==typeof t.callback&&t.callback()}),t.on('complete:xylophone:vast',function(t){'success'===t.status?(function(t){var e,n,i,o,r=null,a=t.res,s=t.req,u='ad_nonskip';if(a.ad&&a.ad[0]&&a.ad[0].in_line){r=(e=a.ad[0].in_line).creatives.creative||[];for(var l=0;l<r.length;l++){i=r[l].linear,o=r[l].id,n=r[l].creative_extensions&&r[l].creative_extensions.creative_extension||[];var c=i&&i.media_files.media_file[0].value,d=i&&y.date.hhmmssToDate(i.skipoffset),h='';d&&(u='ad_'+(h=d.getSeconds()));var p='';i&&i.video_clicks&&i.video_clicks.click_through&&(p=i.video_clicks.click_through.value);var f=e.advertiser,m=y.model.adClipBean(o,c,g.VIDEO_TYPE.AD,s.breakId,s.breakType,s.timeOffset,h,a.ad[0],r[l],n,p,f,u);if('start'===s.timeOffset){i&&E.prerolls.push(m);for(var v=0;v<n.length;v++)E.overlayAds.push(n[v])}'end'===s.timeOffset&&c&&E.postrolls.push(m)}}}(t),s.info('%c%s','color: #20b408','8. [custom event] complete:xylophone:vast',t)):'error'===t.status&&w.inactivateAdControl()}),t.on('complete:location',function(t){s.info('complete:location',t),'success'===t.status&&('pc'===o.platform&&(p.changeProfileLabel(),p.hideProfileList()),b.changeVideoResource()),t.callback&&'function'==typeof t.callback&&t.callback()}),t.on('set:videosource',function(){s.info('set:videosource')}),t.on('request:fullscreen',function(){'pc'===o.platform&&p.hideWide()}),t.on('cancel:fullscreen',function(){i.isInternal&&!i.popup&&'pc'===o.platform&&p.showWide()}),t.on('show:cover',function(){m.showCover()}),t.on('hide:cover',function(){m.hideCover()}),t.on('window:unload',function(){h.stop(),h.load(),s.info('unload:player')}),t.on('change:stream',function(){var t='',e='';l.needSetTrack?(l.needSetTrack=!1,d.getOutputs(function(){d.setTrack(l.currentVideo.profile),'pc'!==o.platform&&(v.setProfile(l.currentVideo.profile),f.setProfile(l.currentVideo.profile))})):((t=d.getPrevProfile())!==(e=d.getCurrentProfile())&&(c.track(a.RESOLUTION_CHANGE,{literal1:t,resolution:e}),d.setPrevProfile(e)),'pc'===o.platform?p.changeProfileLabel():f.setProfile(g.PROFILE.AUTO))}),t.on('shaka:buffering',function(t){t?(f.startSpinner(),e.StopWatch.has('seek')||e.StopWatch.has('startPlay')||e.StopWatch.start('rebuffering')):(f.endSpinner(),e.StopWatch.has('rebuffering')&&c.track(a.REBUFFERING,{numeric1:e.StopWatch.stop('rebuffering')}))}),t.on('shaka:error',function(){var t=h.getCurrentTime();c.track(a.PLAYBACK_FAIL,{literal1:t?'middle':'initail'}),c.clear()})}function A(){}g=n.constants,y=n.helpers,s=y.debug,i=n.ENV,o=n.ua,r=g.ERROR.STATUS,a=g.QOE.EVENT,A.prototype.init=function(t,e){_(e)},t=A,n.addModule('event.custom',new t)}(window.monet=void 0===window.monet?{}:window.monet,window.daumtools),function(){'use strict';var n=(window.monet=typeof window.monet==='undefined'?{}:window.monet).helpers;function t(){}function e(){}function i(t){this.player=t}t.prototype={load:function(){},loadAndPlay:function(){},play:function(){},pause:function(){},stop:function(){},seekTo:function(){},mute:function(){},unMute:function(){},setVolume:function(){},getDuration:function(){},increaseUpCnt:function(){},setListPlayMode:function(){},setRepeatMode:function(){},setVerticalMode:function(){},setAutoplayVisible:function(){},setContinuousPlay:function(){},unsetVerticalMode:function(){},popupUrl:function(){},setBeaconData:function(){},changeScreenType:function(){},setAutoPlayMode:function(){},setWideScreenMode:function(){},cancelFullScreen:function(){},setCallback:function(){},fireEvent:function(t,e){!function(t,e){n.sdk.sendEventCallback(t,e)}(t,e)}},(e.prototype=new t).loadAndPlay=function(t){window.daumVodPlayerPlay(t)},e.prototype.play=function(){window.daumVodPlayerVideoPlay(!0)},e.prototype.pause=function(){window.daumVodPlayerVideoPause(!0)},e.prototype.seekTo=function(t){window.daumVodPlayerSeek(t)},e.prototype.setVolume=function(t){window.daumVodPlayerSetVolume(100*t)},e.prototype.getDuration=function(){return window.daumVodPlayerPlayDuration()},e.prototype.increaseUpCnt=function(){window.daumVodPlayerIncreaseUpCnt()},e.prototype.setListPlayMode=function(t){window.daumVodPlayerListPlayMode(t)},e.prototype.setRepeatMode=function(t){window.daumVodPlayerRepeatMode(t)},e.prototype.setVerticalMode=function(){window.daumVodPlayerSetVerticalMode()},e.prototype.unsetVerticalMode=function(){window.daumVodPlayerUnsetVerticalMode()},e.prototype.popupUrl=function(t){window.popupBydaumVodPlayer(t)},e.prototype.changeScreenType=function(t){window.changeScreenType(t)},e.prototype.setCallback=function(t){window.apiMessenger&&window.apiMessenger.setCallback(t)},(i.prototype=new t).load=function(t,e,n){this.player.load(t,e,n)},i.prototype.loadAndPlay=function(t,e,n){this.player.loadAndPlay(t,e,n)},i.prototype.play=function(t){this.player.play(t)},i.prototype.pause=function(){this.player.pause()},i.prototype.stop=function(){this.player.stop()},i.prototype.seekTo=function(t){this.player.seekTo(t)},i.prototype.setVolume=function(t){this.player.setVolume(t)},i.prototype.mute=function(){this.player.setMute(!0)},i.prototype.unMute=function(){this.player.setMute(!1)},i.prototype.getDuration=function(){this.player.getDuration()},i.prototype.setBeaconData=function(t){this.player.setBeaconData(t)},i.prototype.setAutoPlayMode=function(t){this.player.setAutoPlayMode(t)},i.prototype.setNextVideo=function(t){this.player.setNextVideo(t)},i.prototype.setContinuousPlay=function(t){this.player.setContinuousPlay(t)},i.prototype.setAutoplayVisible=function(t){this.player.setAutoplayVisible(t)},i.prototype.setPlaybackRate=function(t){this.player.setPlaybackRate(t)},i.prototype.setWideScreenMode=function(t){this.player.setWideScreenMode(t)},i.prototype.cancelFullScreen=function(){this.player.cancelFullScreen()},i.prototype.setCallback=function(t){window.apiMessenger&&window.apiMessenger.setCallback(t)},window.FlashVodApiAdapter=e,window.Html5PlayerAdapter=i,window.registerApiAdapter=function(t){window.API=t},window.registerApiMessenger=function(i){function t(t){var e=t.data;try{e=JSON.parse(e)}catch(t){return}var n=e.action,i=e.args;window.API&&'function'==typeof window.API[n]&&window.API[n].apply(window.API,i)}var o;window.apiMessenger=(o=null,window.addEventListener?window.addEventListener('message',t):window.attachEvent&&window.attachEvent('onmessage',t),{setCallback:function(t){o=t},sendCallback:function(t,e){var n=null;n='function'==typeof t?t.name:t,o?'function'==typeof o[n]&&(void 0!==e?o[n].apply(window,e):o[n].apply(window)):function(t){try{window.postMessage&&i&&window!==parent&&parent.postMessage(JSON.stringify(t),'*')}catch(t){}}({action:n,args:e})}})}}(),function(n){'use strict';var i,o,r,e,a,s,u,l,c,d;function h(t,e){var n=u.store.get(c),i=u.store.get(d),o='';return t===s.PROFILE.AUTO&&'false'!==i?t:(o=n||t||e||s.PROFILE.BASE,u.feature.supportsVideoProfile(o)||(o=s.PROFILE.BASE),o)}(window.Player=function(t,e){this.init(t,e)}).prototype=(i=n.loadModule('player.html5'),o=n.loadModule('controller.video'),r=n.loadModule('controller.live'),e=n.loadModule('playlist.queue'),a=n.ua,s=n.constants,u=n.helpers,l=u.debug,c=s.STORAGE.PROFILE,d=s.STORAGE.ABR,{init:function(t,e){if(t.tagName&&'video'===t.tagName.toLowerCase())return this.videoElement=t,this.env=e.env||{},this.type=e.type||s.VIDEO_TYPE.VOD,this.html5=function(){return l.info('video type:',this.type),'pc'!==a.platform?i:a.browser.msie&&a.browser.version.major<9||'LIVE'===this.type?void 0:i}.bind(this)(),function(t){n.init(t)}(this),window.registerApiAdapter(new window.Html5PlayerAdapter(this)),l.info('player type:',this.type),l.info('player platform:',a.platform),this;l.log('video element is not exists, please check parameter for video element ')},loadAndPlay:function(t,e,n){this.profile=h(this.env.profile,e),'VOD'===this.type&&o.loadAndPlay(t,this.profile,n)},playLiveForList:function(t,e){'LIVE'===this.type&&r.playLiveForList(t,e)},load:function(t,e,n){this.profile=h(this.env.profile,e),'VOD'===this.type?o.load(t,this.profile,n):'LIVE'===this.type&&r.load(t,this.profile)},play:function(t){this.profile=this.env.profile||t||s.PROFILE.BASE,'VOD'===this.type?o.play(this.profile):'LIVE'===this.type&&r.play(this.profile)},pause:function(){o.pause()},stop:function(){o.stop()},seekTo:function(t){e.front?e.front.type===s.VIDEO_TYPE.AD&&u.env.isReal()?l.warn('seekTo function only working on vod or live',u.env.isReal()):o.seekTo(t):l.warn('seekTo function only working after play')},getDuration:function(){return o.getDuration()},setVolume:function(t){e.front?e.front.type!==s.VIDEO_TYPE.AD?'pc'===a.platform?(this.setMute(!1),o.setVolume(t)):l.warn('setVolume function only working on PC'):l.warn('setVolume function only working on vod or live'):l.warn('setVolume function only working after play')},setMute:function(t){o.setMute(t)},setAutoPlayMode:function(t){o.setAutoPlayMode(t)},setNextVideo:function(t){o.setNextVideo(t)},setContinuousPlay:function(t){o.setContinuousPlay(t)},setAutoplayVisible:function(t){o.setAutoplayVisible(t)},setBeaconData:function(t){o.setBeaconData(t)},setPlaybackRate:function(t){o.setPlaybackRate(t)},setWideScreenMode:function(t){o.setWideScreenMode(t)},cancelFullScreen:function(){o.cancelFullScreen()}})}(window.monet=void 0===window.monet?{}:window.monet);